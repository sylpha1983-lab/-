// Auto-generated bundle for section 'style'
// Contains 3 versions stacked in ascending order.

(function(){
// --- builder_ui.section.style.v1.js ---
(function(){
  "use strict";
  const VERSION = 1;
  const KEY = "style"; // â˜…æ–°ã‚«ãƒ†ã‚´ãƒªãƒ¼ID

  const STYLE_DATA = {
    "ðŸ¢ ã‚¢ãƒ‹ãƒ¡ã‚¹ã‚¿ã‚¸ã‚ª (Anime Studios)": [
      { ja: "äº¬éƒ½ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³", en: "kyoto animation, kyoani, detailed eyes" },
      { ja: "ufotable (å…‰ã®è¡¨ç¾)", en: "ufotable, unlimited blade works style, dynamic lighting" },
      { ja: "ã‚¹ã‚¿ã‚¸ã‚ªã‚¸ãƒ–ãƒª", en: "studio ghibli, hayao miyazaki style, vibrant colors" },
      { ja: "TRIGGER (ã‚­ãƒ¬ãƒ»è‰²)", en: "studio trigger, hiroyuki imaishi style, neon colors, sharp angles" },
      { ja: "SHAFT (æ¼”å‡º)", en: "shaft, akiyuki shinbo style, head tilt, abstract background" },
      { ja: "MAPPA (é«˜ç²¾ç´°)", en: "mappa, jujutsu kaisen style, detailed lines" },
      { ja: "WIT STUDIO (é‡åŽš)", en: "wit studio, attack on titan style, thick lines" },
      { ja: "A-1 Pictures", en: "a-1 pictures, sword art online style, clean lines" },
      { ja: "CloverWorks", en: "cloverworks, bocchi the rock style, expressive" },
      { ja: "P.A.WORKS (èƒŒæ™¯ç¾Ž)", en: "p.a. works, beautiful scenery, realistic background" },
      { ja: "å‹•ç”»å·¥æˆ¿ (ã‚«ãƒ¯ã‚¤ã‚¤)", en: "doga kobo, cute girls doing cute things, moe" },
      { ja: "ã‚µãƒ³ãƒ©ã‚¤ã‚º (ãƒ¡ã‚«)", en: "sunrise, mecha anime style, dramatic shadows" },
      { ja: "æ±æ˜ ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³", en: "toei animation, precure style, magical girl" },
      { ja: "Production I.G", en: "production i.g, ghost in the shell style, serious tone" },
      { ja: "ãƒœãƒ³ã‚º (ã‚¢ã‚¯ã‚·ãƒ§ãƒ³)", en: "bones, my hero academia style, dynamic action" },
      { ja: "ãƒžãƒƒãƒ‰ãƒã‚¦ã‚¹", en: "madhouse, no game no life style, high saturation" },
      { ja: "White Fox", en: "white fox, re:zero style" },
      { ja: "J.C.STAFF", en: "j.c.staff, railgun style" },
      { ja: "ã‚µãƒ†ãƒ©ã‚¤ãƒˆ", en: "satelight, macross style, gradients" },
      { ja: "ã‚ªãƒ¬ãƒ³ã‚¸ (3Dã‚¢ãƒ‹ãƒ¡)", en: "studio orange, houseki no kuni style, 3d anime, cg" }
    ],
    "ðŸ–Œï¸ æœ‰åã‚¤ãƒ©ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼ (Popular Illustrators)": [
      { ja: "Mika Pikazoé¢¨ (æ¥µå½©è‰²)", en: "mika pikazo style, vibrant colors, geometric background" },
      { ja: "ç±³å±±èˆžé¢¨ (ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ)", en: "yoneyama mai style, intense lighting, dynamic angle, crystal clear" },
      { ja: "LAMé¢¨ (ãƒ“ãƒ“ãƒƒãƒ‰)", en: "lam style, vivid contrast, sharp eyes, street style, makeup" },
      { ja: "æœ›æœˆã‘ã„é¢¨ (ã‚·ãƒ£ãƒ¼ãƒ—)", en: "kei mochizuki style, sharp lines, distinct fashion, cool" },
      { ja: "redjuiceé¢¨ (SF)", en: "redjuice style, biomechanical details, sci-fi, metallic texture" },
      { ja: "hukeé¢¨ (è³ªæ„Ÿ)", en: "huke style, black rock shooter style, gritty texture, dark atmosphere" },
      { ja: "Anmié¢¨ (é€æ˜Žæ„Ÿ)", en: "anmi style, soft lighting, translucent colors, airy" },
      { ja: "Tivé¢¨ (æƒ…ç·’)", en: "tiv style, emotional lighting, soft atmosphere, sentimental" },
      { ja: "ã‚«ãƒ³ãƒˆã‚¯é¢¨ (ãƒã‚§ãƒƒã‚¯æŸ„)", en: "kantoku style, plaid patterns, cute girl, bright colors" },
      { ja: "çˆç²è²´æ—é¢¨ (ãƒ•ã‚§ãƒ)", en: "coffee kizoku style, tights focus, glossy skin" },
      { ja: "Tonyé¢¨ (ç¾Žå°‘å¥³)", en: "tony taka style, glossy skin, blonde hair focus" },
      { ja: "æ·±å´Žæš®äººé¢¨ (å†´ãˆã‚«ãƒŽ)", en: "misaki kurehito style, high contrast, detailed clothes, realistic lighting" },
      { ja: "ãƒ¯ãƒ€ã‚¢ãƒ«ã‚³é¢¨ (Fate)", en: "wada arco style, distinct eyes, fate extra style, vibrant red" },
      { ja: "å²¸ç”°ãƒ¡ãƒ«é¢¨ (æ·¡ã„)", en: "kishida mel style, pastel colors, delicate, atelier series" },
      { ja: "é»’æ˜Ÿç´…ç™½é¢¨ (ã‚­ãƒŽ)", en: "kuroboshi kouhaku style, watercolor texture, soft edges" }
    ],
    "ðŸ–Œï¸ ãƒ¬ã‚¸ã‚§ãƒ³ãƒ‰ãƒ»ç‰¹å¾´çš„ä½œå®¶ (Legends & Distinctive)": [
      { ja: "æ–°å·æ´‹å¸é¢¨ (å¢¨çµµãƒ»MGS)", en: "yoji shinkawa style, ink brush, sketch style, sumi-e, artistic" },
      { ja: "å¤©é‡Žå–œå­é¢¨ (å¹»æƒ³ãƒ»FF)", en: "yoshitaka amano style, watercolor, wispy lines, fantasy, pale skin" },
      { ja: "æ‘ç”°è“®çˆ¾é¢¨ (ãƒ¬ãƒˆãƒ­æœªæ¥)", en: "range murata style, retro futuristic, soft shading, steampunk details" },
      { ja: "CLAMPé¢¨ (è¯éº—)", en: "clamp style, intricate details, flowing hair, long limbs, shoujo manga" },
      { ja: "é«˜æ©‹ç•™ç¾Žå­é¢¨ (80s)", en: "rumiko takahashi style, retro anime, 80s aesthetic, cel shading" },
      { ja: "è²žæœ¬ç¾©è¡Œé¢¨ (90s)", en: "yoshiyuki sadamoto style, 90s anime, clean lines, evangelion style" },
      { ja: "é³¥å±±æ˜Žé¢¨ (ãƒ¡ã‚«ãƒ»ç­‹è‚‰)", en: "akira toriyama style, sharp angles, retro shonen, detailed machinery" },
      { ja: "è’æœ¨é£›å‘‚å½¦é¢¨ (ã‚¸ãƒ§ã‚¸ãƒ§)", en: "hirohiko araki style, jojo pose, bold shading, menacing, sculpturesque" },
      { ja: "æ°´æœ¨ã—ã’ã‚‹é¢¨ (ç‚¹æãƒ»å¦–æ€ª)", en: "shigeru mizuki style, yokai, dots texture, dark atmosphere, hatched shadows" },
      { ja: "ä¼Šè—¤æ½¤äºŒé¢¨ (ãƒ›ãƒ©ãƒ¼)", en: "junji ito style, horror, detailed lines, spiral, grotesque" }
    ],
    "ðŸŽ® ã‚²ãƒ¼ãƒ ãƒ»ç‰¹å®šã‚¸ãƒ£ãƒ³ãƒ« (Game Styles)": [
      { ja: "ãƒšãƒ«ã‚½ãƒŠé¢¨ (å‰¯å³¶æˆè¨˜)", en: "shigenori soejima style, persona style, pop art, stylish ui, bold colors" },
      { ja: "ãƒ€ãƒ³ã‚¬ãƒ³ãƒ­ãƒ³ãƒ‘é¢¨ (å°æ¾å´Žé¡ž)", en: "danganronpa style, komatsuzaki rui style, pink blood, psycho pop, thick outlines" },
      { ja: "ã‚¢ã‚ºãƒ¼ãƒ«ãƒ¬ãƒ¼ãƒ³é¢¨ (ãƒ¡ã‚«å¨˜)", en: "azur lane style, detailed ship parts, mecha musume, wet skin" },
      { ja: "ãƒ–ãƒ«ãƒ¼ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–é¢¨ (æ¸…æ¶¼)", en: "blue archive style, halo, clear blue sky, clean anime art, bright" },
      { ja: "åŽŸç¥žãƒ»ãƒ›ãƒ¨ãƒé¢¨ (è£…é£¾)", en: "genshin impact style, hoyoverse style, anime cel shading, detailed accessories, fantasy" },
      { ja: "ã‚¢ãƒ¼ã‚¯ãƒŠã‚¤ãƒ„é¢¨ (ãƒ†ãƒƒã‚¯)", en: "arknights style, techwear, dark modern fantasy, tactical" },
      { ja: "ãƒã‚±ãƒ¢ãƒ³é¢¨ (æ‰æ£®å»º)", en: "ken sugimori style, watercolor texture, creature design, clean coloring" },
      { ja: "FFã‚¿ã‚¯ãƒ†ã‚£ã‚¯ã‚¹é¢¨ (å‰ç”°æ˜Žå½¦)", en: "akihiko yoshida style, pencil texture, nose shading, parchment paper background" },
      { ja: "ãƒ´ã‚¡ãƒ‹ãƒ©ã‚¦ã‚§ã‚¢é¢¨ (åŽšå¡—ã‚Š)", en: "vanillaware style, george kamitani, food illustration, 2d side scrolling art" }
    ]
  };

  const DICT = {
    // Studios
    "kyoto animation": "äº¬ã‚¢ãƒ‹", "ufotable": "ufotable", "studio ghibli": "ã‚¸ãƒ–ãƒª", "studio trigger": "TRIGGER",
    "shaft": "ã‚·ãƒ£ãƒ•ãƒˆ", "mappa": "MAPPA", "wit studio": "WIT", "a-1 pictures": "A-1",
    "cloverworks": "CloverWorks", "p.a. works": "PAãƒ¯ãƒ¼ã‚¯ã‚¹", "doga kobo": "å‹•ç”»å·¥æˆ¿",
    "sunrise": "ã‚µãƒ³ãƒ©ã‚¤ã‚º", "toei animation": "æ±æ˜ ", "production i.g": "I.G",
    "bones": "ãƒœãƒ³ã‚º", "madhouse": "ãƒžãƒƒãƒ‰ãƒã‚¦ã‚¹", "white fox": "White Fox",
    "j.c.staff": "J.C.STAFF", "satelight": "ã‚µãƒ†ãƒ©ã‚¤ãƒˆ", "studio orange": "ã‚ªãƒ¬ãƒ³ã‚¸",

    // Artists
    "mika pikazo style": "Mika Pikazoé¢¨", "yoneyama mai style": "ç±³å±±èˆžé¢¨", "lam style": "LAMé¢¨",
    "kei mochizuki style": "æœ›æœˆã‘ã„é¢¨", "redjuice style": "redjuiceé¢¨", "huke style": "hukeé¢¨",
    "anmi style": "Anmié¢¨", "tiv style": "Tivé¢¨", "kantoku style": "ã‚«ãƒ³ãƒˆã‚¯é¢¨",
    "coffee kizoku style": "çˆç²è²´æ—é¢¨", "tony taka style": "Tonyé¢¨", "misaki kurehito style": "æ·±å´Žæš®äººé¢¨",
    "wada arco style": "ãƒ¯ãƒ€ã‚¢ãƒ«ã‚³é¢¨", "kishida mel style": "å²¸ç”°ãƒ¡ãƒ«é¢¨", "kuroboshi kouhaku style": "é»’æ˜Ÿç´…ç™½é¢¨",
    "yoji shinkawa style": "æ–°å·æ´‹å¸é¢¨", "yoshitaka amano style": "å¤©é‡Žå–œå­é¢¨", "range murata style": "æ‘ç”°è“®çˆ¾é¢¨",
    "clamp style": "CLAMPé¢¨", "rumiko takahashi style": "é«˜æ©‹ç•™ç¾Žå­é¢¨", "yoshiyuki sadamoto style": "è²žæœ¬ç¾©è¡Œé¢¨",
    "akira toriyama style": "é³¥å±±æ˜Žé¢¨", "hirohiko araki style": "è’æœ¨é£›å‘‚å½¦é¢¨", "shigeru mizuki style": "æ°´æœ¨ã—ã’ã‚‹é¢¨",
    "junji ito style": "ä¼Šè—¤æ½¤äºŒé¢¨", "shigenori soejima style": "å‰¯å³¶æˆè¨˜é¢¨", "komatsuzaki rui style": "å°æ¾å´Žé¡žé¢¨",
    "ken sugimori style": "æ‰æ£®å»ºé¢¨", "akihiko yoshida style": "å‰ç”°æ˜Žå½¦é¢¨", "vanillaware style": "ãƒ´ã‚¡ãƒ‹ãƒ©ã‚¦ã‚§ã‚¢é¢¨"
  };

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      const root = container || document.querySelector("#list-style");
      if (!root) return;

      // äºŒé‡ãƒžã‚¦ãƒ³ãƒˆé˜²æ­¢ï¼ˆãƒ­ã‚°çˆ†å¢—ãƒ»DOMé‡è¤‡ã®èŠ½ã‚’æ‘˜ã‚€ï¼‰
      if (root.dataset && root.dataset.styleV1Mounted === "1") return;
      if (root.dataset) root.dataset.styleV1Mounted = "1";

      const createSub = (title, items) => {
        const details = document.createElement("details");
        details.className = "style-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #b197fc; border-radius:4px; background:#fff;";
        details.open = false;

        const summary = document.createElement("summary");
        summary.innerHTML = `${title} <span style="font-size:0.8em; color:#6741d9;">(Anime/Game)</span>`;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f3f0ff; color:#5f3dc4;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(150px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.style.marginRight = "6px";
          cb.dataset.val = item.en;
          cb.dataset.en  = item.en;
          cb.dataset.ja  = item.ja;
          label.appendChild(cb);
          label.appendChild(document.createTextNode(item.ja));
          label.title = item.en;
          content.appendChild(label);
        });

        details.appendChild(content);
        return details;
      };

      // æ—¢å­˜ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ãŒã‚ã‚Œã°ä½¿ã„ã€ãªã‘ã‚Œã°ä½œã‚‹ï¼ˆè¡çªã—ã‚„ã™ã„ section-content ã¯é¿ã‘ã‚‹ï¼‰
      const sectionContent = root.querySelector(".style-section-content") || (() => {
        const d = document.createElement("div");
        d.className = "style-section-content";
        root.appendChild(d);
        return d;
      })();

      Object.entries(STYLE_DATA).forEach(([key, val]) => {
        sectionContent.appendChild(createSub(key, val));
      });
    },

    getTags() {
      // è‡ªåˆ†ã®ç®¡ç†ä¸‹ã®ã‚¿ã‚°ã‚’åŽé›†
      const tags = [];
      const root = document.querySelector("#list-style");
      if(root){
        root.querySelectorAll("input[type='checkbox']:checked").forEach(cb => {
          if(cb.dataset.val) tags.push(cb.dataset.val);
        });
      }
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();
})();

(function(){
// --- builder_ui.section.style.v2.js ---
(function(){
  "use strict";
  const VERSION = 2;
  const KEY = "style";

  // --- ã“ã“ã‹ã‚‰ä¸‹ã® STYLE_DATA / DICT ã¯ä¸€åˆ‡å‰Šã‚‰ãšåŽŸæ–‡ãã®ã¾ã¾ ---
  const STYLE_DATA = {
    "ðŸ–Œï¸ ã‚¢ãƒŠãƒ­ã‚°ç”»æãƒ»æç”»æŠ€æ³• (Traditional Media)": [
      { ja: "è‰²é‰›ç­†ç”»", en: "colored pencil drawing, hatching, soft colors" },
      { ja: "æœ¨ç‚­ç”» (ãƒãƒ£ã‚³ãƒ¼ãƒ«)", en: "charcoal drawing, smudge, rough sketch, grayscale" },
      { ja: "ãƒ‘ã‚¹ãƒ†ãƒ«ç”»", en: "pastel painting, soft texture, chalky, gentle atmosphere" },
      { ja: "ã‚¯ãƒ¬ãƒ¨ãƒ³ãƒ»è½æ›¸ã", en: "crayon drawing, childish drawing, wax texture, doodles" },
      { ja: "ã‚¢ã‚¯ãƒªãƒ«ã‚¬ãƒƒã‚·ãƒ¥", en: "acrylic painting, matte finish, vibrant opaque colors" },
      { ja: "ã‚¨ã‚¢ãƒ–ãƒ©ã‚· (80s)", en: "airbrush art, smooth gradients, retro 80s style" },
      { ja: "ã‚¹ãƒ—ãƒ¬ãƒ¼ã‚¢ãƒ¼ãƒˆ", en: "spray paint art, graffiti style, drips, stencil" },
      { ja: "ã‚¤ãƒ³ã‚¯ãƒ»ä¸‡å¹´ç­†", en: "ink drawing, fountain pen, cross-hatching, high contrast" },
      { ja: "ç­†ãƒšãƒ³ãƒ»æ›¸é“", en: "brush pen, calligraphy, sumi-e, bold strokes, splashing ink" },
      { ja: "é»’æ¿ã‚¢ãƒ¼ãƒˆ", en: "chalkboard art, chalk drawing, blackboard background" },
      { ja: "ã‚¹ã‚¯ãƒ©ãƒƒãƒã‚¢ãƒ¼ãƒˆ", en: "scratchboard, rainbow colors under black, etching" },
      { ja: "ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¯", en: "alcohol ink art, fluid art, marble texture, flowing colors" },
      { ja: "ãƒ†ãƒ³ãƒšãƒ©ç”»", en: "tempera painting, egg tempera, classical matte" },
      { ja: "ãƒ•ãƒ¬ã‚¹ã‚³ç”»", en: "fresco painting, wall painting, plaster texture, ancient style" },
      { ja: "éŠ…ç‰ˆç”» (ã‚¨ãƒƒãƒãƒ³ã‚°)", en: "etching, copperplate print, fine lines, intaglio" }
    ],
    "ðŸ›ï¸ å¤å…¸ãƒ»èŠ¸è¡“é‹å‹• (Classic Movements)": [
      { ja: "ã‚¢ãƒ¼ãƒ«ãƒ»ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼ (è£…é£¾)", en: "art nouveau, mucha style, intricate floral decoration, elegant curves" },
      { ja: "ã‚¢ãƒ¼ãƒ«ãƒ»ãƒ‡ã‚³ (å¹¾ä½•å­¦)", en: "art deco, geometric patterns, gold and black, luxury, 1920s style" },
      { ja: "å°è±¡æ´¾ (å…‰ã¨è‰²)", en: "impressionism, claude monet style, visible brushstrokes, light reflection" },
      { ja: "ã‚­ãƒ¥ãƒ“ã‚ºãƒ  (å¤šè¦–ç‚¹)", en: "cubism, picasso style, abstract geometric shapes, fragmented" },
      { ja: "ã‚·ãƒ¥ãƒ«ãƒ¬ã‚¢ãƒªã‚¹ãƒ  (å¤¢)", en: "surrealism, salvador dali style, dreamlike, melting objects, impossible geometry" },
      { ja: "ãƒãƒ­ãƒƒã‚¯ (é‡åŽš)", en: "baroque style, dramatic lighting, chiaroscuro, ornate, dynamic movement" },
      { ja: "ãƒ­ã‚³ã‚³ (å„ªç¾Ž)", en: "rococo style, pastel colors, frills, elegant, aristocratic" },
      { ja: "ã‚´ã‚·ãƒƒã‚¯ (æš—é»’)", en: "gothic art, dark atmosphere, stained glass, pointed arches, melancholy" },
      { ja: "ãƒ«ãƒã‚µãƒ³ã‚¹ (å¤å…¸)", en: "renaissance style, michelangelo style, anatomical realism, religious themes" },
      { ja: "è±¡å¾´ä¸»ç¾©", en: "symbolism, mystical, dreamlike, mythological" },
      { ja: "è¡¨ç¾ä¸»ç¾©", en: "expressionism, distorted, emotional, bold colors, edvard munch style" },
      { ja: "ãƒ•ã‚©ãƒ¼ãƒ´ã‚£ã‚ºãƒ  (é‡Žç£æ´¾)", en: "fauvism, wild colors, matisse style, unrealistic colors" }
    ],
    "ðŸ§¶ å·¥èŠ¸ãƒ»ç´ ææ„Ÿ (Crafts & Materials)": [
      { ja: "ã‚¹ãƒ†ãƒ³ãƒ‰ã‚°ãƒ©ã‚¹", en: "stained glass, colorful light, black outlines, church window" },
      { ja: "åˆ‡ã‚Šçµµãƒ»ã‚·ãƒ£ãƒ‰ãƒ¼ãƒœãƒƒã‚¯ã‚¹", en: "paper cutout art, layered paper, shadow box, depth, silhouette" },
      { ja: "æŠ˜ã‚Šç´™", en: "origami style, folded paper, geometric faceted, paper texture" },
      { ja: "ãƒšãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ãƒ•ãƒˆ", en: "papercraft, assembled paper model, low poly" },
      { ja: "ãƒ¢ã‚¶ã‚¤ã‚¯ç”»", en: "mosaic art, tile pattern, ceramic fragments" },
      { ja: "åˆºç¹ãƒ»ã‚¹ãƒ†ãƒƒãƒ", en: "embroidery, cross stitch, fabric texture, sewn thread" },
      { ja: "ç·¨ã¿ç‰© (ãƒ‹ãƒƒãƒˆ)", en: "knitted texture, wool, amigurumi, soft plush" },
      { ja: "ãƒ•ã‚§ãƒ«ãƒˆäººå½¢", en: "needle felt, felt texture, fuzzy, soft toy" },
      { ja: "ç²˜åœŸ (ã‚¯ãƒ¬ã‚¤ã‚¢ãƒ‹ãƒ¡)", en: "claymation, plasticine, stop motion style, fingerprints" },
      { ja: "é™¶ç£å™¨ãƒ»ãƒãƒ¼ã‚»ãƒªãƒ³", en: "porcelain, ceramic texture, glossy, painted pottery" },
      { ja: "é‡‘ç¶™ãŽ", en: "kintsugi, broken and repaired with gold, wabi-sabi" },
      { ja: "ãƒ©ãƒ†ã‚¢ãƒ¼ãƒˆ", en: "latte art, coffee foam, brown and white, cup view" },
      { ja: "æ°·å½«åˆ»", en: "ice sculpture, transparent, melting, cold atmosphere" }
    ]
  };

  const DICT = {
    "colored pencil drawing": "è‰²é‰›ç­†ç”»", "charcoal drawing": "æœ¨ç‚­ç”»", "crayon drawing": "ã‚¯ãƒ¬ãƒ¨ãƒ³ç”»",
    "pastel painting": "ãƒ‘ã‚¹ãƒ†ãƒ«ç”»", "acrylic painting": "ã‚¢ã‚¯ãƒªãƒ«ç”»", "airbrush art": "ã‚¨ã‚¢ãƒ–ãƒ©ã‚·ç”»",
    "spray paint art": "ã‚¹ãƒ—ãƒ¬ãƒ¼ã‚¢ãƒ¼ãƒˆ", "ink drawing": "ã‚¤ãƒ³ã‚¯ç”»", "brush pen": "ç­†ãƒšãƒ³",
    "chalkboard art": "é»’æ¿ã‚¢ãƒ¼ãƒˆ", "scratchboard": "ã‚¹ã‚¯ãƒ©ãƒƒãƒã‚¢ãƒ¼ãƒˆ", "alcohol ink art": "ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¯",
    "tempera painting": "ãƒ†ãƒ³ãƒšãƒ©ç”»", "fresco painting": "ãƒ•ãƒ¬ã‚¹ã‚³ç”»", "etching": "éŠ…ç‰ˆç”»",
    "art nouveau": "ã‚¢ãƒ¼ãƒ«ãƒ»ãƒŒãƒ¼ãƒ´ã‚©ãƒ¼", "art deco": "ã‚¢ãƒ¼ãƒ«ãƒ»ãƒ‡ã‚³", "impressionism": "å°è±¡æ´¾",
    "cubism": "ã‚­ãƒ¥ãƒ“ã‚ºãƒ ", "surrealism": "ã‚·ãƒ¥ãƒ«ãƒ¬ã‚¢ãƒªã‚¹ãƒ ", "baroque style": "ãƒãƒ­ãƒƒã‚¯",
    "rococo style": "ãƒ­ã‚³ã‚³", "gothic art": "ã‚´ã‚·ãƒƒã‚¯", "renaissance style": "ãƒ«ãƒã‚µãƒ³ã‚¹",
    "symbolism": "è±¡å¾´ä¸»ç¾©", "expressionism": "è¡¨ç¾ä¸»ç¾©", "fauvism": "ãƒ•ã‚©ãƒ¼ãƒ´ã‚£ã‚ºãƒ ",
    "stained glass": "ã‚¹ãƒ†ãƒ³ãƒ‰ã‚°ãƒ©ã‚¹", "paper cutout art": "åˆ‡ã‚Šçµµ", "origami style": "æŠ˜ã‚Šç´™é¢¨",
    "papercraft": "ãƒšãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ãƒ•ãƒˆ", "mosaic art": "ãƒ¢ã‚¶ã‚¤ã‚¯ç”»", "embroidery": "åˆºç¹",
    "knitted texture": "ãƒ‹ãƒƒãƒˆé¢¨", "needle felt": "ãƒ•ã‚§ãƒ«ãƒˆé¢¨", "claymation": "ã‚¯ãƒ¬ã‚¤ã‚¢ãƒ‹ãƒ¡é¢¨",
    "porcelain": "é™¶ç£å™¨é¢¨", "kintsugi": "é‡‘ç¶™ãŽ", "latte art": "ãƒ©ãƒ†ã‚¢ãƒ¼ãƒˆ", "ice sculpture": "æ°·å½«åˆ»"
  };
  // --- åŽŸæ–‡ã“ã“ã¾ã§ ---

  function resolveRoot(container){
    return container || document.querySelector("#list-style");
  }

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      const root = resolveRoot(container);
      if (!root) return;

      // âœ… äºŒé‡ãƒžã‚¦ãƒ³ãƒˆé˜²æ­¢ï¼ˆãƒ­ã‚°çˆ†å¢—ãƒ»DOMå¢—æ®–ã‚’æ­¢ã‚ã‚‹ï¼‰
      if (root.dataset && root.dataset.styleV2Mounted === "1") return;
      if (root.dataset) root.dataset.styleV2Mounted = "1";

      const createSub = (title, items) => {
        const details = document.createElement("details");
        details.className = "style-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #b197fc; border-radius:4px; background:#fff;";
        details.open = false;

        const summary = document.createElement("summary");
        summary.innerHTML = `${title} <span style="font-size:0.8em; color:#6741d9;">(Classic)</span>`;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f3f0ff; color:#5f3dc4;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(150px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";

          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.style.marginRight = "6px";

          // âœ… æ—¢å­˜äº’æ›ã‚’å£Šã•ãšã€ä»Šå¾Œã®ç¿»è¨³ãƒ»åŒæœŸã«å¼·ã„å±žæ€§ã‚’è¿½åŠ 
          cb.dataset.val = item.en;
          cb.dataset.en  = item.en;
          cb.dataset.ja  = item.ja;

          label.appendChild(cb);
          label.appendChild(document.createTextNode(item.ja));
          label.title = item.en;
          content.appendChild(label);
        });

        details.appendChild(content);
        return details;
      };

      // âœ… core ã¨è¡çªã—ã‚„ã™ã„ ".section-content" ã¯ä½¿ã‚ãªã„ï¼ˆèŠ½ã‚’æ‘˜ã‚€ï¼‰
      //    style v1ä¿®æ­£ç‰ˆã¨åŒã˜ ".style-section-content" ã‚’å…±æœ‰ã™ã‚‹
      const styleHost = root.querySelector(".style-section-content") || (() => {
        const d = document.createElement("div");
        d.className = "style-section-content";
        root.appendChild(d);
        return d;
      })();

      // âœ… v2ãŒç”Ÿæˆã—ãŸç¯„å›²ã‚’å›²ã†ï¼ˆå°†æ¥ getTags ã‚’åˆ†é›¢ã—ã‚„ã™ã„ï¼‰
      const v2Container = document.createElement("div");
      v2Container.className = "style-v2-container";
      styleHost.appendChild(v2Container);

      Object.entries(STYLE_DATA).forEach(([key, val]) => {
        v2Container.appendChild(createSub(key, val));
      });
    },

    getTags() {
      const tags = [];
      const parent = document.querySelector("#list-style");
      if (!parent) return tags;

      // âœ… v2ãŒä½œã£ãŸç¯„å›²ã ã‘æ‹¾ã†ï¼ˆå°†æ¥ã®åˆç®—æ–¹å¼ã§ã‚‚å®‰å…¨ï¼‰
      const box = parent.querySelector(".style-v2-container");
      if (!box) return tags;

      box.querySelectorAll("input[type='checkbox']:checked").forEach(cb => {
        if (cb.dataset && cb.dataset.val) tags.push(cb.dataset.val);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();
})();

(function(){
// --- builder_ui.section.style.v3.js ---
(function(){
  "use strict";
  const VERSION = 3;
  const KEY = "style";

  // ===== ä¸­èº«ã¯å®Œå…¨ã«å…ƒã®ã¾ã¾ =====
  const STYLE_DATA = {
        "ðŸ§¸ ãƒ›ãƒ“ãƒ¼ãƒ»ç«‹ä½“ã‚¹ã‚¿ã‚¤ãƒ« (Hobby & Figures)": [
      
      { ja: "ã­ã‚“ã©ã‚ã„ã©é¢¨", en: "nendoroid style, super deformed figure, big head small body, glossy plastic" },
      { ja: "ãƒ•ã‚£ã‚®ãƒ¥ã‚¢é¢¨", en: "figure style, collectible figure, detailed sculpt, painted, manufactured look" },
      { ja: "PVCãƒ•ã‚£ã‚®ãƒ¥ã‚¢é¢¨", en: "PVC figure style, glossy PVC material, painted figure, premium collectible" },
      { ja: "ã‚¢ã‚¯ãƒªãƒ«ã‚¹ã‚¿ãƒ³ãƒ‰é¢¨", en: "acrylic standee, acrylic stand merchandise, clear acrylic plate, printed acrylic, die-cut standee, small acrylic base" },
      { ja: "ãƒ©ãƒãƒ¼ã‚¹ãƒˆãƒ©ãƒƒãƒ—é¢¨", en: "rubber strap merchandise, silicone keychain charm, rubber keychain, flat chibi design, thick outline, molded rubber edges, keychain loop" },
      { ja: "ã‚¹ã‚±ãƒ¼ãƒ«ãƒ•ã‚£ã‚®ãƒ¥ã‚¢é¢¨", en: "scale figure style, 1/7 scale figure, museum-quality paint, fine gradients, premium collectible" },
      { ja: "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ•ã‚£ã‚®ãƒ¥ã‚¢é¢¨", en: "action figure, articulated joints, visible seams, hinge joints, interchangeable parts" },
      { ja: "ãƒ—ãƒ©ãƒ¢ãƒ‡ãƒ«é¢¨", en: "plastic model style, scale model, panel lines, plastic texture, sprue marks" },
      { ja: "ã‚¬ãƒ¬ãƒ¼ã‚¸ã‚­ãƒƒãƒˆé¢¨", en: "garage kit style, resin kit, hand-painted, unassembled parts" },
      { ja: "ç®±çµµãƒ»ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é¢¨", en: "box art, product package design, retail packaging, promotional image" },
      { ja: "ãƒ–ãƒªã‚¹ã‚¿ãƒ¼æ¢±åŒ…é¢¨", en: "blister packaging, clear plastic blister, backing card, retail display" },
      { ja: "å°åº§ãƒ»ãƒãƒ¼ãƒ ãƒ—ãƒ¬ãƒ¼ãƒˆ", en: "display base, pedestal, nameplate, acrylic stand, premium display" },
      { ja: "ã‚¹ã‚¿ã‚¸ã‚ªç‰©æ’®ã‚Š", en: "product photography, lightbox, seamless backdrop, softbox lighting, clean studio" },
      { ja: "å›žè»¢å°ã‚·ãƒ§ãƒƒãƒˆ", en: "turntable shot, 360 product view, centered composition" },
      { ja: "ãƒžã‚¯ãƒ­å¡—è£…ãƒ‡ã‚£ãƒ†ãƒ¼ãƒ«", en: "macro shot, paintwork details, decals, clear coat, tiny scratches" },
      { ja: "ãƒˆã‚¤å†™çœŸé¢¨", en: "toy photography, miniature diorama, shallow depth of field" }
    
    ],
    "ðŸŽ¤ MMDãƒ»3Dãƒ€ãƒ³ã‚¹CG ã‚»ãƒƒãƒˆ (MMD / Dance CG)": [
      { ja: "style: MMDé¢¨", en: "style: MMD style, miku miku dance, 3D anime character, dance pose" },
      { ja: "style: ã‚»ãƒ«ãƒ«ãƒƒã‚¯3D", en: "style: cel-shaded 3D, toon shader, anime 3D render" },
      { ja: "light: ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ©ã‚¤ãƒˆ", en: "light: concert stage lighting, spotlights, glow sticks, lens flare" },
      { ja: "effect: ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ–ãƒ©ãƒ¼å¼·ã‚", en: "effect: motion blur, dynamic movement, dancing" },
      { ja: "atmosphere: ãƒ©ã‚¤ãƒ–ä¼šå ´ã®ç©ºæ°—æ„Ÿ", en: "atmosphere: concert atmosphere, haze, bloom, crowd silhouettes" },
      { ja: "light: ãƒ“ãƒ¼ãƒˆåŒæœŸãƒ©ã‚¤ãƒˆ", en: "light: beat-synced lights, rhythm lighting, pulsating stage lights" },
      { ja: "effect: ãƒ¬ãƒ¼ã‚¶ãƒ¼æ¼”å‡º", en: "effect: laser beams, stage lasers, club lighting" },
      { ja: "effect: ã‚¹ãƒ¢ãƒ¼ã‚¯ï¼†ãƒ˜ã‚¤ã‚º", en: "effect: stage smoke, haze machine, volumetric haze" },
      { ja: "background: LEDã‚¹ã‚¯ãƒªãƒ¼ãƒ³èƒŒæ™¯", en: "background: LED screen backdrop, VJ visuals, stage screen" },
      { ja: "light: ãƒªãƒ ãƒ©ã‚¤ãƒˆå¼·ã‚", en: "light: strong rim light, backlight, stage backlight" },
      { ja: "camera: ãƒ€ã‚¤ãƒŠãƒŸãƒƒã‚¯ã‚«ãƒ¡ãƒ©", en: "camera: dynamic camera angle, wide-angle lens, performance shot" },
      { ja: "effect: æ®‹åƒãƒ»è»Œè·¡ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ", en: "effect: afterimage effect, motion trails, light trails" }
    ],
    "ðŸ”® ãƒãƒƒãƒˆãƒ»ç¾Žå­¦ (Internet Aesthetics)": [
      { ja: "ãƒ´ã‚§ã‚¤ãƒ‘ãƒ¼ã‚¦ã‚§ã‚¤ãƒ´", en: "vaporwave, aesthetic, neon pink and blue, retro computer, greek statues, glitch" },
      { ja: "ã‚·ãƒ³ã‚»ã‚¦ã‚§ã‚¤ãƒ´ (80s)", en: "synthwave, retrowave, neon grid, sunset, futuristic 80s, outrun" },
      { ja: "ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ (Lo-Fi)", en: "lo-fi aesthetic, grainy, nostalgic, muted colors, anime study girl style" },
      { ja: "ã‚³ãƒ†ãƒ¼ã‚¸ã‚³ã‚¢ (ç”°èˆŽ)", en: "cottagecore, nature, flowers, rustic, peaceful, picnic, sunlight" },
      { ja: "ãƒ€ãƒ¼ã‚¯ã‚¢ã‚«ãƒ‡ãƒŸã‚¢", en: "dark academia, library, vintage books, tweed, coffee, gloomy, intellectual" },
      { ja: "ã‚´ãƒ–ãƒªãƒ³ã‚³ã‚¢", en: "goblincore, moss, mushrooms, frogs, earth tones, nature, clutter" },
      { ja: "ãƒ‰ãƒªãƒ¼ãƒ ã‚³ã‚¢ (å¤¢)", en: "dreamcore, surreal, nostalgia, uncanny, bright colors, fuzzy, liminal" },
      { ja: "ãƒªãƒŸãƒŠãƒ«ã‚¹ãƒšãƒ¼ã‚¹", en: "liminal space, empty rooms, eerie, backrooms, fluorescent light, uncanny" },
      { ja: "ã‚«ãƒ¯ã‚¤ã‚¤ã‚³ã‚¢", en: "kawaiicore, pastel colors, cute accessories, plushies, pink overload" },
      { ja: "Y2K (2000å¹´ä»£)", en: "y2k aesthetic, chrome, futuristic, glossy, holographic, transparent tech" }
    ],
    "âš™ï¸ ãƒ‘ãƒ³ã‚¯ãƒ»SFã‚µãƒ–ã‚¸ãƒ£ãƒ³ãƒ« (Punks)": [
      { ja: "ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯", en: "cyberpunk, high tech low life, neon lights, cybernetics, night city" },
      { ja: "ã‚¹ãƒãƒ¼ãƒ ãƒ‘ãƒ³ã‚¯ (è’¸æ°—)", en: "steampunk, brass, gears, victorian tech, goggles, steam engines" },
      { ja: "ã‚½ãƒ¼ãƒ©ãƒ¼ãƒ‘ãƒ³ã‚¯ (è‡ªç„¶)", en: "solarpunk, green tech, nature and technology, stained glass, bright sunlight" },
      { ja: "ãƒ‡ã‚£ãƒ¼ã‚¼ãƒ«ãƒ‘ãƒ³ã‚¯", en: "dieselpunk, 1940s tech, oil, war machines, steel, grime" },
      { ja: "ãƒã‚¤ã‚ªãƒ‘ãƒ³ã‚¯", en: "biopunk, organic tech, flesh, genetic engineering, glowing plants" },
      { ja: "ã‚¢ãƒˆãƒ ãƒ‘ãƒ³ã‚¯ (50s)", en: "atompunk, 1950s retro futurism, space age, atomic power, googie architecture" }
    ],
    "ðŸ’» ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³æ§˜å¼ (Digital & Design)": [
      { ja: "ãƒ”ã‚¯ã‚»ãƒ«ã‚¢ãƒ¼ãƒˆ (ãƒ‰ãƒƒãƒˆ)", en: "pixel art, 16-bit, retro game sprite, dithering" },
      { ja: "ãƒœã‚¯ã‚»ãƒ« (ç®±åº­)", en: "voxel art, minecraft style, 3d blocks, isometric view" },
      { ja: "ãƒ­ãƒ¼ãƒãƒªã‚´ãƒ³", en: "low poly, faceted, 3d render, minimalist, sharp edges" },
      { ja: "ãƒ™ã‚¯ã‚¿ãƒ¼ã‚¢ãƒ¼ãƒˆ", en: "vector art, flat color, clean lines, illustrator style" },
      { ja: "ã‚°ãƒªãƒƒãƒã‚¢ãƒ¼ãƒˆ", en: "glitch art, datamoshing, digital noise, corrupted image, rgb shift" },
      { ja: "ãƒ•ãƒ©ãƒƒãƒˆãƒ‡ã‚¶ã‚¤ãƒ³", en: "flat design, minimalist, simple shapes, bright colors" },
      { ja: "ãƒ¡ãƒ³ãƒ•ã‚£ã‚¹ (80s)", en: "memphis design, geometric shapes, squiggly lines, pastel and bold colors, 80s pattern" },
      { ja: "ãƒ–ãƒ«ãƒ¼ã‚¿ãƒªã‚ºãƒ ", en: "brutalism, concrete, blocky, monolithic, raw, utilitarian" },
      { ja: "ãƒãƒƒãƒ—ã‚¢ãƒ¼ãƒˆ", en: "pop art style, bold colors, halftone dots, comic book style, andy warhol style" }
    ],
    "ðŸ“¸ å†™çœŸãƒ»æ˜ åƒã‚¹ã‚¿ã‚¤ãƒ« (Photo & Film)": [
      { ja: "ãƒ•ã‚£ãƒ«ãƒ ãƒŽãƒ¯ãƒ¼ãƒ«", en: "film noir, high contrast, black and white, dramatic shadows, crime movie style" },
      { ja: "ãƒ´ã‚£ãƒ³ãƒ†ãƒ¼ã‚¸å†™çœŸ", en: "vintage photo, sepia tone, scratches, faded colors, old paper texture" },
      { ja: "ãƒãƒ©ãƒ­ã‚¤ãƒ‰", en: "polaroid style, flash photography, vignette, soft colors" },
      { ja: "ãƒ€ãƒ–ãƒ«éœ²å…‰", en: "double exposure, silhouette, superimposed images, nature and portrait blend" },
      { ja: "èµ¤å¤–ç·šå†™çœŸ", en: "infrared photography, white foliage, surreal colors, dreamlike" },
      { ja: "é­šçœ¼ãƒ¬ãƒ³ã‚º", en: "fisheye lens, distorted perspective, nose close up, dynamic" },
      { ja: "ãƒ†ã‚£ãƒ«ãƒˆã‚·ãƒ•ãƒˆ (ãƒŸãƒ‹ãƒãƒ¥ã‚¢)", en: "tilt-shift, miniature effect, blur top and bottom, high angle" }
    ]
  };

  const DICT = {
    "vaporwave": "ãƒ´ã‚§ã‚¤ãƒ‘ãƒ¼ã‚¦ã‚§ã‚¤ãƒ´", "synthwave": "ã‚·ãƒ³ã‚»ã‚¦ã‚§ã‚¤ãƒ´", "lo-fi aesthetic": "ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤",
    "cottagecore": "ã‚³ãƒ†ãƒ¼ã‚¸ã‚³ã‚¢", "dark academia": "ãƒ€ãƒ¼ã‚¯ã‚¢ã‚«ãƒ‡ãƒŸã‚¢", "goblincore": "ã‚´ãƒ–ãƒªãƒ³ã‚³ã‚¢",
    "dreamcore": "ãƒ‰ãƒªãƒ¼ãƒ ã‚³ã‚¢", "liminal space": "ãƒªãƒŸãƒŠãƒ«ã‚¹ãƒšãƒ¼ã‚¹", "kawaiicore": "ã‚«ãƒ¯ã‚¤ã‚¤ã‚³ã‚¢", "y2k aesthetic": "Y2K",
    "cyberpunk": "ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯", "steampunk": "ã‚¹ãƒãƒ¼ãƒ ãƒ‘ãƒ³ã‚¯", "solarpunk": "ã‚½ãƒ¼ãƒ©ãƒ¼ãƒ‘ãƒ³ã‚¯",
    "dieselpunk": "ãƒ‡ã‚£ãƒ¼ã‚¼ãƒ«ãƒ‘ãƒ³ã‚¯", "biopunk": "ãƒã‚¤ã‚ªãƒ‘ãƒ³ã‚¯", "atompunk": "ã‚¢ãƒˆãƒ ãƒ‘ãƒ³ã‚¯",
    "pixel art": "ãƒ‰ãƒƒãƒˆçµµ", "voxel art": "ãƒœã‚¯ã‚»ãƒ«", "low poly": "ãƒ­ãƒ¼ãƒãƒª",
    "vector art": "ãƒ™ã‚¯ã‚¿ãƒ¼ç”»", "glitch art": "ã‚°ãƒªãƒƒãƒã‚¢ãƒ¼ãƒˆ", "flat design": "ãƒ•ãƒ©ãƒƒãƒˆãƒ‡ã‚¶ã‚¤ãƒ³",
    "memphis design": "ãƒ¡ãƒ³ãƒ•ã‚£ã‚¹", "brutalism": "ãƒ–ãƒ«ãƒ¼ã‚¿ãƒªã‚ºãƒ ", "pop art style": "ãƒãƒƒãƒ—ã‚¢ãƒ¼ãƒˆ",
    "film noir": "ãƒ•ã‚£ãƒ«ãƒ ãƒŽãƒ¯ãƒ¼ãƒ«", "vintage photo": "ãƒ´ã‚£ãƒ³ãƒ†ãƒ¼ã‚¸å†™çœŸ",
    "polaroid style": "ãƒãƒ©ãƒ­ã‚¤ãƒ‰é¢¨", "double exposure": "ãƒ€ãƒ–ãƒ«éœ²å…‰",
    "infrared photography": "èµ¤å¤–ç·šå†™çœŸ", "fisheye lens": "é­šçœ¼ãƒ¬ãƒ³ã‚º", "tilt-shift": "ãƒ†ã‚£ãƒ«ãƒˆã‚·ãƒ•ãƒˆ",
    "nendoroid style": "ã­ã‚“ã©ã‚ã„ã©é¢¨",
    "super deformed figure": "ãƒ‡ãƒ•ã‚©ãƒ«ãƒ¡ãƒ•ã‚£ã‚®ãƒ¥ã‚¢",
    "figure style": "ãƒ•ã‚£ã‚®ãƒ¥ã‚¢é¢¨",
    "collectible figure": "ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ•ã‚£ã‚®ãƒ¥ã‚¢",
    "PVC figure style": "PVCãƒ•ã‚£ã‚®ãƒ¥ã‚¢é¢¨",
    "PVC material": "PVCç´ æ",
    "plastic model style": "ãƒ—ãƒ©ãƒ¢ãƒ‡ãƒ«é¢¨",
    "scale model": "ã‚¹ã‚±ãƒ¼ãƒ«ãƒ¢ãƒ‡ãƒ«",
    "panel lines": "ãƒ‘ãƒãƒ«ãƒ©ã‚¤ãƒ³",
    "sprue marks": "ãƒ©ãƒ³ãƒŠãƒ¼è·¡",
    "garage kit style": "ã‚¬ãƒ¬ãƒ¼ã‚¸ã‚­ãƒƒãƒˆé¢¨",
    "resin kit": "ãƒ¬ã‚¸ãƒ³ã‚­ãƒƒãƒˆ",
    "toy photography": "ãƒˆã‚¤å†™çœŸ",
    "miniature diorama": "ãƒŸãƒ‹ãƒãƒ¥ã‚¢ã‚¸ã‚ªãƒ©ãƒž",
    "MMD style": "MMDé¢¨",
    "miku miku dance": "ãƒŸã‚¯ãƒŸã‚¯ãƒ€ãƒ³ã‚¹",
    "cel-shaded 3D": "ã‚»ãƒ«ãƒ«ãƒƒã‚¯3D",
    "toon shader": "ãƒˆã‚¥ãƒ¼ãƒ³ã‚·ã‚§ãƒ¼ãƒ€",
    "concert stage lighting": "ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ©ã‚¤ãƒˆ",
    "concert atmosphere": "ãƒ©ã‚¤ãƒ–ä¼šå ´ã®ç©ºæ°—æ„Ÿ"

  };
  // ===== ä¸­èº«ã“ã“ã¾ã§ =====

  function resolveRoot(container){
    return container || document.querySelector("#list-style");
  }

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      const root = resolveRoot(container);
      if (!root) return;

      // âœ… äºŒé‡ãƒžã‚¦ãƒ³ãƒˆé˜²æ­¢
      if (root.dataset && root.dataset.styleV3Mounted === "1") return;
      if (root.dataset) root.dataset.styleV3Mounted = "1";

      const createSub = (title, items) => {
        const details = document.createElement("details");
        details.className = "style-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #b197fc; border-radius:4px; background:#fff;";
        details.open = false;

        const summary = document.createElement("summary");
        summary.innerHTML = `${title} <span style="font-size:0.8em; color:#6741d9;">(Modern)</span>`;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f3f0ff; color:#5f3dc4;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText =
          "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(150px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";

          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.style.marginRight = "6px";
          cb.dataset.val = item.en;
          cb.dataset.en  = item.en;
          cb.dataset.ja  = item.ja;

          label.appendChild(cb);
          label.appendChild(document.createTextNode(item.ja));
          label.title = item.en;
          content.appendChild(label);
        });

        details.appendChild(content);
        return details;
      };

      // âœ… v1 / v2 ã¨åŒã˜å®‰å…¨ãªè¦ªã‚³ãƒ³ãƒ†ãƒŠã‚’ä½¿ç”¨
      const styleHost = root.querySelector(".style-section-content") || (() => {
        const d = document.createElement("div");
        d.className = "style-section-content";
        root.appendChild(d);
        return d;
      })();

      // âœ… v3 å°‚ç”¨ãƒ©ãƒƒãƒ‘ãƒ¼
      const v3Container = document.createElement("div");
      v3Container.className = "style-v3-container";
      styleHost.appendChild(v3Container);

      Object.entries(STYLE_DATA).forEach(([key, val]) => {
        v3Container.appendChild(createSub(key, val));
      });
    },

    getTags() {
      const tags = [];
      const root = document.querySelector("#list-style");
      if (!root) return tags;

      const box = root.querySelector(".style-v3-container");
      if (!box) return tags;

      box.querySelectorAll("input[type='checkbox']:checked").forEach(cb => {
        if (cb.dataset && cb.dataset.val) tags.push(cb.dataset.val);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();
})();

