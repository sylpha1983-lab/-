// Auto-generated bundle for section 'attire'
// Contains 20 versions stacked in ascending order.

(function(){
// --- builder_ui.section.attire.v1.js ---
(function(){
  "use strict";
  const VERSION = 1; // ç¾ä»£ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³åŸºæœ¬ç·¨ (ãƒ‰ãƒ¬ã‚¹ãƒ»ã‚¹ã‚«ãƒ¼ãƒˆå½¢çŠ¶å¼·åŒ–ç‰ˆ)
  const KEY = "attire";

  const CATEGORIES = {
    "ğŸ‘š ãƒˆãƒƒãƒ—ã‚¹ãƒ»ã‚·ãƒ£ãƒ„ (Tops & Shirts)": [
      { ja: "Tã‚·ãƒ£ãƒ„", en: "t-shirt" }, { ja: "ç™½ã‚·ãƒ£ãƒ„", en: "white shirt" },
      { ja: "ãƒ–ãƒ©ã‚¦ã‚¹", en: "blouse" }, { ja: "Yã‚·ãƒ£ãƒ„", en: "collared shirt" },
      { ja: "ã‚¿ãƒ³ã‚¯ãƒˆãƒƒãƒ—", en: "tank top" }, { ja: "ã‚­ãƒ£ãƒŸã‚½ãƒ¼ãƒ«", en: "camisole" },
      { ja: "ãƒãƒ¥ãƒ¼ãƒ–ãƒˆãƒƒãƒ—", en: "tube top" }, { ja: "ã‚¯ãƒ­ãƒƒãƒ—ãƒˆãƒƒãƒ— (ã¸ãå‡ºã—)", en: "crop top" },
      { ja: "ãƒ›ãƒ«ã‚¿ãƒ¼ãƒãƒƒã‚¯", en: "halterneck" }, { ja: "ãƒãƒ¼ã‚¹ãƒªãƒ¼ãƒ–ã‚·ãƒ£ãƒ„", en: "sleeveless shirt" },
      { ja: "ã‚·ãƒ¼ã‚¹ãƒ«ãƒ¼ã‚·ãƒ£ãƒ„", en: "see-through shirt" }, { ja: "ãƒãƒ­ã‚·ãƒ£ãƒ„", en: "polo shirt" },
      { ja: "ã‚¿ãƒ¼ãƒˆãƒ«ãƒãƒƒã‚¯", en: "turtleneck" }, { ja: "èƒ¸ç©ºãã‚¿ãƒ¼ãƒˆãƒ«", en: "keyhole turtleneck" },
      { ja: "ãƒªãƒ–ã‚»ãƒ¼ã‚¿ãƒ¼", en: "ribbed sweater" }, { ja: "ã‚ªãƒ•ã‚·ãƒ§ãƒ«ãƒ‹ãƒƒãƒˆ", en: "off-shoulder sweater" },
      { ja: "ã‚ªãƒ¼ãƒãƒ¼ã‚µã‚¤ã‚ºãƒ‘ãƒ¼ã‚«ãƒ¼", en: "oversized hoodie" }, { ja: "ãƒ‘ãƒ¼ã‚«ãƒ¼", en: "hoodie" },
      { ja: "ã‚«ãƒ¼ãƒ‡ã‚£ã‚¬ãƒ³", en: "cardigan" }, { ja: "ãƒ™ã‚¹ãƒˆ", en: "vest" }
    ],
    "ğŸ§¥ ã‚¢ã‚¦ã‚¿ãƒ¼ãƒ»ã‚¸ãƒ£ã‚±ãƒƒãƒˆ (Outerwear)": [
      { ja: "ã‚¸ãƒ£ã‚±ãƒƒãƒˆ", en: "jacket" }, { ja: "ãƒ–ãƒ¬ã‚¶ãƒ¼", en: "blazer" },
      { ja: "ãƒˆãƒ¬ãƒ³ãƒã‚³ãƒ¼ãƒˆ", en: "trench coat" }, { ja: "ãƒ€ãƒƒãƒ•ãƒ«ã‚³ãƒ¼ãƒˆ", en: "duffle coat" },
      { ja: "ãƒ”ãƒ¼ã‚³ãƒ¼ãƒˆ", en: "peacoat" }, { ja: "ãƒ€ã‚¦ãƒ³ã‚¸ãƒ£ã‚±ãƒƒãƒˆ", en: "puffer jacket" },
      { ja: "ãƒ©ã‚¤ãƒ€ãƒ¼ã‚¹ (é©ã‚¸ãƒ£ãƒ³)", en: "biker jacket" }, { ja: "ãƒ‡ãƒ‹ãƒ ã‚¸ãƒ£ã‚±ãƒƒãƒˆ", en: "denim jacket" },
      { ja: "ã‚¹ã‚¿ã‚¸ãƒ£ãƒ³", en: "varsity jacket" }, { ja: "ã‚¹ã‚«ã‚¸ãƒ£ãƒ³", en: "sukajan" },
      { ja: "MA-1 (ãƒœãƒ³ãƒãƒ¼)", en: "bomber jacket" }, { ja: "ã‚¦ã‚£ãƒ³ãƒ‰ãƒ–ãƒ¬ãƒ¼ã‚«ãƒ¼", en: "windbreaker" },
      { ja: "ãƒœãƒ¬ãƒ­", en: "bolero" }, { ja: "ãƒãƒ³ãƒãƒ§", en: "poncho" },
      { ja: "ã‚±ãƒ¼ãƒ—ã‚³ãƒ¼ãƒˆ", en: "cape coat" }, { ja: "è…°å·»ãã‚«ãƒ¼ãƒ‡ã‚£ã‚¬ãƒ³", en: "cardigan around waist" },
      { ja: "è‚©æ›ã‘ã‚¸ãƒ£ã‚±ãƒƒãƒˆ", en: "jacket over shoulders" }
    ],
    "ğŸ‘— ã‚¹ã‚«ãƒ¼ãƒˆãƒ»å½¢çŠ¶ (Skirts & Shapes)": [
      { ja: "ãƒŸãƒ‹ã‚¹ã‚«ãƒ¼ãƒˆ", en: "miniskirt" }, { ja: "ãƒ­ãƒ³ã‚°ã‚¹ã‚«ãƒ¼ãƒˆ", en: "long skirt" },
      { ja: "ãƒ—ãƒªãƒ¼ãƒ„ã‚¹ã‚«ãƒ¼ãƒˆ", en: "pleated skirt" }, { ja: "ãƒã‚§ãƒƒã‚¯æŸ„ã‚¹ã‚«ãƒ¼ãƒˆ", en: "plaid skirt" },
      { ja: "ã‚¿ã‚¤ãƒˆã‚¹ã‚«ãƒ¼ãƒˆ (ãƒšãƒ³ã‚·ãƒ«)", en: "pencil skirt" }, { ja: "ãƒ•ãƒ¬ã‚¢ã‚¹ã‚«ãƒ¼ãƒˆ", en: "flared skirt" },
      { ja: "Aãƒ©ã‚¤ãƒ³ã‚¹ã‚«ãƒ¼ãƒˆ", en: "a-line skirt" }, { ja: "ãƒ•ãƒªãƒ«ã‚¹ã‚«ãƒ¼ãƒˆ", en: "frilled skirt" },
      { ja: "ãƒ†ã‚£ã‚¢ãƒ¼ãƒ‰ (æ®µã€…)", en: "tiered skirt" }, { ja: "ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‰ (é‡ã­)", en: "layered skirt" },
      { ja: "ãƒãƒ«ãƒ¼ãƒ³ã‚¹ã‚«ãƒ¼ãƒˆ", en: "bubble skirt" }, { ja: "å·»ãã‚¹ã‚«ãƒ¼ãƒˆ", en: "wrap skirt" },
      { ja: "ã‚¹ãƒªãƒƒãƒˆå…¥ã‚Šã‚¹ã‚«ãƒ¼ãƒˆ", en: "slit skirt" }, { ja: "ãƒã‚¤ãƒ­ãƒ¼ã‚¹ã‚«ãƒ¼ãƒˆ (å‰å¾Œä¸ˆé•)", en: "high-low skirt" },
      { ja: "ã‚µã‚¹ãƒšãƒ³ãƒ€ãƒ¼ã‚¹ã‚«ãƒ¼ãƒˆ", en: "suspender skirt" }, { ja: "ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ã‚¹ã‚«ãƒ¼ãƒˆ", en: "jumper skirt" },
      { ja: "ã‚µãƒ¼ã‚­ãƒ¥ãƒ©ãƒ¼ã‚¹ã‚«ãƒ¼ãƒˆ", en: "circle skirt" }, { ja: "ãƒãƒ¥ãƒ¼ãƒ«ã‚¹ã‚«ãƒ¼ãƒˆ", en: "tulle skirt" }
    ],
    "ğŸ’ƒ ãƒ‰ãƒ¬ã‚¹ãƒ»ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹ (Dresses & Gowns)": [
      { ja: "ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹", en: "one-piece dress" }, { ja: "ã‚µãƒãƒ¼ãƒ‰ãƒ¬ã‚¹", en: "sundress" },
      { ja: "ãƒã‚­ã‚·ä¸ˆãƒ¯ãƒ³ãƒ”", en: "maxi dress" }, { ja: "ãƒŸãƒ‹ãƒ¯ãƒ³ãƒ”", en: "mini dress" },
      { ja: "ãƒ‹ãƒƒãƒˆãƒ¯ãƒ³ãƒ”", en: "sweater dress" }, { ja: "ã‚·ãƒ£ãƒ„ãƒ¯ãƒ³ãƒ”", en: "shirt dress" },
      { ja: "ãƒœãƒ‡ã‚£ã‚³ãƒ³ãƒ¯ãƒ³ãƒ”", en: "bodycon dress" }, { ja: "ã‚¹ãƒªãƒƒãƒ—ãƒ‰ãƒ¬ã‚¹", en: "slip dress" },
      { ja: "ã‚«ã‚¯ãƒ†ãƒ«ãƒ‰ãƒ¬ã‚¹", en: "cocktail dress" }, { ja: "ã‚¤ãƒ–ãƒ‹ãƒ³ã‚°ãƒ‰ãƒ¬ã‚¹", en: "evening gown" },
      { ja: "ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ãƒ‰ãƒ¬ã‚¹", en: "party dress" }, { ja: "èˆè¸ä¼šãƒ‰ãƒ¬ã‚¹", en: "ballgown" },
      { ja: "ãƒ—ãƒªãƒ³ã‚»ã‚¹ãƒ©ã‚¤ãƒ³", en: "princess line dress" }, { ja: "Aãƒ©ã‚¤ãƒ³ãƒ‰ãƒ¬ã‚¹", en: "a-line dress" },
      { ja: "ãƒãƒ¼ãƒ¡ã‚¤ãƒ‰ãƒ‰ãƒ¬ã‚¹", en: "mermaid dress" }, { ja: "ã‚¨ãƒ³ãƒ‘ã‚¤ã‚¢ã‚¦ã‚¨ã‚¹ãƒˆ", en: "empire waist dress" },
      { ja: "ãƒ›ãƒ«ã‚¿ãƒ¼ãƒãƒƒã‚¯ãƒ‰ãƒ¬ã‚¹", en: "halter dress" }, { ja: "ãƒ™ã‚¢ãƒ‰ãƒ¬ã‚¹ (è‚©å‡ºã—)", en: "strapless dress" },
      { ja: "èƒŒä¸­ç©ºããƒ‰ãƒ¬ã‚¹", en: "backless dress" }, { ja: "ãƒãƒ£ã‚¤ãƒŠãƒ‰ãƒ¬ã‚¹", en: "cheongsam" } // v3/v12ã«ã‚‚ã‚ã‚‹ãŒäººæ°—ãªã®ã§ã“ã“ã«ã‚‚
    ],
    "ğŸ‘– ãƒœãƒˆãƒ ã‚¹ãƒ»ãƒ‘ãƒ³ãƒ„ (Pants & Shorts)": [
      { ja: "ã‚¸ãƒ¼ãƒ³ã‚º", en: "jeans" }, { ja: "ãƒ€ãƒ¡ãƒ¼ã‚¸ã‚¸ãƒ¼ãƒ³ã‚º", en: "ripped jeans" },
      { ja: "ã‚¹ã‚­ãƒ‹ãƒ¼ã‚¸ãƒ¼ãƒ³ã‚º", en: "skinny jeans" }, { ja: "ã‚·ãƒ§ãƒ¼ãƒˆãƒ‘ãƒ³ãƒ„", en: "shorts" },
      { ja: "ãƒ›ãƒƒãƒˆãƒ‘ãƒ³ãƒ„", en: "hot pants" }, { ja: "ãƒ‡ãƒ‹ãƒ ã‚·ãƒ§ãƒ¼ãƒ„", en: "denim shorts" },
      { ja: "ãƒ‰ãƒ«ãƒ•ã‚£ãƒ³ã‚·ãƒ§ãƒ¼ãƒ„", en: "dolphin shorts" }, { ja: "ã‚«ãƒ¼ã‚´ãƒ‘ãƒ³ãƒ„", en: "cargo pants" },
      { ja: "ãƒ¬ã‚®ãƒ³ã‚¹/ã‚¹ãƒ‘ãƒƒãƒ„", en: "leggings" }, { ja: "ãƒãƒ¼ãƒ¬ãƒ ãƒ‘ãƒ³ãƒ„", en: "harem pants" },
      { ja: "ãƒ™ãƒ«ãƒœãƒˆãƒ ", en: "bell-bottoms" }, { ja: "ãƒ¯ã‚¤ãƒ‰ãƒ‘ãƒ³ãƒ„", en: "wide leg pants" },
      { ja: "ã‚µãƒ–ãƒªãƒŠãƒ‘ãƒ³ãƒ„", en: "capri pants" }, { ja: "ãƒ¬ã‚¶ãƒ¼ãƒ‘ãƒ³ãƒ„", en: "leather pants" },
      { ja: "ã‚ªãƒ¼ãƒãƒ¼ã‚ªãƒ¼ãƒ«", en: "overalls" }, { ja: "ã‚µãƒ­ãƒšãƒƒãƒˆ", en: "salopette" }
    ]
  };

  const API = {
    initUI(container) {
      const parent = document.querySelector("#list-attire") || container;
      parent.innerHTML = ""; 

      const section = document.createElement("div");
      section.className = "attire-v1-container";

      Object.entries(CATEGORIES).forEach(([cat, items]) => {
        const details = document.createElement("details");
        details.style.marginBottom = "6px";
        const summary = document.createElement("summary");
        summary.className = "specialized";
        summary.textContent = cat;
        summary.style.fontWeight = "bold";
        summary.style.cursor = "pointer";
        summary.style.background = "#f9f9f9";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.padding = "8px";
        content.style.display = "grid";
        content.style.gridTemplateColumns = "repeat(auto-fill, minmax(140px, 1fr))";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.display = "flex";
          label.style.alignItems = "center";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        
        details.appendChild(content);
        section.appendChild(details);
      });
      parent.appendChild(section);

      if (window.__outputTranslation) {
        const dict = {};
        Object.values(CATEGORIES).flat().forEach(i => dict[i.en] = i.ja);
        window.__outputTranslation.register(dict);
      }
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v1-container input[type='checkbox']:checked").forEach(cb => tags.push(cb.dataset.en));
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v2.js ---
(function(){
  "use strict";
  const VERSION = 2; // åˆ¶æœãƒ»è·æ¥­ãƒ»ã‚¹ãƒãƒ¼ãƒ„ (å¤§å¹…å¢—é‡ç‰ˆ)
  const KEY = "attire";

  const CATEGORIES = {
    "ğŸ« å­¦æ ¡åˆ¶æœ (School Uniforms)": [
      { ja: "ã‚»ãƒ¼ãƒ©ãƒ¼æœ", en: "sailor uniform" }, { ja: "å¤æœã‚»ãƒ¼ãƒ©ãƒ¼", en: "summer sailor uniform" },
      { ja: "ãƒ–ãƒ¬ã‚¶ãƒ¼åˆ¶æœ", en: "school uniform, blazer" }, { ja: "å­¦ãƒ©ãƒ³", en: "gakuran" },
      { ja: "ã‚«ãƒ¼ãƒ‡ã‚£ã‚¬ãƒ³åˆ¶æœ", en: "school uniform, cardigan" }, { ja: "ãƒ™ã‚¹ãƒˆåˆ¶æœ", en: "school uniform, sweater vest" },
      { ja: "ã‚¸ãƒ£ãƒ³ãƒ‘ãƒ¼ã‚¹ã‚«ãƒ¼ãƒˆ", en: "jumper skirt" }, { ja: "ãƒã‚§ãƒƒã‚¯æŸ„ã‚¹ã‚«ãƒ¼ãƒˆ", en: "plaid skirt" },
      { ja: "ä½“æ“æœ (ãƒ–ãƒ«ãƒ)", en: "gym uniform, bloomers" }, { ja: "ä½“æ“æœ (çŸ­ãƒ‘ãƒ³)", en: "gym uniform, gym shorts" },
      { ja: "ã‚¹ã‚¯ãƒ¼ãƒ«æ°´ç€", en: "school swimsuit" }, { ja: "ä¸Šå±¥ã", en: "uwabaki" }
    ],
    "ğŸ’¼ è·æ¥­ãƒ»å…¬å‹™ (Professional/Service)": [
      { ja: "ã‚¹ãƒ¼ãƒ„ (ãƒ“ã‚¸ãƒã‚¹)", en: "business suit" }, { ja: "OLåˆ¶æœ (ãƒ™ã‚¹ãƒˆ)", en: "office lady uniform" },
      { ja: "è­¦å¯Ÿå®˜", en: "police uniform" }, { ja: "è»æœ", en: "military uniform" },
      { ja: "CA (å®¢å®¤ä¹—å‹™å“¡)", en: "flight attendant uniform" }, { ja: "ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆ", en: "pilot uniform" },
      { ja: "æ¢åµã‚³ãƒ¼ãƒˆ", en: "detective trench coat" }, { ja: "è­¦å‚™å“¡", en: "security guard uniform" },
      { ja: "ã‚·ã‚§ãƒ•/ã‚³ãƒƒã‚¯", en: "chef uniform" }, { ja: "ã‚«ãƒ•ã‚§åº—å“¡", en: "waitress apron" },
      { ja: "æ•´å‚™å£« (ãƒ„ãƒŠã‚®)", en: "mechanic jumpsuit" }, { ja: "å·«å¥³æœ", en: "miko attire" },
      { ja: "ã‚·ã‚¹ã‚¿ãƒ¼", en: "nun habit" }, { ja: "æ¶ˆé˜²å£«", en: "firefighter uniform" }
    ],
    "ğŸ’‰ åŒ»ç™‚ãƒ»ç§‘å­¦ (Medical/Science)": [
      { ja: "ãƒŠãƒ¼ã‚¹æœ (ç™½)", en: "nurse uniform" }, { ja: "ãƒŠãƒ¼ã‚¹æœ (ãƒ”ãƒ³ã‚¯)", en: "pink nurse uniform" },
      { ja: "æ‰‹è¡“ç€ (ã‚¹ã‚¯ãƒ©ãƒ–)", en: "scrubs" }, { ja: "ç™½è¡£ (ãƒ‰ã‚¯ã‚¿ãƒ¼)", en: "lab coat" },
      { ja: "è´è¨ºå™¨", en: "stethoscope" }, { ja: "çœ¼å¸¯ (åŒ»ç™‚ç”¨)", en: "medical eyepatch" }
    ],
    "ğŸ‰ ã‚¨ãƒ³ã‚¿ãƒ¡ãƒ»è¡£è£… (Entertainment)": [
      { ja: "ãƒ¡ã‚¤ãƒ‰æœ", en: "maid apron" }, { ja: "ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãƒ¡ã‚¤ãƒ‰", en: "long maid dress" },
      { ja: "ãƒãƒ‹ãƒ¼ã‚¬ãƒ¼ãƒ«", en: "bunny suit" }, { ja: "ãƒ¬ãƒ¼ã‚¹ã‚¯ã‚¤ãƒ¼ãƒ³", en: "race queen" },
      { ja: "ãƒã‚¢ãƒªãƒ¼ãƒ€ãƒ¼", en: "cheerleader" }, { ja: "ã‚¢ã‚¤ãƒ‰ãƒ«è¡£è£…", en: "idol clothes" },
      { ja: "ã‚µãƒ³ã‚¿ã‚³ã‚¹", en: "santa costume" }, { ja: "ãƒãƒ£ã‚¤ãƒŠãƒ‰ãƒ¬ã‚¹", en: "cheongsam" }
    ],
    "ğŸ… ã‚¹ãƒãƒ¼ãƒ„ãƒ»ç«¶æŠ€ (Sports/Athletics)": [
      { ja: "ã‚¹ãƒãƒ¼ãƒ„ã‚¦ã‚§ã‚¢", en: "sportswear" }, { ja: "ã‚¸ãƒ£ãƒ¼ã‚¸", en: "track suit" },
      { ja: "ãƒ†ãƒ‹ã‚¹ã‚¦ã‚§ã‚¢", en: "tennis uniform" }, { ja: "ãƒãƒ¬ãƒ¼ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ", en: "volleyball uniform" },
      { ja: "ãƒã‚¹ã‚±ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ", en: "basketball jersey" }, { ja: "ã‚µãƒƒã‚«ãƒ¼ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ", en: "soccer uniform" },
      { ja: "é‡çƒãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ", en: "baseball uniform" }, { ja: "ç«¶æ³³æ°´ç€", en: "competition swimsuit" },
      { ja: "é™¸ä¸Šãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ", en: "track and field uniform" }, { ja: "ãƒ•ã‚£ã‚®ãƒ¥ã‚¢è¡£è£…", en: "figure skating dress" }
    ],
    "ğŸ¥‹ æ­¦é“ãƒ»æ ¼é—˜æŠ€ (Martial Arts)": [
      { ja: "æŸ”é“ç€/ç©ºæ‰‹ç€", en: "gi" }, { ja: "å‰£é“ç€", en: "kendo uniform" },
      { ja: "å¼“é“ç€", en: "kyudo uniform" }, { ja: "ãƒœã‚¯ã‚·ãƒ³ã‚°ãƒ‘ãƒ³ãƒ„", en: "boxing shorts" },
      { ja: "ã‚«ãƒ³ãƒ•ãƒ¼æœ", en: "kung fu outfit" }, { ja: "å¿è€…ã‚¹ãƒ¼ãƒ„", en: "ninja suit" }
    ]
  };

  const API = {
    initUI(container) {
      const parent = document.querySelector("#list-attire") || container;
      // v2ã¯v1ã®ä¸‹ã«è¿½åŠ ã™ã‚‹æƒ³å®šã ãŒã€å˜ç‹¬å‹•ä½œã‚‚è€ƒæ…®
      
      // æ—¢å­˜ã®v2ã‚³ãƒ³ãƒ†ãƒŠãŒã‚ã‚Œã°å‰Šé™¤ï¼ˆæ›´æ–°ç”¨ï¼‰
      const existing = parent.querySelector(".attire-v2-container");
      if(existing) existing.remove();

      const section = document.createElement("div");
      section.className = "attire-v2-container";
      
      // åŒºåˆ‡ã‚Šç·š
      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #ccc; text-align:center; color:#888; font-size:0.8em;";
      sep.textContent = "â–¼ åˆ¶æœãƒ»è·æ¥­ãƒ»ã‚¹ãƒãƒ¼ãƒ„ (v2 Expanded) â–¼";
      section.appendChild(sep);

      Object.entries(CATEGORIES).forEach(([cat, items]) => {
        const details = document.createElement("details");
        details.style.marginBottom = "6px";
        const summary = document.createElement("summary");
        summary.textContent = cat;
        summary.style.fontWeight = "bold";
        summary.style.cursor = "pointer";
        summary.style.background = "#f0f8ff"; // è–„ã„é’ã§åŒºåˆ¥
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.padding = "8px";
        content.style.display = "grid";
        content.style.gridTemplateColumns = "repeat(auto-fill, minmax(140px, 1fr))";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.display = "flex";
          label.style.alignItems = "center";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        section.appendChild(details);
      });
      
      parent.appendChild(section);

      if (window.__outputTranslation) {
        const dict = {};
        Object.values(CATEGORIES).flat().forEach(i => dict[i.en] = i.ja);
        window.__outputTranslation.register(dict);
      }
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v2-container input[type='checkbox']:checked").forEach(cb => tags.push(cb.dataset.en));
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v3.js ---
(function(){
  "use strict";
  const VERSION = 3; // ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ãƒ»æ°‘æ—ãƒ»ç¾ä»£ã‚¹ã‚¿ã‚¤ãƒ« (çµ±åˆç‰ˆ)
  const KEY = "attire";

  const CATEGORIES = {
    "âš”ï¸ ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ãƒ»RPGã‚¸ãƒ§ãƒ– (Fantasy Class)": [
      { ja: "ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¢ãƒ¼ãƒãƒ¼ (é‡è£…)", en: "plate armor" },
      { ja: "ãƒã‚§ã‚¤ãƒ³ãƒ¡ã‚¤ãƒ« (é–å¸·å­)", en: "chainmail armor" },
      { ja: "ãƒ¬ã‚¶ãƒ¼ã‚¢ãƒ¼ãƒãƒ¼ (è»½è£…)", en: "leather armor" },
      { ja: "ãƒ“ã‚­ãƒ‹ã‚¢ãƒ¼ãƒãƒ¼", en: "bikini armor" },
      { ja: "è–é¨å£« (ãƒ‘ãƒ©ãƒ‡ã‚£ãƒ³)", en: "paladin armor" },
      { ja: "è›®æ— (ãƒãƒ¼ãƒãƒªã‚¢ãƒ³)", en: "barbarian clothes, fur trim" },
      { ja: "ä¿®é“å£« (ãƒ¢ãƒ³ã‚¯)", en: "monk robe" },
      { ja: "é­”æ³•ä½¿ã„ (ãƒ­ãƒ¼ãƒ–)", en: "wizard robe" },
      { ja: "å¸ç¥­/ã‚¯ãƒ¬ãƒªãƒƒã‚¯", en: "cleric vestments" },
      { ja: "ãƒ‰ãƒ«ã‚¤ãƒ‰ (è‡ªç„¶)", en: "druid clothes, leaf pattern" },
      { ja: "ç›—è³Š/ãƒ­ãƒ¼ã‚°", en: "thief clothes, hood" },
      { ja: "åŸéŠè©©äºº (ãƒãƒ¼ãƒ‰)", en: "bard clothes" },
      { ja: "è¸Šã‚Šå­ (ãƒ€ãƒ³ã‚µãƒ¼)", en: "dancer outfit, belly dancer" },
      { ja: "æ­»éœŠè¡“å¸« (ãƒã‚¯ãƒ­)", en: "necromancer robe, skull accessories" }
    ],
    "ğŸŒ ä¸–ç•Œã®æ°‘æ—è¡£è£… (World Traditional)": [
      { ja: "ãƒãƒ£ã‚¤ãƒŠãƒ‰ãƒ¬ã‚¹ (æ——è¢)", en: "cheongsam" },
      { ja: "æ¼¢æœ (ä¸­å›½å¤å…¸)", en: "hanfu" },
      { ja: "ã‚¢ã‚ªã‚¶ã‚¤ (ãƒ™ãƒˆãƒŠãƒ )", en: "ao dai" },
      { ja: "ãƒãƒãƒãƒ§ã‚´ãƒª (éŸ“å›½)", en: "hanbok" },
      { ja: "ã‚µãƒªãƒ¼ (ã‚¤ãƒ³ãƒ‰)", en: "sari" },
      { ja: "ãƒ‡ã‚£ã‚¢ãƒ³ãƒ‰ãƒ« (ãƒ‰ã‚¤ãƒ„)", en: "dirndl" },
      { ja: "ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒ›ãƒ¼ã‚¼ãƒ³", en: "lederhosen" },
      { ja: "ã‚­ãƒ«ãƒˆ (ã‚¹ã‚³ãƒƒãƒˆãƒ©ãƒ³ãƒ‰)", en: "kilt" },
      { ja: "ãƒ•ãƒ©ãƒ¡ãƒ³ã‚³ãƒ‰ãƒ¬ã‚¹", en: "flamenco dress" },
      { ja: "ãƒã‚¿ãƒ‰ãƒ¼ãƒ« (é—˜ç‰›å£«)", en: "matador costume" },
      { ja: "ã‚«ãƒ•ã‚¿ãƒ³ (ä¸­æ±)", en: "kaftan" },
      { ja: "ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ¡ãƒªã‚«ãƒ³", en: "native american regalia" },
      { ja: "ãƒ•ãƒ©ãƒ€ãƒ³ã‚¹è¡£è£…", en: "hula outfit" }
    ],
    "ğŸ‘˜ æ—¥æœ¬ã®ä¼çµ±è¡£è£… (Japanese Traditional)": [
      { ja: "ç€ç‰© (åŸºæœ¬)", en: "kimono" },
      { ja: "æŒ¯è¢–", en: "furisode" },
      { ja: "ç•™è¢–", en: "tomesode" },
      { ja: "ç™½ç„¡å¢ (èŠ±å«)", en: "shiromuku" },
      { ja: "è‰²æ‰“æ›", en: "uchikake" },
      { ja: "æµ´è¡£", en: "yukata" },
      { ja: "è¢´ (ãƒã‚«ãƒ)", en: "hakama" },
      { ja: "å·«å¥³æœ", en: "miko attire" },
      { ja: "å¿è€…è£…æŸ", en: "ninja suit" },
      { ja: "ä¾ (ç€æµã—)", en: "samurai clothes" },
      { ja: "æ³•è¢« (ãƒãƒƒãƒ”)", en: "happi coat" }
    ],
    "ğŸ•¶ï¸ ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« (Modern Styles)": [
      { ja: "ã‚¹ãƒˆãƒªãƒ¼ãƒˆç³»", en: "streetwear, oversized" },
      { ja: "ãƒ†ãƒƒã‚¯ã‚¦ã‚§ã‚¢ (æ©Ÿèƒ½çš„)", en: "techwear, straps, black" },
      { ja: "ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯", en: "cyberpunk attire, neon" },
      { ja: "ã‚¹ãƒãƒ¼ãƒ ãƒ‘ãƒ³ã‚¯", en: "steampunk attire, gears, brown" },
      { ja: "ã‚´ã‚·ãƒƒã‚¯", en: "gothic fashion" },
      { ja: "ãƒ‘ãƒ³ã‚¯", en: "punk fashion" },
      { ja: "ã‚°ãƒ©ãƒ³ã‚¸", en: "grunge fashion" },
      { ja: "ãƒ—ãƒ¬ãƒƒãƒ”ãƒ¼ (å„ªç­‰ç”Ÿ)", en: "preppy style" },
      { ja: "ãƒ€ãƒ¼ã‚¯ã‚¢ã‚«ãƒ‡ãƒŸã‚¢", en: "dark academia, tweed, vintage" }, // â˜…è¿½åŠ 
      { ja: "ã‚³ãƒ†ãƒ¼ã‚¸ã‚³ã‚¢ (ç”°èˆé¢¨)", en: "cottagecore, peasant dress" }, // â˜…è¿½åŠ 
      { ja: "ãƒœãƒ˜ãƒŸã‚¢ãƒ³", en: "bohemian style" },
      { ja: "ãƒ´ã‚£ãƒ³ãƒ†ãƒ¼ã‚¸/ãƒ¬ãƒˆãƒ­", en: "vintage style" },
      { ja: "ã‚ªãƒ¼ãƒˆã‚¯ãƒãƒ¥ãƒ¼ãƒ«", en: "haute couture, avant-garde" }, // â˜…è¿½åŠ 
      { ja: "ã‚¢ã‚¹ãƒ¬ã‚¸ãƒ£ãƒ¼ (ã‚¹ãƒãƒ¼ãƒ†ã‚£)", en: "athleisure, sporty" }, // â˜…è¿½åŠ 
      { ja: "ãƒŸãƒ‹ãƒãƒªã‚¹ãƒˆ", en: "minimalist fashion" } // â˜…è¿½åŠ 
    ]
  };

  const API = {
    initUI(container) {
      const parent = document.querySelector("#list-attire");
      if (!parent) return;

      const existing = parent.querySelector(".attire-v3-container");
      if(existing) existing.remove();

      const section = document.createElement("div");
      section.className = "attire-v3-container";
      
      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #ccc; text-align:center; color:#888; font-size:0.8em;";
      sep.textContent = "â–¼ ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ãƒ»æ°‘æ—ãƒ»ã‚¹ã‚¿ã‚¤ãƒ« (v3 Expanded) â–¼";
      section.appendChild(sep);

      Object.entries(CATEGORIES).forEach(([cat, items]) => {
        const details = document.createElement("details");
        details.style.marginBottom = "6px";
        const summary = document.createElement("summary");
        summary.textContent = cat;
        summary.style.fontWeight = "bold";
        summary.style.cursor = "pointer";
        summary.style.background = "#fff8e1"; 
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.padding = "8px";
        content.style.display = "grid";
        content.style.gridTemplateColumns = "repeat(auto-fill, minmax(140px, 1fr))";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.display = "flex";
          label.style.alignItems = "center";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        section.appendChild(details);
      });
      
      parent.appendChild(section);

      if (window.__outputTranslation) {
        const dict = {};
        Object.values(CATEGORIES).flat().forEach(i => dict[i.en] = i.ja);
        window.__outputTranslation.register(dict);
      }
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v3-container input[type='checkbox']:checked").forEach(cb => tags.push(cb.dataset.en));
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v4.js ---
(function(){
  "use strict";
  const VERSION = 4; // ä¸‹ç€ãƒ»æ°´ç€ãƒ»è¶³å…ƒã®æ±ºå®šç‰ˆ
  const KEY = "attire";

  const CATEGORIES = {
    "ğŸ‘™ æ°´ç€ãƒ»ã‚¹ã‚¤ãƒ ã‚¦ã‚§ã‚¢ (Swimwear Types)": [
      { ja: "ãƒ“ã‚­ãƒ‹", en: "bikini" },
      { ja: "ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹æ°´ç€", en: "one-piece swimsuit" },
      { ja: "ãƒ¢ãƒã‚­ãƒ‹", en: "monokini" }, // â˜…è¿½åŠ 
      { ja: "ã‚¿ãƒ³ã‚­ãƒ‹", en: "tankini" }, // â˜…è¿½åŠ 
      { ja: "ãƒã‚¤ã‚¯ãƒ­ãƒ“ã‚­ãƒ‹", en: "micro bikini" },
      { ja: "ç´ãƒ“ã‚­ãƒ‹", en: "string bikini" }, // â˜…è¿½åŠ 
      { ja: "ãƒ•ãƒ­ãƒ³ãƒˆã‚¿ã‚¤ (å‰çµã³)", en: "front-tie bikini" }, // â˜…è¿½åŠ 
      { ja: "ç«¶æ³³æ°´ç€", en: "competition swimsuit" },
      { ja: "ã‚¹ã‚¯ãƒ¼ãƒ«æ°´ç€", en: "school swimsuit" },
      { ja: "ç™½ã‚¹ã‚¯æ°´", en: "white school swimsuit" }, // â˜…è¿½åŠ 
      { ja: "ã‚¹ãƒªãƒ³ã‚°ã‚·ãƒ§ãƒƒãƒˆ", en: "slingshot swimsuit" },
      { ja: "ãƒãƒ³ãƒ‰ã‚¥ãƒ“ã‚­ãƒ‹", en: "bandeau bikini" }, // â˜…è¿½åŠ 
      { ja: "ãƒ•ãƒªãƒ«ãƒ“ã‚­ãƒ‹", en: "frilled bikini" }, // â˜…è¿½åŠ 
      { ja: "ãƒã‚¤ãƒ¬ã‚°", en: "highleg swimsuit" }
    ],
    "ğŸ‘™ ä¸‹ç€ãƒ»ãƒ©ãƒ³ã‚¸ã‚§ãƒªãƒ¼ (Underwear/Lingerie)": [
      { ja: "ãƒ©ãƒ³ã‚¸ã‚§ãƒªãƒ¼ (ç·ç§°)", en: "lingerie" },
      { ja: "ãƒ–ãƒ©ã‚¸ãƒ£ãƒ¼", en: "bra" },
      { ja: "ã‚¹ãƒãƒ¼ãƒ„ãƒ–ãƒ©", en: "sports bra" },
      { ja: "ãƒ‘ãƒ³ãƒ†ã‚£", en: "panties" },
      { ja: "ç´ãƒ‘ãƒ³", en: "side-tie panties" },
      { ja: "ç¸ãƒ‘ãƒ³ (ãƒœãƒ¼ãƒ€ãƒ¼)", en: "striped panties" }, // â˜…è¿½åŠ 
      { ja: "Tãƒãƒƒã‚¯/Gã‚¹ãƒˆãƒªãƒ³ã‚°", en: "thong" }, // â˜…è¿½åŠ 
      { ja: "ãƒ¬ãƒ¼ã‚¹ã®ä¸‹ç€", en: "lace underwear" }, // â˜…è¿½åŠ 
      { ja: "ã‚µãƒ†ãƒ³ã®ä¸‹ç€", en: "satin lingerie" }, // â˜…è¿½åŠ 
      { ja: "ãƒ™ãƒ“ãƒ¼ãƒ‰ãƒ¼ãƒ«", en: "babydoll" },
      { ja: "ã‚­ãƒ£ãƒŸã‚½ãƒ¼ãƒ«", en: "camisole" },
      { ja: "ã‚³ãƒ«ã‚»ãƒƒãƒˆ", en: "corset" }, // â˜…è¿½åŠ 
      { ja: "ãƒ†ãƒ‡ã‚£", en: "teddy" }, // â˜…è¿½åŠ 
      { ja: "ã•ã‚‰ã— (èƒ¸)", en: "sarashi" }, // â˜…è¿½åŠ 
      { ja: "ãµã‚“ã©ã—", en: "fundoshi" }, // â˜…è¿½åŠ 
      { ja: "ãƒ‹ãƒ—ãƒ¬ã‚¹", en: "pasties" } // â˜…è¿½åŠ 
    ],
    "ğŸ§¦ ãƒ¬ãƒƒã‚°ã‚¦ã‚§ã‚¢ãƒ»é´ä¸‹ (Legwear)": [
      { ja: "ãƒ‹ãƒ¼ã‚½ãƒƒã‚¯ã‚¹", en: "kneehighs" },
      { ja: "ã‚ªãƒ¼ãƒãƒ¼ãƒ‹ãƒ¼", en: "thighhighs" },
      { ja: "ã‚µã‚¤ãƒã‚¤ã‚½ãƒƒã‚¯ã‚¹", en: "thighhighs" },
      { ja: "ãƒ‘ãƒ³ã‚¹ãƒˆ", en: "pantyhose" },
      { ja: "é»’ã‚¿ã‚¤ãƒ„", en: "black tights" },
      { ja: "ç¶²ã‚¿ã‚¤ãƒ„", en: "fishnets" },
      { ja: "ã‚¬ãƒ¼ã‚¿ãƒ¼ãƒ™ãƒ«ãƒˆ", en: "garter belt" },
      { ja: "ç™½ã‚½ãƒƒã‚¯ã‚¹", en: "white socks" }, // â˜…è¿½åŠ 
      { ja: "ãƒ«ãƒ¼ã‚ºã‚½ãƒƒã‚¯ã‚¹", en: "loose socks" }, // â˜…è¿½åŠ 
      { ja: "ãƒ¬ãƒƒã‚°ã‚¦ã‚©ãƒ¼ãƒãƒ¼", en: "leg warmers" }, // â˜…è¿½åŠ 
      { ja: "è¶³è¢‹ (ã‚¿ãƒ“)", en: "tabi" } // â˜…è¿½åŠ 
    ],
    "ğŸ‘  é´ (Footwear)": [
      { ja: "ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼", en: "sneakers" },
      { ja: "ãƒ–ãƒ¼ãƒ„", en: "boots" },
      { ja: "ãƒã‚¤ãƒ’ãƒ¼ãƒ«", en: "high heels" },
      { ja: "ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼", en: "loafers" },
      { ja: "ã‚µãƒ³ãƒ€ãƒ«", en: "sandals" },
      { ja: "è£¸è¶³", en: "barefoot" }
    ],
    "ğŸ˜³ ç€ã“ãªã—ãƒ»çŠ¶æ…‹ (State/Fetish)": [
      { ja: "çµ¶å¯¾é ˜åŸŸ", en: "zettai ryouiki" },
      { ja: "é€ã‘æ„Ÿ (ã‚·ãƒ¼ã‚¹ãƒ«ãƒ¼)", en: "see-through" },
      { ja: "æ¿¡ã‚ŒãŸæœ", en: "wet clothes" },
      { ja: "ã¯ã ã‘ãŸ", en: "open clothes" },
      { ja: "ã´ã£ã¡ã‚Š (Skintight)", en: "skintight" },
      { ja: "èƒ¸å…ƒãƒ»è°·é–“", en: "cleavage" },
      { ja: "ã¸ãå‡ºã—", en: "midriff" },
      { ja: "è‚©å‡ºã—", en: "bare shoulders" },
      { ja: "é£Ÿã„è¾¼ã¿", en: "clothing cutout" }
    ]
  };

  const API = {
    initUI(container) {
      const parent = document.querySelector("#list-attire");
      if (!parent) return;

      const section = document.createElement("div");
      section.className = "attire-v4-container";

      Object.entries(CATEGORIES).forEach(([cat, items]) => {
        const details = document.createElement("details");
        details.style.marginBottom = "6px";
        const summary = document.createElement("summary");
        summary.textContent = cat;
        summary.style.fontWeight = "bold";
        summary.style.cursor = "pointer";
        summary.style.background = "#f9f9f9";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.padding = "8px";
        content.style.display = "grid";
        content.style.gridTemplateColumns = "repeat(auto-fill, minmax(140px, 1fr))";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.display = "flex";
          label.style.alignItems = "center";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        section.appendChild(details);
      });
      
      parent.appendChild(section);

      if (window.__outputTranslation) {
        const dict = {};
        Object.values(CATEGORIES).flat().forEach(i => dict[i.en] = i.ja);
        window.__outputTranslation.register(dict);
      }
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v4-container input[type='checkbox']:checked").forEach(cb => tags.push(cb.dataset.en));
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v5.js ---
(function(){
  "use strict";
  const VERSION = 5; // æ‹¡å¼µãƒ‘ãƒƒã‚¯E (ãƒ‡ã‚¶ã‚¤ãƒ³è©³ç´°ãƒ»æŸ„)
  const KEY = "attire";

  const ATTIRE_DATA = {

    "ğŸª© ãƒ›ãƒ­ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯è¡£è£… (Holographic Outfits)": [
      { ja: "ãƒ›ãƒ­ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ»ãƒœãƒ‡ã‚£ã‚¹ãƒ¼ãƒ„", en: "holographic bodysuit" },
      { ja: "ãƒ›ãƒ­ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ»ã‚¿ã‚¯ãƒ†ã‚£ã‚«ãƒ«ã‚¹ãƒ¼ãƒ„", en: "holographic tactical suit" },
      { ja: "ãƒ›ãƒ­ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ»ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ", en: "holographic operator uniform" },
      { ja: "ãƒ›ãƒ­ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ãƒ»ãƒ‰ãƒ¬ã‚¹", en: "holographic dress" },
      { ja: "é€æ˜ãƒ›ãƒ­ãƒ»ã‚¯ãƒ­ãƒ¼ã‚¯", en: "transparent holo-cloak" },
      { ja: "ãƒ—ãƒªã‚ºãƒ ç™ºå…‰ã‚¢ãƒ¼ãƒãƒ¼", en: "prismatic light-emitting armor" }
    ],

    "ğŸ‘š è¢–ãƒ»è‚©ãƒ»è…• (Sleeves & Arms)": [
      { ja: "ãƒãƒ¼ã‚¹ãƒªãƒ¼ãƒ– (è¢–ãªã—)", en: "sleeveless" }, { ja: "åŠè¢–", en: "short sleeves" },
      { ja: "é•·è¢–", en: "long sleeves" }, { ja: "ãƒ‘ãƒ•ã‚¹ãƒªãƒ¼ãƒ–", en: "puff sleeves" },
      { ja: "èŒãˆè¢–", en: "sleeves past fingers" }, { ja: "ä»˜ã‘è¢– (åˆ†é›¢è¢–)", en: "detached sleeves" },
      { ja: "ãƒ™ãƒ«ã‚¹ãƒªãƒ¼ãƒ– (åºƒãŒã‚Š)", en: "bell sleeves" }, { ja: "ã‚ªãƒ•ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼", en: "off-shoulder" },
      { ja: "è‚©å‡ºã— (ãƒ™ã‚¢ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼)", en: "bare shoulders" }, { ja: "ãƒ¯ã‚¤ãƒ‰ã‚¹ãƒªãƒ¼ãƒ–", en: "wide sleeves" }
    ],
    "ğŸ§£ è¥Ÿãƒ»é¦–å…ƒ (Neckline & Collars)": [
      { ja: "ã‚»ãƒ¼ãƒ©ãƒ¼è¥Ÿ", en: "sailor collar" }, { ja: "ã‚¿ãƒ¼ãƒˆãƒ«ãƒãƒƒã‚¯", en: "turtleneck" },
      { ja: "ãƒ›ãƒ«ã‚¿ãƒ¼ãƒãƒƒã‚¯", en: "halterneck" }, { ja: "Vãƒãƒƒã‚¯", en: "v-neck" },
      { ja: "æ·±ã„Vãƒãƒƒã‚¯ (èƒ¸å…ƒ)", en: "plunging neckline" }, { ja: "è¥Ÿä»˜ã", en: "collared" },
      { ja: "ã‚¹ã‚¿ãƒ³ãƒ‰ã‚«ãƒ©ãƒ¼", en: "stand collar" }, { ja: "ãƒ•ãƒ¼ãƒ‰ä»˜ã", en: "hooded" }
    ],
    "ğŸ‘— å½¢çŠ¶ãƒ»ãƒ•ã‚£ãƒƒãƒˆ (Shape & Fit)": [
      { ja: "ã‚ªãƒ¼ãƒãƒ¼ã‚µã‚¤ã‚º (ã ã¼ã ã¼)", en: "oversized" }, { ja: "ã‚¿ã‚¤ãƒˆ (ã´ã£ã¡ã‚Š)", en: "tight" },
      { ja: "ãƒœãƒ‡ã‚£ã‚³ãƒ³", en: "bodycon" }, { ja: "ãƒã‚¤ã‚¦ã‚¨ã‚¹ãƒˆ", en: "high waist" },
      { ja: "ãƒ­ãƒ¼ãƒ©ã‚¤ã‚º", en: "low-rise" }, { ja: "Aãƒ©ã‚¤ãƒ³", en: "a-line" },
      { ja: "ã‚¹ãƒªãƒƒãƒˆå…¥ã‚Š", en: "slit" }, { ja: "ã‚¢ã‚·ãƒ³ãƒ¡ãƒˆãƒªãƒ¼ (å·¦å³éå¯¾ç§°)", en: "asymmetrical" }
    ],
    "ğŸ æŸ„ãƒ»ãƒ—ãƒªãƒ³ãƒˆ (Patterns)": [
      { ja: "ãƒã‚§ãƒƒã‚¯æŸ„ (ãƒ—ãƒ¬ã‚¤ãƒ‰)", en: "plaid" }, { ja: "ã‚¿ãƒ¼ã‚¿ãƒ³ãƒã‚§ãƒƒã‚¯", en: "tartan" },
      { ja: "ã‚¹ãƒˆãƒ©ã‚¤ãƒ— (ç¸¦ç¸)", en: "striped" }, { ja: "ãƒœãƒ¼ãƒ€ãƒ¼ (æ¨ªç¸)", en: "horizontal stripes" },
      { ja: "æ°´ç‰ (ãƒ‰ãƒƒãƒˆ)", en: "polka dot" }, { ja: "èŠ±æŸ„", en: "floral print" },
      { ja: "è¿·å½©æŸ„", en: "camouflage" }, { ja: "ãƒ’ãƒ§ã‚¦æŸ„", en: "leopard print" },
      { ja: "ã‚¢ãƒ¼ã‚¬ã‚¤ãƒ«", en: "argyle" }, { ja: "å’ŒæŸ„", en: "japanese pattern" },
      { ja: "ãƒ­ã‚´ãƒ—ãƒªãƒ³ãƒˆ", en: "print shirt" }, { ja: "ç„¡åœ°", en: "plain" }
    ],
    "ğŸ€ è£…é£¾ãƒ»ãƒ‡ã‚£ãƒ†ãƒ¼ãƒ« (Decorations)": [
      { ja: "ãƒ•ãƒªãƒ«", en: "frills" }, { ja: "ãƒ¬ãƒ¼ã‚¹", en: "lace" },
      // ãƒªãƒœãƒ³ã‚„ãƒ™ãƒ«ãƒˆã¯ accessories ã«ç§»å‹•ã—ãŸãŸã‚å‰Šé™¤
      { ja: "ãƒœã‚¿ãƒ³", en: "buttons" }, { ja: "ãƒ•ã‚¡ã‚¹ãƒŠãƒ¼/ã‚¸ãƒƒãƒ‘ãƒ¼", en: "zipper" },
      { ja: "ã‚³ãƒ«ã‚»ãƒƒãƒˆç·¨ã¿ä¸Šã’", en: "laced up" }, 
      { ja: "ãƒ•ã‚¡ãƒ¼ (ãƒˆãƒªãƒŸãƒ³ã‚°)", en: "fur trim" }, // éƒ¨åˆ†çš„ãªãƒ•ã‚¡ãƒ¼ã¯è£…é£¾ã¨ã—ã¦æ®‹ã™
      { ja: "ãƒãƒ³ãƒãƒ³", en: "pom pom" }, { ja: "åˆºç¹", en: "embroidery" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f9f9f9; color:#555;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v5-container";
      
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v5-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.val || cb.dataset.en);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v6.js ---
(function(){
  "use strict";
  const VERSION = 6; // æ‹¡å¼µãƒ‘ãƒƒã‚¯F (çŠ¶æ…‹ãƒ»ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ»ç€ã“ãªã—)
  const KEY = "attire";

  // â˜… ç´ æ(Leatherç­‰)ã‚„è³ªæ„Ÿ(Shinyç­‰)ã‚’å‰Šé™¤ã—ã€çŠ¶æ…‹ç•°å¸¸ã«ç‰¹åŒ–
  const ATTIRE_DATA = {
    "ğŸ’¥ ãƒ€ãƒ¡ãƒ¼ã‚¸ãƒ»æ±šã‚Œ (Damage & Dirt)": [
      { ja: "ç ´ã‚ŒãŸæœ", en: "torn clothes" },
      { ja: "ãƒœãƒ­ãƒœãƒ­", en: "tattered" },
      { ja: "ãƒ€ãƒ¡ãƒ¼ã‚¸åŠ å·¥", en: "distressed clothes" },
      { ja: "åˆ‡ã‚Šè£‚ã‹ã‚ŒãŸ", en: "slashed clothes" },
      { ja: "æ³¥æ±šã‚Œ", en: "muddy" },
      { ja: "è¡€ã¾ã¿ã‚Œ", en: "bloodstained" },
      { ja: "ã‚ªã‚¤ãƒ«æ±šã‚Œ", en: "oil stains" },
      { ja: "ç„¦ã’è·¡", en: "burnt clothes" },
      { ja: "æ¿¡ã‚ŒãŸæœ", en: "wet clothes" }
    ],
    "ğŸ˜³ ç€å´©ã—ãƒ»è„±è¡£ (Undressing & Open)": [
      { ja: "ã¯ã ã‘ãŸ", en: "open clothes" },
      { ja: "å‰é–‹ã", en: "unzipped" },
      { ja: "ãƒœã‚¿ãƒ³å¤–ã—", en: "unbuttoned" },
      { ja: "è„±ãã‹ã‘", en: "undressing" },
      { ja: "è‚©å‡ºã— (ã‚ªãƒ•ã‚·ãƒ§ãƒ«)", en: "off-shoulder" },
      { ja: "ç‰‡æ–¹ã ã‘è„±ã’ãŸ", en: "clothes slipping off" },
      { ja: "ãƒ–ãƒ©ãŒè¦‹ãˆã¦ã„ã‚‹", en: "bra visible" },
      { ja: "ãƒ‘ãƒ³ãƒ„ãŒè¦‹ãˆã¦ã„ã‚‹", en: "panties visible" },
      { ja: "ã‚·ãƒ£ãƒ„ã‚’æ²ã‚Šä¸Šã’ã‚‹", en: "shirt lift" },
      { ja: "ã‚¹ã‚«ãƒ¼ãƒˆæ²ã‚Š", en: "skirt lift" }
    ],
    "ã‚µã‚¤ã‚ºæ„Ÿãƒ»ãƒ•ã‚£ãƒƒãƒˆ (Fit)": [
      { ja: "ã‚ªãƒ¼ãƒãƒ¼ã‚µã‚¤ã‚º (ã¶ã‹ã¶ã‹)", en: "oversized" },
      { ja: "èŒãˆè¢–", en: "sleeves past fingers" },
      { ja: "ãƒ”ãƒãƒ”ãƒ (ã‚¿ã‚¤ãƒˆ)", en: "tight clothes" },
      { ja: "ãƒœãƒ‡ã‚£ã‚³ãƒ³ã‚·ãƒ£ã‚¹", en: "bodycon" },
      { ja: "ã‚µã‚¤ã‚ºãŒåˆã£ã¦ã„ãªã„", en: "ill-fitted clothes" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        // ç‰¹æ®ŠãªçŠ¶æ…‹æŒ‡å®šãªã®ã§ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯é–‰ã˜ã¦ãŠã
        details.open = false; 

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#fff0f5; color:#8b0000;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v6-container";
      
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v6-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.en);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v7.js ---
(function(){
  "use strict";
  const VERSION = 7; // æ‹¡å¼µãƒ‘ãƒƒã‚¯G (ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ç³»çµ±ãƒ»ã‚µãƒ–ã‚«ãƒ«)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ¦„ åŸå®¿ãƒ»ã‚«ãƒ¯ã‚¤ã‚¤ç³» (Harajuku/Kawaii)": [
      { ja: "ã‚†ã‚ã‹ã‚ã„ã„", en: "yume kawaii" }, 
      { ja: "ç—…ã¿ã‹ã‚ã„ã„", en: "yami kawaii" },
      { ja: "ãƒ•ã‚§ã‚¢ãƒªãƒ¼ç³»", en: "fairy kei" }, 
      { ja: "ãƒ‡ã‚³ãƒ© (æ´¾æ‰‹)", en: "decora" },
      { ja: "ãƒãƒƒãƒ—ç³»", en: "pop kei" }, 
      { ja: "ãƒ­ãƒªãƒ¼ã‚¿ (åŸºæœ¬)", en: "lolita fashion" },
      { ja: "åŸå®¿ã‚¹ã‚¿ã‚¤ãƒ«", en: "harajuku style" }
    ],
    "ğŸ–¤ åœ°é›·ãƒ»é‡ç”£ãƒ»ã‚´ã‚·ãƒƒã‚¯ (Dark/Girly)": [
      { ja: "åœ°é›·ç³» (Jiraikei)", en: "jiraikei" }, 
      { ja: "é‡ç”£å‹ (Ryousangata)", en: "ryousangata" },
      { ja: "ãƒ‘ã‚¹ãƒ†ãƒ«ã‚´ã‚¹", en: "pastel goth" }, 
      { ja: "ã‚´ã‚·ãƒƒã‚¯", en: "gothic" },
      { ja: "ãƒ¡ãƒ³ãƒ˜ãƒ©", en: "menhera" }, 
      { ja: "ãƒ‘ãƒ³ã‚¯", en: "punk fashion" },
      { ja: "ãƒ­ãƒƒã‚¯", en: "rock style" }
    ],
    "ğŸŒº ã‚®ãƒ£ãƒ«ãƒ»ãƒ¬ãƒˆãƒ­ãƒ»æ£® (Gal/Retro/Mori)": [
      { ja: "ã‚®ãƒ£ãƒ«", en: "gyaru" }, 
      { ja: "å§«ã‚®ãƒ£ãƒ«", en: "hime gyaru" },
      { ja: "ã‚³ã‚®ãƒ£ãƒ« (90s)", en: "kogal" }, 
      { ja: "æ£®ã‚¬ãƒ¼ãƒ«", en: "mori girl" },
      { ja: "ãƒ‰ãƒ¼ãƒªãƒ¼ç³» (äººå½¢)", en: "dolly kei" }, 
      { ja: "ã‚«ãƒ«ãƒˆãƒ‘ãƒ¼ãƒ†ã‚£ç³»", en: "cult party kei" },
      { ja: "ã‚¢ãƒ³ãƒ†ã‚£ãƒ¼ã‚¯ãƒ‰ãƒ¼ãƒ«", en: "antique doll" },
      { ja: "Y2Kãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³", en: "y2k fashion" }
    ],
    "ğŸ€ ãƒ­ãƒªãƒ¼ã‚¿æ´¾ç”Ÿ (Lolita Subgenres)": [
      { ja: "ç”˜ãƒ­ãƒª (ã‚¹ã‚¦ã‚£ãƒ¼ãƒˆ)", en: "sweet lolita" }, 
      { ja: "ã‚¯ãƒ©ãƒ­ãƒª (ã‚¯ãƒ©ã‚·ãƒƒã‚¯)", en: "classic lolita" },
      { ja: "ã‚´ã‚¹ãƒ­ãƒª", en: "gothic lolita" }, 
      { ja: "å’Œãƒ­ãƒª (ç€ç‰©é¢¨)", en: "wa-lolita" },
      { ja: "ä¸­è¯ãƒ­ãƒª (ãƒãƒ£ã‚¤ãƒŠé¢¨)", en: "qi-lolita" }, 
      { ja: "ãƒŸãƒªã‚¿ãƒªãƒ¼ãƒ­ãƒªãƒ¼ã‚¿", en: "military lolita" },
      { ja: "ãƒ‘ãƒ³ã‚¯ãƒ­ãƒªãƒ¼ã‚¿", en: "punk lolita" }, 
      { ja: "å§«ãƒ­ãƒª", en: "hime lolita" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f9f9f9; color:#555;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v7-container";
      
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      // v1ã®ã‚³ãƒ³ãƒ†ãƒŠã«è¿½åŠ 
      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v7-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.en);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();
})();

(function(){
// --- builder_ui.section.attire.v8.js ---
(function(){
  "use strict";
  const VERSION = 8; // æ‹¡å¼µãƒ‘ãƒƒã‚¯H (SFãƒ»æˆ¦è¡“ãƒ»ç‰¹æ®Šè¡£è£…)
  const KEY = "attire";

  // â˜… å°ç‰©(ã‚´ãƒ¼ã‚°ãƒ«ç­‰)ã¯ accessories.v1.js ã«ç§»å‹•ã—ã€ã‚¹ãƒ¼ãƒ„æœ¬ä½“ã®ã¿æ®‹ã™
  const ATTIRE_DATA = {
    "ğŸ¤– SFãƒ»è¿‘æœªæ¥ã‚¹ãƒ¼ãƒ„ (Sci-Fi Suits)": [
      { ja: "ãƒ—ãƒ©ã‚°ã‚¹ãƒ¼ãƒ„", en: "plugsuit" }, { ja: "ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆã‚¹ãƒ¼ãƒ„", en: "pilot suit" },
      { ja: "ãƒ¡ã‚«ãƒ‹ã‚«ãƒ«ã‚¹ãƒ¼ãƒ„", en: "mechanical suit" }, { ja: "ã‚µã‚¤ãƒãƒ¼ã‚¹ãƒ¼ãƒ„", en: "cybersuit" },
      { ja: "å®‡å®™æœ", en: "space suit" }, { ja: "å¼·åŒ–å¤–éª¨æ ¼", en: "exoskeleton" },
      { ja: "ãƒŠãƒã‚¹ãƒ¼ãƒ„", en: "nano suit" }, { ja: "ã‚¢ãƒ³ãƒ‰ãƒ­ã‚¤ãƒ‰ãƒ‘ãƒ¼ãƒ„", en: "android parts" },
      { ja: "ç™ºå…‰ã‚¹ãƒ¼ãƒ„", en: "glowing suit" }, { ja: "ãƒœãƒ‡ã‚£ã‚¢ãƒ¼ãƒãƒ¼ (SF)", en: "sci-fi armor" }
    ],
    "ğŸ”« ã‚¿ã‚¯ãƒ†ã‚£ã‚«ãƒ«ãƒ»è»äº‹ (Tactical Gear)": [
      { ja: "ã‚¿ã‚¯ãƒ†ã‚£ã‚«ãƒ«ãƒ™ã‚¹ãƒˆ", en: "tactical vest" }, { ja: "ãƒ—ãƒ¬ãƒ¼ãƒˆã‚­ãƒ£ãƒªã‚¢", en: "plate carrier" },
      { ja: "ãƒã‚§ã‚¹ãƒˆãƒªã‚°", en: "chest rig" }, { ja: "é˜²å¼¾ãƒãƒ§ãƒƒã‚­", en: "bulletproof vest" },
      { ja: "ã‚³ãƒ³ãƒãƒƒãƒˆã‚·ãƒ£ãƒ„", en: "combat shirt" }, { ja: "ã‚«ãƒ¼ã‚´ãƒ‘ãƒ³ãƒ„", en: "cargo pants" },
      { ja: "ã‚®ãƒªãƒ¼ã‚¹ãƒ¼ãƒ„", en: "ghillie suit" }, { ja: "è¿·å½©æœ (ã‚«ãƒ¢)", en: "camouflage uniform" },
      { ja: "è»ç”¨ãƒãƒ¼ãƒã‚¹", en: "military harness" }
      // ã‚¬ã‚¹ãƒã‚¹ã‚¯ã€æš—è¦–ã‚´ãƒ¼ã‚°ãƒ«ã¯ accessories ã¸ç§»å‹•
    ],
    "ğŸ¦¸ ãƒ’ãƒ¼ãƒ­ãƒ¼ãƒ»ãƒãƒˆãƒ« (Hero & Battle)": [
      { ja: "ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚¹ãƒ¼ãƒ„", en: "superhero suit" }, { ja: "æˆ¦éšŠã‚¹ãƒ¼ãƒ„", en: "sentai suit" },
      { ja: "ãƒãƒˆãƒ«ã‚¹ãƒ¼ãƒ„", en: "battlesuit" }, { ja: "ãƒ¬ã‚ªã‚¿ãƒ¼ãƒ‰", en: "leotard" },
      { ja: "ãƒã‚¤ãƒ¬ã‚°", en: "highleg" }, { ja: "å¿è€…ã‚¹ãƒ¼ãƒ„", en: "ninja suit" },
      { ja: "ããƒä¸€è¡£è£…", en: "kunoichi outfit" }, { ja: "æ ¼é—˜ç€", en: "fighting suit" },
      { ja: "ãƒ¬ãƒ¼ã‚·ãƒ³ã‚°ã‚¹ãƒ¼ãƒ„", en: "racing suit" }, { ja: "ãƒ©ã‚¤ãƒ€ãƒ¼ã‚¹ãƒ¼ãƒ„", en: "rider suit" }
    ],
    "âš ï¸ ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒ»ç‰¹æ®Šè¡£è£… (Unique/Special)": [
      { ja: "æ‹˜æŸè¡£", en: "straitjacket" }, { ja: "é˜²è­·æœ (ãƒã‚ºãƒãƒƒãƒˆ)", en: "hazmat suit" },
      { ja: "å›šäººæœ", en: "prison uniform" }, { ja: "åŒ…å¸¯å·»ã", en: "bandaged" },
      { ja: "ãƒŸã‚¤ãƒ©", en: "mummy" }, { ja: "ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¹ãƒ¼ãƒ„", en: "skeleton suit" },
      { ja: "é€æ˜ãƒ¬ã‚¤ãƒ³ã‚³ãƒ¼ãƒˆ", en: "transparent raincoat" }, { ja: "ãƒ“ãƒ‹ãƒ¼ãƒ«æœ", en: "plastic clothes" },
      { ja: "ãƒœãƒ­å¸ƒ", en: "rags" }, { ja: "è£¸ã‚¨ãƒ—ãƒ­ãƒ³", en: "naked apron" },
      { ja: "è£¸ãƒªãƒœãƒ³", en: "naked ribbon" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);
      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 
        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f9f9f9; color:#555;";
        details.appendChild(summary);
        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";
        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v8-container";
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });
      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v8-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.en);
      });
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v9.js ---
(function(){
  "use strict";
  const VERSION = 9; // æ‹¡å¼µãƒ‘ãƒƒã‚¯I (ãƒ•ãƒƒãƒˆã‚¦ã‚§ã‚¢ãƒ»ãƒ¬ãƒƒã‚°ã‚¦ã‚§ã‚¢è©³ç´°)
  const KEY = "attire";

  // â˜… å¸½å­ã‚„é«ªé£¾ã‚Šã¯ accessories.v1.js ã«ä»»ã›ã€è¶³å…ƒè©³ç´°ã«ç‰¹åŒ–
  const ATTIRE_DATA = {
    "ğŸ‘  é´ãƒ»ãƒ•ãƒƒãƒˆã‚¦ã‚§ã‚¢ (Footwear)": [
      { ja: "ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼", en: "sneakers" }, { ja: "ãƒã‚¤ã‚«ãƒƒãƒˆ", en: "high-top sneakers" },
      { ja: "ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼", en: "loafers" }, { ja: "ä¸Šå±¥ã", en: "uwabaki" },
      { ja: "ãƒã‚¤ãƒ’ãƒ¼ãƒ«", en: "high heels" }, { ja: "ãƒ‘ãƒ³ãƒ—ã‚¹", en: "pumps" },
      { ja: "åšåº•é´", en: "platform shoes" }, { ja: "ã‚µãƒ³ãƒ€ãƒ«", en: "sandals" },
      { ja: "ã‚°ãƒ©ãƒ‡ã‚£ã‚¨ãƒ¼ã‚¿ãƒ¼", en: "gladiator sandals" }, { ja: "ãƒ–ãƒ¼ãƒ„", en: "boots" },
      { ja: "ã‚¢ãƒ³ã‚¯ãƒ«ãƒ–ãƒ¼ãƒ„", en: "ankle boots" }, { ja: "ã‚³ãƒ³ãƒãƒƒãƒˆãƒ–ãƒ¼ãƒ„", en: "combat boots" },
      { ja: "ãƒ‹ãƒ¼ãƒã‚¤ãƒ–ãƒ¼ãƒ„", en: "thigh high boots" }, { ja: "ä¸‹é§„", en: "geta" },
      { ja: "è‰å±¥", en: "zori" }, { ja: "è£¸è¶³", en: "barefoot" }
    ],
    "ğŸ§¦ ãƒ¬ãƒƒã‚°ã‚¦ã‚§ã‚¢ãƒ»é´ä¸‹ (Legwear)": [
      { ja: "ãƒ‹ãƒ¼ã‚½ãƒƒã‚¯ã‚¹", en: "kneehighs" }, { ja: "ã‚ªãƒ¼ãƒãƒ¼ãƒ‹ãƒ¼", en: "thighhighs" },
      { ja: "ã‚µã‚¤ãƒã‚¤ã‚½ãƒƒã‚¯ã‚¹", en: "thighhighs" }, { ja: "ãƒ«ãƒ¼ã‚ºã‚½ãƒƒã‚¯ã‚¹", en: "loose socks" },
      { ja: "ãƒ©ã‚¤ãƒ³ã‚½ãƒƒã‚¯ã‚¹", en: "striped socks" }, { ja: "ã‚¹ã‚¯ãƒ¼ãƒ«ã‚½ãƒƒã‚¯ã‚¹", en: "white socks" },
      { ja: "é»’ã‚¿ã‚¤ãƒ„", en: "black tights" }, { ja: "ãƒ‘ãƒ³ã‚¹ãƒˆ", en: "pantyhose" },
      { ja: "ç¶²ã‚¿ã‚¤ãƒ„", en: "fishnets" }, { ja: "ã‚¬ãƒ¼ã‚¿ãƒ¼ãƒ™ãƒ«ãƒˆ", en: "garter belt" },
      { ja: "ãƒ¬ãƒƒã‚°ã‚¦ã‚©ãƒ¼ãƒãƒ¼", en: "leg warmers" }, { ja: "ãƒˆãƒ¬ãƒ³ã‚«", en: "stirrup legwear" },
      { ja: "è¶³è¢‹ (ã‚¿ãƒ“)", en: "tabi" }, { ja: "è£¸è¶³ (è„š)", en: "bare legs" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);
      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 
        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f9f9f9; color:#555;";
        details.appendChild(summary);
        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";
        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v9-container";
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });
      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v9-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.en);
      });
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v10.js ---
(function(){
  "use strict";
  const VERSION = 10; // æ‹¡å¼µãƒ‘ãƒƒã‚¯J (éƒ¨å±‹ç€ãƒ»ã‚¹ãƒãƒ¼ãƒ„ãƒ»ã‚³ã‚¹ãƒ—ãƒ¬è©³ç´°)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ›Œ éƒ¨å±‹ç€ãƒ»ãƒªãƒ©ãƒƒã‚¯ã‚¹ (Roomwear)": [
      { ja: "ãƒ‘ã‚¸ãƒ£ãƒ", en: "pajamas" }, { ja: "ãƒã‚°ãƒªã‚¸ã‚§", en: "negligee" },
      { ja: "ãƒ™ãƒ“ãƒ¼ãƒ‰ãƒ¼ãƒ«", en: "babydoll" }, { ja: "ã‚­ãƒ£ãƒŸã‚½ãƒ¼ãƒ«", en: "camisole" },
      { ja: "ã‚ªãƒ¼ãƒãƒ¼ã‚µã‚¤ã‚ºãƒ‘ãƒ¼ã‚«ãƒ¼", en: "oversized hoodie" }, { ja: "å½¼ã‚·ãƒ£ãƒ„ (Yã‚·ãƒ£ãƒ„ä¸€æš)", en: "boyfriend shirt" },
      { ja: "ãƒ‘ãƒ¼ã‚«ãƒ¼ï¼†ãƒ‘ãƒ³ãƒ„", en: "hoodie and panties" }, { ja: "ã‚¿ãƒ³ã‚¯ãƒˆãƒƒãƒ—ï¼†çŸ­ãƒ‘ãƒ³", en: "tank top and shorts" },
      { ja: "ãƒã‚¹ãƒ­ãƒ¼ãƒ–", en: "bathrobe" }, { ja: "ã‚¿ã‚ªãƒ«ä¸€æš", en: "towel" }
    ],
    "ğŸƒ ã‚¹ãƒãƒ¼ãƒ„ãƒ»ã‚¢ã‚¯ãƒ†ã‚£ãƒ– (Activewear)": [
      { ja: "ãƒ¨ã‚¬ãƒ‘ãƒ³ãƒ„", en: "yoga pants" }, { ja: "ãƒ¬ã‚®ãƒ³ã‚¹", en: "leggings" },
      { ja: "ã‚¹ãƒãƒ¼ãƒ„ãƒ–ãƒ©", en: "sports bra" }, { ja: "ãƒˆãƒ©ãƒƒã‚¯ã‚¸ãƒ£ã‚±ãƒƒãƒˆ", en: "track jacket" },
      { ja: "ãƒ†ãƒ‹ã‚¹ã‚¦ã‚§ã‚¢", en: "tennis uniform" }, { ja: "ãƒãƒ¬ãƒ¼ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ", en: "volleyball uniform" },
      { ja: "ãƒ©ãƒƒã‚·ãƒ¥ã‚¬ãƒ¼ãƒ‰", en: "rash guard" }, { ja: "ã‚¦ã‚§ãƒƒãƒˆã‚¹ãƒ¼ãƒ„", en: "wetsuit" },
      { ja: "ãƒã‚¤ã‚«ãƒ¼ã‚·ãƒ§ãƒ¼ãƒ„", en: "bike shorts" }, { ja: "ã‚µãƒ³ãƒã‚¤ã‚¶ãƒ¼", en: "sun visor" }
    ],
    "ğŸƒ ã‚³ã‚¹ãƒ—ãƒ¬ãƒ»è·æ¥­è©³ç´° (Cosplay/Jobs)": [
      { ja: "ãƒ¬ãƒ¼ã‚¹ã‚¯ã‚¤ãƒ¼ãƒ³", en: "race queen" }, { ja: "ãƒã‚¢ãƒªãƒ¼ãƒ€ãƒ¼", en: "cheerleader" },
      { ja: "ãƒãƒ‹ãƒ¼ã‚¬ãƒ¼ãƒ«", en: "bunny suit" }, { ja: "é€†ãƒãƒ‹ãƒ¼", en: "reverse bunny suit" },
      { ja: "ãƒŸãƒ‹ã‚¹ã‚«ãƒãƒªã‚¹", en: "police miniskirt" }, { ja: "ãƒŠãƒ¼ã‚¹ (ãƒŸãƒ‹)", en: "nurse dress" },
      { ja: "ãƒ¡ã‚¤ãƒ‰ (ãƒŸãƒ‹)", en: "maid mini dress" }, { ja: "ãƒ•ãƒ¬ãƒ³ãƒãƒ¡ã‚¤ãƒ‰", en: "french maid" },
      { ja: "ã‚·ã‚¹ã‚¿ãƒ¼ (ãƒŸãƒ‹)", en: "nun mini habit" }, { ja: "ãƒãƒ£ã‚¤ãƒŠ (ã‚¹ãƒªãƒƒãƒˆ)", en: "china dress high slit" },
      { ja: "ã‚µãƒ³ã‚¿ (ãƒ“ã‚­ãƒ‹)", en: "santa bikini" }, { ja: "ããƒä¸€ (å¿è€…)", en: "kunoichi" }
    ],
    "ğŸ‘™ æ°´ç€ãƒ»éœ²å‡ºé«˜ã‚ (Swimwear+)": [
      { ja: "ãƒã‚¤ã‚¯ãƒ­ãƒ“ã‚­ãƒ‹", en: "micro bikini" }, { ja: "ã‚¹ãƒªãƒ³ã‚°ã‚·ãƒ§ãƒƒãƒˆ", en: "slingshot swimsuit" },
      { ja: "ç«¶æ³³æ°´ç€ (ãƒã‚¤ãƒ¬ã‚°)", en: "competition swimsuit highleg" }, { ja: "ã‚¹ã‚¯ãƒ¼ãƒ«æ°´ç€ (æ—§)", en: "old school swimsuit" },
      { ja: "è²æ®»ãƒ“ã‚­ãƒ‹", en: "shell bikini" }, { ja: "ãƒãƒ¥ãƒ¼ãƒ–ãƒˆãƒƒãƒ—ãƒ“ã‚­ãƒ‹", en: "bandeau bikini" },
      { ja: "ãƒ¢ãƒã‚­ãƒ‹", en: "monokini" }, { ja: "ãƒ‘ãƒ¬ã‚ª", en: "pareo" },
      { ja: "æ¥µå°æ°´ç€", en: "tiny swimwear" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f9f9f9; color:#555;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v10-container";
      
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v10-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.en);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();
})();

(function(){
// --- builder_ui.section.attire.v11.js ---
(function(){
  "use strict";
  const VERSION = 11; // æ‹¡å¼µãƒ‘ãƒƒã‚¯K (ãƒã‚¤ãƒ«ãƒ»æ‰‹å…ƒç‰¹åŒ–)
  const KEY = "attire";

  // â˜… å°ç‰©ãƒ»æ­¦å™¨ãƒ»ãƒã‚¹ã‚¯ã¯ accessories.v1.js ã«ä»»ã›ã€æ‰‹å…ƒãƒ»ãƒã‚¤ãƒ«ã«ç‰¹åŒ–
  const ATTIRE_DATA = {
    "ğŸ’… ãƒã‚¤ãƒ«ãƒ»çˆª (Nails & Claws)": [
      { ja: "ãƒãƒ‹ã‚­ãƒ¥ã‚¢/ãƒã‚¤ãƒ«", en: "nail polish" }, { ja: "èµ¤ãƒã‚¤ãƒ«", en: "red nails" },
      { ja: "é»’ãƒã‚¤ãƒ«", en: "black nails" }, { ja: "ãƒ”ãƒ³ã‚¯ãƒã‚¤ãƒ«", en: "pink nails" },
      { ja: "ãƒ•ãƒ¬ãƒ³ãƒãƒã‚¤ãƒ«", en: "french manicure" },
      { ja: "é•·ã„çˆª", en: "long nails" }, { ja: "é‹­ã„çˆª (Claws)", en: "claws" },
      { ja: "ãƒã‚¤ãƒ«ã‚¢ãƒ¼ãƒˆ", en: "nail art" }, { ja: "ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚¤ãƒ«", en: "gradient nails" },
      { ja: "ã‚°ãƒªãƒƒã‚¿ãƒ¼ãƒã‚¤ãƒ«", en: "glitter nails" }
    ],
    "ğŸ§¤ æ‰‹è¢‹ãƒ»ãƒãƒ³ãƒ‰ã‚¦ã‚§ã‚¢ (Gloves & Hands)": [
      { ja: "æŒ‡ãªã—æ‰‹è¢‹", en: "fingerless gloves" },
      { ja: "ãƒ­ãƒ³ã‚°ã‚°ãƒ­ãƒ¼ãƒ–", en: "long gloves" },
      { ja: "é©æ‰‹è¢‹", en: "leather gloves" },
      { ja: "ãƒ¬ãƒ¼ã‚¹æ‰‹è¢‹", en: "lace gloves" },
      { ja: "ãƒ©ãƒ†ãƒƒã‚¯ã‚¹æ‰‹è¢‹", en: "latex gloves" },
      { ja: "ãƒŸãƒˆãƒ³", en: "mittens" },
      { ja: "ãƒœã‚¯ã‚·ãƒ³ã‚°ã‚°ãƒ­ãƒ¼ãƒ–", en: "boxing gloves" },
      { ja: "åŒ…å¸¯ (æ‰‹)", en: "bandaged hands" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);
      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 
        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f9f9f9; color:#555;";
        details.appendChild(summary);
        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";
        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v11-container";
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });
      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v11-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.en);
      });
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v12.js ---
(function(){
  "use strict";
  const VERSION = 12; // æ‹¡å¼µãƒ‘ãƒƒã‚¯L (ã‚µãƒ¼ã‚«ã‚¹ãƒ»æ­´å²ãƒ»æ¦‚å¿µãƒ»ç„¡æ³•è€…)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸª ã‚µãƒ¼ã‚«ã‚¹ãƒ»èˆå°è¡£è£… (Circus & Stage)": [
      { ja: "ãƒ”ã‚¨ãƒ­è¡£è£…", en: "clown suit" },
      { ja: "é“åŒ–å¸« (ã‚¸ã‚§ã‚¹ã‚¿ãƒ¼)", en: "jester costume" },
      { ja: "å›£é•· (ãƒªãƒ³ã‚°ãƒã‚¹ã‚¿ãƒ¼)", en: "ringmaster outfit" },
      { ja: "ãƒã‚¸ã‚·ãƒ£ãƒ³ç‡•å°¾æœ", en: "magician suit, tailcoat" },
      { ja: "ãƒãƒ‹ãƒ¼ãƒã‚¸ã‚·ãƒ£ãƒ³", en: "magician bunny suit" },
      { ja: "ãƒãƒ¬ã‚¨ (ãƒãƒ¥ãƒãƒ¥)", en: "ballet tutu" },
      { ja: "ãƒ¬ã‚ªã‚¿ãƒ¼ãƒ‰ (æ›²èŠ¸)", en: "acrobat leotard" },
      { ja: "ã‚«ãƒ¼ãƒ‹ãƒãƒ«è¡£è£…", en: "carnival costume, feathers" },
      { ja: "ä»®é¢èˆè¸ä¼šãƒ‰ãƒ¬ã‚¹", en: "masquerade dress" },
      { ja: "æ­Œå§«ãƒ‰ãƒ¬ã‚¹ (ã‚ªãƒšãƒ©)", en: "diva dress, opera gown" },
      { ja: "ãƒãƒ¼ãƒ¬ã‚¹ã‚¯è¡£è£…", en: "burlesque outfit" }
    ],
    "ğŸ›ï¸ å¤å…¸ãƒ»æ­´å²çš„è¡£è£… (Ancient & Historical)": [
      { ja: "ãƒˆãƒ¼ã‚¬ (å¤ä»£ãƒ­ãƒ¼ãƒ)", en: "toga" },
      { ja: "ãƒãƒ¥ãƒ‹ãƒƒã‚¯", en: "tunic" },
      { ja: "ã‚°ãƒ©ãƒ‡ã‚£ã‚¨ãƒ¼ã‚¿ãƒ¼é§", en: "gladiator armor" },
      { ja: "ã‚·ãƒ¥ãƒŸãƒ¼ã‚º (ä¸­ä¸–ä¸‹ç€)", en: "chemise" },
      { ja: "ã‚³ãƒ«ã‚»ãƒƒãƒˆãƒ‰ãƒ¬ã‚¹", en: "corset dress" },
      { ja: "ã‚¯ãƒªãƒãƒªãƒ³ (éª¨çµ„ã¿)", en: "crinoline" },
      { ja: "ãƒãƒƒã‚¹ãƒ«ãƒ‰ãƒ¬ã‚¹ (è…°å½“)", en: "bustle dress" },
      { ja: "è²´æ—ã®æœ", en: "aristocrat clothes" },
      { ja: "è¾²æ°‘ã®æœ", en: "peasant clothes" },
      { ja: "ç‹æ—ã®ãƒãƒ³ãƒˆ", en: "royal cape" },
      { ja: "å®®å»·ãƒ‰ãƒ¬ã‚¹ (ãƒ­ã‚³ã‚³)", en: "rococo gown" },
      { ja: "ãƒã‚¤ãƒãƒƒã‚¯ãƒ‰ãƒ¬ã‚¹ (ãƒ´ã‚£ã‚¯ãƒˆãƒªã‚¢ãƒ³)", en: "victorian dress" }
    ],
    "ğŸ´â€â˜ ï¸ æµ·è³Šãƒ»ç„¡æ³•è€… (Pirate & Outlaw)": [
      { ja: "æµ·è³Šã‚³ãƒ¼ãƒˆ", en: "pirate coat" },
      { ja: "ãƒœãƒ¼ãƒ€ãƒ¼ã‚·ãƒ£ãƒ„", en: "striped shirt, torn" },
      { ja: "ã‚«ã‚¦ãƒœãƒ¼ã‚¤ãƒ™ã‚¹ãƒˆ", en: "cowboy vest" },
      { ja: "ãƒãƒ£ãƒƒãƒ—ã‚¹ (é©è„šçµ†)", en: "chaps" },
      { ja: "ãƒãƒ³ãƒãƒ§ (è¥¿éƒ¨åŠ‡)", en: "poncho" },
      { ja: "ç›—è³Šã®æœ", en: "bandit clothes" },
      { ja: "ãƒ­ãƒ¼ã‚°/æš—æ®ºè€…", en: "assassin outfit, hood" },
      { ja: "ãƒã‚¤ã‚«ãƒ¼ãƒ™ã‚¹ãƒˆ", en: "biker vest, leather" },
      { ja: "å›šäººæœ (ä¸­ä¸–)", en: "medieval prisoner rags" }
    ],
    "ğŸŒŒ æ¦‚å¿µãƒ»ã‚¨ãƒ¬ãƒ¡ãƒ³ã‚¿ãƒ« (Conceptual & Elemental)": [
      { ja: "ç‚ã®ãƒ‰ãƒ¬ã‚¹", en: "dress made of fire" },
      { ja: "æ°´ã®æœ", en: "clothes made of water" },
      { ja: "æ°·ã®ã‚¢ãƒ¼ãƒãƒ¼", en: "ice armor" },
      { ja: "å…‰ã‚‹æœ", en: "glowing clothes" },
      { ja: "å½±ã®æœ", en: "shadow clothes" },
      { ja: "èŠ±ã®ãƒ‰ãƒ¬ã‚¹", en: "flower dress" },
      { ja: "è‘‰ã£ã±ã®æœ", en: "leaf clothes" },
      { ja: "é›²ã®ãƒ‰ãƒ¬ã‚¹", en: "cloud dress" },
      { ja: "éŠ€æ²³ã®ãƒ‰ãƒ¬ã‚¹", en: "galaxy dress" },
      { ja: "ä¸å¯è¦– (ã‚¤ãƒ³ãƒ“ã‚¸ãƒ–ãƒ«)", en: "invisible clothes" },
      { ja: "ã‚¨ãƒãƒ«ã‚®ãƒ¼ä½“", en: "energy body" },
      { ja: "ãƒ›ãƒ­ã‚°ãƒ©ãƒ æœ", en: "holographic clothing" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      // æ—¢å­˜ã‚³ãƒ³ãƒ†ãƒŠå‰Šé™¤
      const existing = parent.querySelector(".attire-v12-container");
      if(existing) existing.remove();

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f9f9f9; color:#555;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v12-container";
      
      // åŒºåˆ‡ã‚Šç·š
      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #ccc; text-align:center; color:#888; font-size:0.8em;";
      sep.textContent = "â–¼ ã‚µãƒ¼ã‚«ã‚¹ãƒ»æ­´å²ãƒ»æ¦‚å¿µ (v12 Expanded) â–¼";
      root.appendChild(sep);

      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v12-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.en);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v13.js ---
(function(){
  "use strict";
  const VERSION = 13; // æ‹¡å¼µãƒ‘ãƒƒã‚¯M (åŠ´åƒãƒ»å’Œã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ»äººç”Ÿ)
  const KEY = "attire";

  const CATEGORIES = {
    "ğŸ› ï¸ ãƒ¯ãƒ¼ã‚¯ãƒ»è»½ä½œæ¥­ (Labor & Part-time)": [
      { ja: "ã‚¨ãƒ—ãƒ­ãƒ³ (ã‚«ãƒ•ã‚§)", en: "apron, cafe uniform" },
      { ja: "å‰²çƒ¹ç€", en: "kappogi, white apron" },
      { ja: "ã‚¹ãƒ¼ãƒ‘ãƒ¼ã®åˆ¶æœ", en: "supermarket uniform, polo shirt, apron" },
      { ja: "ã‚³ãƒ³ãƒ“ãƒ‹åˆ¶æœ", en: "convenience store uniform" },
      { ja: "ã‚¬ã‚½ãƒªãƒ³ã‚¹ã‚¿ãƒ³ãƒ‰", en: "gas station uniform" },
      { ja: "æ¸…æƒå“¡ (ãƒ„ãƒŠã‚®)", en: "janitor uniform, jumpsuit" },
      { ja: "ä½œæ¥­ç€ (å·¥äº‹)", en: "construction worker, safety vest, helmet" },
      { ja: "è¾²ä½œæ¥­ç€", en: "farming clothes, straw hat, towel around neck" },
      { ja: "ã‚ªãƒ¼ãƒãƒ¼ã‚ªãƒ¼ãƒ«", en: "dungarees" },
      { ja: "é…é”å“¡", en: "delivery uniform, cap" }
    ],
    "ğŸ‘˜ å’Œè£…ãƒ»ãã¤ã‚ã (Japanese Casual)": [
      { ja: "ç”šå¹³ (ã˜ã‚“ã¹ã„)", en: "jinbei" },
      { ja: "ä½œå‹™è¡£ (ã•ã‚€ãˆ)", en: "samue" },
      { ja: "æ—…é¤¨ã®æµ´è¡£", en: "ryokan yukata, simple pattern" },
      { ja: "åŠçº (ã¯ã‚“ã¦ã‚“)", en: "hanten, winter japanese coat" },
      { ja: "ç€å´©ã—ãŸç€ç‰©", en: "loose kimono, disheveled" },
      { ja: "ã•ã‚‰ã— (èƒ¸)", en: "sarashi, breast wrap" },
      { ja: "ãµã‚“ã©ã—", en: "fundoshi" }, // v4ã«ã‚‚ã‚ã‚‹ãŒå’Œè£…ã‚»ãƒƒãƒˆã¨ã—ã¦
      { ja: "æ¹¯ä¸ŠãŒã‚Šã‚¿ã‚ªãƒ«", en: "towel around body, bath towel" },
      { ja: "æ‰‹ã¬ãã„", en: "tenugui" }
    ],
    "ğŸ¥ ãƒ©ã‚¤ãƒ•ãƒ»ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ (Life Events)": [
      { ja: "å…¥é™¢ç€ (æ‚£è€…è¡£)", en: "hospital gown" },
      { ja: "ãƒ‘ã‚¸ãƒ£ãƒ (ç—…é™¢)", en: "hospital pajamas" },
      { ja: "ãƒã‚¿ãƒ‹ãƒ†ã‚£ãƒ‰ãƒ¬ã‚¹", en: "maternity dress" },
      { ja: "å–ªæœ (ç€ç‰©)", en: "mourning kimono, black kimono" },
      { ja: "å–ªæœ (æ´‹è£…)", en: "black mourning dress, veil" },
      { ja: "å’æ¥­ã‚¬ã‚¦ãƒ³", en: "graduation gown, mortarboard" },
      { ja: "å›šäººæœ (ç¸)", en: "striped prison uniform" },
      { ja: "å›šäººæœ (ã‚ªãƒ¬ãƒ³ã‚¸)", en: "orange jumpsuit, prison uniform" },
      { ja: "æ‹˜æŸè¡£", en: "straitjacket" }
    ]
  };

  const API = {
    initUI(container) {
      const parent = document.querySelector("#list-attire");
      if (!parent) return;

      // æ—¢å­˜ã‚³ãƒ³ãƒ†ãƒŠå‰Šé™¤
      const existing = parent.querySelector(".attire-v13-container");
      if(existing) existing.remove();

      const section = document.createElement("div");
      section.className = "attire-v13-container";
      
      // åŒºåˆ‡ã‚Šç·š
      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #ccc; text-align:center; color:#888; font-size:0.8em;";
      sep.textContent = "â–¼ ãƒ¯ãƒ¼ã‚¯ãƒ»ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ« (v13 Expanded) â–¼";
      section.appendChild(sep);

      Object.entries(CATEGORIES).forEach(([cat, items]) => {
        const details = document.createElement("details");
        details.style.marginBottom = "6px";
        const summary = document.createElement("summary");
        summary.textContent = cat;
        summary.style.fontWeight = "bold";
        summary.style.cursor = "pointer";
        summary.style.background = "#f9f9f9";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.padding = "8px";
        content.style.display = "grid";
        content.style.gridTemplateColumns = "repeat(auto-fill, minmax(140px, 1fr))";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.display = "flex";
          label.style.alignItems = "center";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        section.appendChild(details);
      });
      
      parent.appendChild(section);

      if (window.__outputTranslation) {
        const dict = {};
        Object.values(CATEGORIES).flat().forEach(i => dict[i.en] = i.ja);
        window.__outputTranslation.register(dict);
      }
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v13-container input[type='checkbox']:checked").forEach(cb => tags.push(cb.dataset.en));
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v14.js ---
(function(){
  "use strict";
  const VERSION = 14; // æ‹¡å¼µãƒ‘ãƒƒã‚¯N (ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆãƒ»é…è‰²)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ¨ åŸºæœ¬ã‚«ãƒ©ãƒ¼ (Basic Colors)": [
      { ja: "ç™½ (ãƒ›ãƒ¯ã‚¤ãƒˆ)", en: "white" }, { ja: "é»’ (ãƒ–ãƒ©ãƒƒã‚¯)", en: "black" },
      { ja: "èµ¤ (ãƒ¬ãƒƒãƒ‰)", en: "red" }, { ja: "é’ (ãƒ–ãƒ«ãƒ¼)", en: "blue" },
      { ja: "ç·‘ (ã‚°ãƒªãƒ¼ãƒ³)", en: "green" }, { ja: "é»„ (ã‚¤ã‚¨ãƒ­ãƒ¼)", en: "yellow" },
      { ja: "ãƒ”ãƒ³ã‚¯", en: "pink" }, { ja: "ç´« (ãƒ‘ãƒ¼ãƒ—ãƒ«)", en: "purple" },
      { ja: "ã‚ªãƒ¬ãƒ³ã‚¸", en: "orange" }, { ja: "èŒ¶è‰² (ãƒ–ãƒ©ã‚¦ãƒ³)", en: "brown" },
      { ja: "ç°è‰² (ã‚°ãƒ¬ãƒ¼)", en: "grey" }, { ja: "ãƒ™ãƒ¼ã‚¸ãƒ¥", en: "beige" }
    ],
    "ğŸŒˆ ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ãƒ»ãƒˆãƒ¼ãƒ³ (Tone & Nuance)": [
      { ja: "ãƒ‘ã‚¹ãƒ†ãƒ«ã‚«ãƒ©ãƒ¼", en: "pastel colors" }, { ja: "ãƒã‚ªãƒ³ã‚«ãƒ©ãƒ¼", en: "neon colors" },
      { ja: "ãƒ€ãƒ¼ã‚¯ã‚«ãƒ©ãƒ¼", en: "dark colors" }, { ja: "ãƒ©ã‚¤ãƒˆã‚«ãƒ©ãƒ¼ (æ·¡ã„)", en: "light colors" },
      { ja: "ãƒ“ãƒ“ãƒƒãƒ‰ (é®®ã‚„ã‹)", en: "vivid colors" }, { ja: "ãƒ¢ãƒã‚¯ãƒ­", en: "monochrome" },
      { ja: "ãƒãƒƒãƒˆã‚«ãƒ©ãƒ¼", en: "matte color" }, { ja: "ãƒ¡ã‚¿ãƒªãƒƒã‚¯ã‚«ãƒ©ãƒ¼", en: "metallic color" },
      { ja: "é‡‘ (ã‚´ãƒ¼ãƒ«ãƒ‰)", en: "gold" }, { ja: "éŠ€ (ã‚·ãƒ«ãƒãƒ¼)", en: "silver" }
    ],
    "ğŸ–Œï¸ ç‰¹æ®Šè‰²ãƒ»è©³ç´° (Specific Colors)": [
      { ja: "ã‚¯ãƒªãƒ ã‚¾ãƒ³ (æ·±ç´…)", en: "crimson" }, { ja: "ãƒ¯ã‚¤ãƒ³ãƒ¬ãƒƒãƒ‰", en: "wine red" },
      { ja: "ãƒã‚¤ãƒ“ãƒ¼ (ç´º)", en: "navy blue" }, { ja: "ãƒ†ã‚£ãƒ¼ãƒ« (é’ç·‘)", en: "teal" },
      { ja: "ã‚¢ã‚¯ã‚¢", en: "aqua" }, { ja: "ã‚¨ãƒ¡ãƒ©ãƒ«ãƒ‰", en: "emerald" },
      { ja: "ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼", en: "lavender" }, { ja: "ãƒã‚¼ãƒ³ã‚¿", en: "magenta" },
      { ja: "ã‚ªãƒªãƒ¼ãƒ–", en: "olive" }, { ja: "ã‚«ãƒ¼ã‚­", en: "khaki" },
      { ja: "ã‚¯ãƒªãƒ¼ãƒ è‰²", en: "cream" }, { ja: "ã‚¢ã‚¤ãƒœãƒªãƒ¼", en: "ivory" }
    ],
    "ğŸ­ é…è‰²ãƒ‘ã‚¿ãƒ¼ãƒ³ (Color Schemes)": [
      { ja: "ãƒ„ãƒ¼ãƒˆãƒ³ã‚«ãƒ©ãƒ¼", en: "two-tone" }, { ja: "ãƒãƒ«ãƒã‚«ãƒ©ãƒ¼", en: "multicolored" },
      { ja: "ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³", en: "gradient" }, { ja: "ãƒ¬ã‚¤ãƒ³ãƒœãƒ¼", en: "rainbow" },
      { ja: "ãƒˆãƒªã‚³ãƒ­ãƒ¼ãƒ«", en: "tricolor" }, { ja: "ç™½é»’ (ãƒ‘ãƒ³ãƒ€)", en: "black and white" },
      { ja: "èµ¤ã¨é»’", en: "red and black" }, { ja: "é’ã¨ç™½", en: "blue and white" },
      { ja: "ãƒ”ãƒ³ã‚¯ã¨ç™½", en: "pink and white" }, { ja: "è¿·å½©è‰²ã®", en: "camouflage colored" }
    ]
  };

  // ç¿»è¨³è¾æ›¸
  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if(item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#fff0f5; color:#d63384;"; // è‰²é¸æŠã ã¨ã‚ã‹ã‚‹ã‚ˆã†ã«å°‘ã—è‰²ã‚’å¤‰ãˆã‚‹
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v14-container";
      
      // åŒºåˆ‡ã‚Šç·šã‚’å…¥ã‚Œã‚‹
      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #ccc; text-align:center; color:#888; font-size:0.8em;";
      sep.textContent = "â–¼ ã‚«ãƒ©ãƒ¼ãƒªãƒ³ã‚° (Coloring) â–¼";
      root.appendChild(sep);

      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v14-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.en);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();
})();

(function(){
// --- builder_ui.section.attire.v15.js ---
(function(){
  "use strict";
  const VERSION = 15; // æ‹¡å¼µãƒ‘ãƒƒã‚¯O (å…¨èº«ã‚³ãƒ¼ãƒ‡ãƒ»ã‚»ãƒƒãƒˆãƒ—ãƒªã‚»ãƒƒãƒˆ)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ« å­¦æ ¡ãƒ»ã‚¹ã‚¯ãƒ¼ãƒ«ã‚»ãƒƒãƒˆ (School Sets)": [
      { label: "ã‚»ãƒ¼ãƒ©ãƒ¼æœã‚»ãƒƒãƒˆ (Sailor)", val: "sailor uniform, pleated skirt, neckerchief, loafers, school bag, kneehighs" },
      { label: "ãƒ–ãƒ¬ã‚¶ãƒ¼ã‚»ãƒƒãƒˆ (Blazer)", val: "school uniform, blazer, white shirt, plaid skirt, bow tie, loafers, black tights" },
      { label: "ä½“æ“æœã‚»ãƒƒãƒˆ (Gym)", val: "gym uniform, bloomers, white t-shirt, sneakers, white socks" },
      { label: "ã‚¹ã‚¯æ°´ã‚»ãƒƒãƒˆ (Swim)", val: "school swimsuit, swimming cap, goggles, barefoot, wet skin" },
      { label: "å„ªç­‰ç”Ÿé¢¨ (Honor)", val: "school uniform, glasses, sweater vest, long skirt, holding book" },
      { label: "ã‚®ãƒ£ãƒ«JKé¢¨ (Gal)", val: "school uniform, loose socks, cardigan, short skirt, unbuttoned shirt, makeup" }
    ],
    "ğŸ¢ è·æ¥­ãƒ»ã‚³ã‚¹ãƒ—ãƒ¬ã‚»ãƒƒãƒˆ (Job/Cosplay Sets)": [
      { label: "OLã‚¹ãƒ¼ãƒ„ã‚»ãƒƒãƒˆ (Office)", val: "business suit, pencil skirt, white shirt, black tights, high heels, glasses" },
      { label: "ãƒ¡ã‚¤ãƒ‰ãƒ•ãƒ«ã‚»ãƒƒãƒˆ (Maid)", val: "maid, apron, long dress, frills, headdress, white stockings, mary janes" },
      { label: "ãƒŠãƒ¼ã‚¹ã‚»ãƒƒãƒˆ (Nurse)", val: "nurse uniform, nurse cap, white thighhighs, clipboard, stethoscope" },
      { label: "å·«å¥³ã‚»ãƒƒãƒˆ (Miko)", val: "miko attire, hakama, tabi, zori, hair ribbon" },
      { label: "ãƒãƒ£ã‚¤ãƒŠã‚»ãƒƒãƒˆ (China)", val: "china dress, high slit, hair bun, pantyhose, high heels" },
      { label: "ãƒãƒ‹ãƒ¼ã‚»ãƒƒãƒˆ (Bunny)", val: "bunny suit, rabbit ears, fishnets, high heels, cuffs, collar" },
      { label: "ãƒãƒªã‚¹ã‚»ãƒƒãƒˆ (Police)", val: "police uniform, police cap, handcuffs, miniskirt, boots" }
    ],
    "âš”ï¸ ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ã‚»ãƒƒãƒˆ (Fantasy Sets)": [
      { label: "é¨å£«ãƒ•ãƒ«è£…å‚™ (Knight)", val: "full armor, plate armor, gauntlets, cape, sword, shield, helmet" },
      { label: "é­”æ³•ä½¿ã„ã‚»ãƒƒãƒˆ (Mage)", val: "wizard robe, wizard hat, magic staff, cape, grimoire" },
      { label: "ãƒ“ã‚­ãƒ‹ã‚¢ãƒ¼ãƒãƒ¼ (Bikini)", val: "bikini armor, pauldrons, gauntlets, greaves, cape, sword" },
      { label: "å†’é™ºè€…ã‚»ãƒƒãƒˆ (Adventurer)", val: "adventurer outfit, leather armor, backpack, boots, pouch, belt" },
      { label: "ã‚¨ãƒ«ãƒ•ã‚»ãƒƒãƒˆ (Elf)", val: "elf, green dress, leaf design, tiara, bow and arrow, forest background" }
    ],
    "ğŸ›‹ï¸ æ—¥å¸¸ãƒ»ãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚»ãƒƒãƒˆ (Casual/Room)": [
      { label: "ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ‡ãƒ‹ãƒ  (Denim)", val: "t-shirt, jeans, sneakers, casual, backpack" },
      { label: "éƒ¨å±‹ç€ãƒ‘ãƒ¼ã‚«ãƒ¼ (Hoodie)", val: "oversized hoodie, panties, barefoot, off-shoulder, messy hair" },
      { label: "ãƒ‘ã‚¸ãƒ£ãƒã‚»ãƒƒãƒˆ (Pajama)", val: "pajamas, holding plush toy, bed, messy hair" },
      { label: "ãƒ‡ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‡ (Date)", val: "dress, cardigan, handbag, pumps, necklace, earrings" },
      { label: "å¤ãƒ•ã‚§ã‚¹ (Festival)", val: "shorts, tank top, sunglasses, hat, wristband, sneakers" }
    ]
  };

  // ç¿»è¨³è¾æ›¸ (æ§‹æˆè¦ç´ ã‚’å®Œå…¨ç¶²ç¾…)
  const DICT = {
    // School Components
    "sailor uniform": "ã‚»ãƒ¼ãƒ©ãƒ¼æœ", "pleated skirt": "ãƒ—ãƒªãƒ¼ãƒ„ã‚¹ã‚«ãƒ¼ãƒˆ", "neckerchief": "ãƒãƒƒã‚«ãƒãƒ¼ãƒ•",
    "loafers": "ãƒ­ãƒ¼ãƒ•ã‚¡ãƒ¼", "school bag": "é€šå­¦é„", "kneehighs": "ãƒ‹ãƒ¼ã‚½ãƒƒã‚¯ã‚¹",
    "school uniform": "å­¦æ ¡åˆ¶æœ", "blazer": "ãƒ–ãƒ¬ã‚¶ãƒ¼", "white shirt": "ç™½ã‚·ãƒ£ãƒ„",
    "plaid skirt": "ãƒã‚§ãƒƒã‚¯æŸ„ã‚¹ã‚«ãƒ¼ãƒˆ", "bow tie": "ãƒœã‚¦ã‚¿ã‚¤", "black tights": "é»’ã‚¿ã‚¤ãƒ„",
    "gym uniform": "ä½“æ“æœ", "bloomers": "ãƒ–ãƒ«ãƒ", "white t-shirt": "ç™½Tã‚·ãƒ£ãƒ„",
    "sneakers": "ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼", "white socks": "ç™½ã‚½ãƒƒã‚¯ã‚¹",
    "school swimsuit": "ã‚¹ã‚¯ãƒ¼ãƒ«æ°´ç€", "swimming cap": "æ°´æ³³å¸½", "goggles": "ã‚´ãƒ¼ã‚°ãƒ«",
    "barefoot": "è£¸è¶³", "wet skin": "æ¿¡ã‚ŒãŸè‚Œ",
    "glasses": "çœ¼é¡", "sweater vest": "ã‚»ãƒ¼ã‚¿ãƒ¼ãƒ™ã‚¹ãƒˆ", "long skirt": "ãƒ­ãƒ³ã‚°ã‚¹ã‚«ãƒ¼ãƒˆ",
    "holding book": "æœ¬ã‚’æŒã¤",
    "loose socks": "ãƒ«ãƒ¼ã‚ºã‚½ãƒƒã‚¯ã‚¹", "cardigan": "ã‚«ãƒ¼ãƒ‡ã‚£ã‚¬ãƒ³", "short skirt": "ãƒŸãƒ‹ã‚¹ã‚«ãƒ¼ãƒˆ",
    "unbuttoned shirt": "ãƒœã‚¿ãƒ³ã‚’å¤–ã—ãŸã‚·ãƒ£ãƒ„", "makeup": "ãƒ¡ã‚¤ã‚¯",

    // Job/Cosplay Components
    "business suit": "ã‚¹ãƒ¼ãƒ„", "pencil skirt": "ã‚¿ã‚¤ãƒˆã‚¹ã‚«ãƒ¼ãƒˆ", "high heels": "ãƒã‚¤ãƒ’ãƒ¼ãƒ«",
    "maid": "ãƒ¡ã‚¤ãƒ‰", "apron": "ã‚¨ãƒ—ãƒ­ãƒ³", "long dress": "ãƒ­ãƒ³ã‚°ãƒ‰ãƒ¬ã‚¹", "frills": "ãƒ•ãƒªãƒ«",
    "headdress": "ãƒ˜ãƒƒãƒ‰ãƒ‰ãƒ¬ã‚¹", "white stockings": "ç™½ã‚¹ãƒˆãƒƒã‚­ãƒ³ã‚°", "mary janes": "ãƒ¡ãƒªãƒ¼ã‚¸ã‚§ãƒ¼ãƒ³é´",
    "nurse uniform": "ãƒŠãƒ¼ã‚¹æœ", "nurse cap": "ãƒŠãƒ¼ã‚¹ã‚­ãƒ£ãƒƒãƒ—", "white thighhighs": "ç™½ãƒ‹ãƒ¼ã‚½",
    "clipboard": "ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰", "stethoscope": "è´è¨ºå™¨",
    "miko attire": "å·«å¥³æœ", "hakama": "è¢´", "tabi": "è¶³è¢‹", "zori": "è‰å±¥", "hair ribbon": "é«ªãƒªãƒœãƒ³",
    "china dress": "ãƒãƒ£ã‚¤ãƒŠãƒ‰ãƒ¬ã‚¹", "high slit": "æ·±ã„ã‚¹ãƒªãƒƒãƒˆ", "hair bun": "ãŠå›£å­é«ª", "pantyhose": "ãƒ‘ãƒ³ã‚¹ãƒˆ",
    "bunny suit": "ãƒãƒ‹ãƒ¼ã‚¹ãƒ¼ãƒ„", "rabbit ears": "ã†ã•è€³", "fishnets": "ç¶²ã‚¿ã‚¤ãƒ„", "cuffs": "ã‚«ãƒ•ã‚¹", "collar": "é¦–è¼ª/è¥Ÿ",
    "police uniform": "è­¦å®˜ã®åˆ¶æœ", "police cap": "è­¦å®˜å¸½", "handcuffs": "æ‰‹éŒ ", "miniskirt": "ãƒŸãƒ‹ã‚¹ã‚«ãƒ¼ãƒˆ", "boots": "ãƒ–ãƒ¼ãƒ„",

    // Fantasy Components
    "full armor": "ãƒ•ãƒ«ã‚¢ãƒ¼ãƒãƒ¼", "plate armor": "ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¢ãƒ¼ãƒãƒ¼", "gauntlets": "ã‚¬ãƒ³ãƒˆãƒ¬ãƒƒãƒˆ",
    "cape": "ãƒãƒ³ãƒˆ", "sword": "å‰£", "shield": "ç›¾", "helmet": "å…œ",
    "wizard robe": "é­”æ³•ä½¿ã„ã®ãƒ­ãƒ¼ãƒ–", "wizard hat": "é­”æ³•ä½¿ã„ã®å¸½å­", "magic staff": "é­”æ³•ã®æ–", "grimoire": "é­”å°æ›¸",
    "bikini armor": "ãƒ“ã‚­ãƒ‹ã‚¢ãƒ¼ãƒãƒ¼", "pauldrons": "è‚©å½“ã¦", "greaves": "ã™ã­å½“ã¦",
    "adventurer outfit": "å†’é™ºè€…ã®æœ", "leather armor": "é©é§", "backpack": "ãƒãƒƒã‚¯ãƒ‘ãƒƒã‚¯",
    "pouch": "ãƒãƒ¼ãƒ", "belt": "ãƒ™ãƒ«ãƒˆ",
    "elf": "ã‚¨ãƒ«ãƒ•", "green dress": "ç·‘ã®ãƒ‰ãƒ¬ã‚¹", "leaf design": "è‘‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³",
    "tiara": "ãƒ†ã‚£ã‚¢ãƒ©", "bow and arrow": "å¼“çŸ¢", "forest background": "æ£®ã®èƒŒæ™¯",

    // Casual Components
    "t-shirt": "Tã‚·ãƒ£ãƒ„", "jeans": "ã‚¸ãƒ¼ãƒ³ã‚º", "casual": "ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«",
    "oversized hoodie": "ç‰¹å¤§ãƒ‘ãƒ¼ã‚«ãƒ¼", "panties": "ãƒ‘ãƒ³ãƒ†ã‚£", "off-shoulder": "ã‚ªãƒ•ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼",
    "messy hair": "ãƒœã‚µãƒœã‚µé«ª/å¯ç™–",
    "pajamas": "ãƒ‘ã‚¸ãƒ£ãƒ", "holding plush toy": "ã¬ã„ãã‚‹ã¿ã‚’æŠ±ã", "bed": "ãƒ™ãƒƒãƒ‰",
    "dress": "ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹", "handbag": "ãƒãƒ³ãƒ‰ãƒãƒƒã‚°", "pumps": "ãƒ‘ãƒ³ãƒ—ã‚¹",
    "necklace": "ãƒãƒƒã‚¯ãƒ¬ã‚¹", "earrings": "ã‚¤ãƒ¤ãƒªãƒ³ã‚°",
    "shorts": "ã‚·ãƒ§ãƒ¼ãƒˆãƒ‘ãƒ³ãƒ„", "tank top": "ã‚¿ãƒ³ã‚¯ãƒˆãƒƒãƒ—", "sunglasses": "ã‚µãƒ³ã‚°ãƒ©ã‚¹",
    "hat": "å¸½å­", "wristband": "ãƒªã‚¹ãƒˆãƒãƒ³ãƒ‰"
  };

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#fff0f5; color:#d63384;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(150px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.val = item.val; 
          cb.style.marginRight = "6px";
          
          label.appendChild(cb);
          label.appendChild(document.createTextNode(item.label));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v15-container";
      
      // åŒºåˆ‡ã‚Šç·š
      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #ccc; text-align:center; color:#888; font-size:0.8em;";
      sep.textContent = "â–¼ ã‚³ãƒ¼ãƒ‡ã‚£ãƒãƒ¼ãƒˆã‚»ãƒƒãƒˆ (Outfit Sets) â–¼";
      root.appendChild(sep);

      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v15-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.val);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v16.js ---
(function(){
  "use strict";
  const VERSION = 16; // æ‹¡å¼µãƒ‘ãƒƒã‚¯P (æ‹¡å¼µã‚³ãƒ¼ãƒ‡ã‚»ãƒƒãƒˆ: ã‚µãƒ–ã‚«ãƒ«ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãƒ»äººå¤–)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ€ ã‚µãƒ–ã‚«ãƒ«ãƒ»ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ã‚»ãƒƒãƒˆ (Subculture Sets)": [
      { label: "ç”˜ãƒ­ãƒªã‚»ãƒƒãƒˆ (Sweet)", val: "sweet lolita, pink dress, frills, bows, bonnet, mary janes, white tights" },
      { label: "ã‚´ã‚¹ãƒ­ãƒªã‚»ãƒƒãƒˆ (Gothic)", val: "gothic lolita, black dress, cross, headdress, lace, platform shoes" },
      { label: "åœ°é›·ç³»ã‚»ãƒƒãƒˆ (Jirai)", val: "jiraikei, black and pink, ribbon, backpack, platform shoes, makeup, dark atmosphere" },
      { label: "ã‚¹ãƒãƒ¼ãƒ ãƒ‘ãƒ³ã‚¯ã‚»ãƒƒãƒˆ (Steam)", val: "steampunk, corset, gears, goggles, brown leather, boots, brass accessories" },
      { label: "ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯ã‚»ãƒƒãƒˆ (Cyber)", val: "cyberpunk, techwear, neon lights, jacket, bodysuit, futuristic visor, mechanical parts" }
    ],
    "ğŸ’ ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¹ãƒ†ãƒ¼ã‚¸è¡£è£…ã‚»ãƒƒãƒˆ (Event/Stage Sets)": [
      { label: "ã‚¦ã‚§ãƒ‡ã‚£ãƒ³ã‚°ã‚»ãƒƒãƒˆ (Bride)", val: "wedding dress, white, veil, bouquet, tiara, jewelry, church background" },
      { label: "ã‚¢ã‚¤ãƒ‰ãƒ«è¡£è£…ã‚»ãƒƒãƒˆ (Idol)", val: "idol clothes, shiny, frills, microphone, stage lights, energetic pose, ribbon" },
      { label: "ãƒ¬ãƒ¼ã‚¹ã‚¯ã‚¤ãƒ¼ãƒ³ã‚»ãƒƒãƒˆ (RQ)", val: "race queen, highleg, umbrella, boots, cap, circuit background" },
      { label: "ãƒã‚¢ãƒªãƒ¼ãƒ€ãƒ¼ã‚»ãƒƒãƒˆ (Cheer)", val: "cheerleader, pom poms, crop top, miniskirt, sneakers, energetic" },
      { label: "ãƒãƒ¬ãƒªãƒ¼ãƒŠã‚»ãƒƒãƒˆ (Ballet)", val: "ballet tutu, ballet shoes, tights, bun hair, elegant pose, stage" }
    ],
    "ğŸ‘¹ ãƒ•ã‚¡ãƒ³ã‚¿ã‚¸ãƒ¼ãƒ»äººå¤–ã‚»ãƒƒãƒˆ (Fantasy/Non-Human Sets)": [
      { label: "æ‚ªé­”/ã‚µã‚­ãƒ¥ãƒã‚¹ã‚»ãƒƒãƒˆ (Demon)", val: "succubus, demon wings, horns, tail, black outfit, gothic" },
      { label: "å¤©ä½¿ã‚»ãƒƒãƒˆ (Angel)", val: "angel, white wings, halo, white dress, holy light, feathers" },
      { label: "ãƒ´ã‚¡ãƒ³ãƒ‘ã‚¤ã‚¢ã‚»ãƒƒãƒˆ (Vampire)", val: "vampire, gothic clothes, cape, fangs, red eyes, coffin, dark atmosphere" },
      { label: "é­”å¥³ã‚»ãƒƒãƒˆ (Witch)", val: "witch, robe, witch hat, broom, magic book, potion" },
      { label: "ããƒä¸€ã‚»ãƒƒãƒˆ (Ninja)", val: "kunoichi, ninja suit, scarf, katana, mask, japanese dojo background" }
    ]
  };

  // ç¿»è¨³è¾æ›¸ (æ§‹æˆè¦ç´ ã‚’å®Œå…¨ç¶²ç¾…)
  const DICT = {
    // Subculture
    "sweet lolita": "ç”˜ãƒ­ãƒª", "pink dress": "ãƒ”ãƒ³ã‚¯ã®ãƒ‰ãƒ¬ã‚¹", "frills": "ãƒ•ãƒªãƒ«", "bows": "ãƒªãƒœãƒ³",
    "bonnet": "ãƒœãƒ³ãƒãƒƒãƒˆ", "mary janes": "ãƒ¡ãƒªãƒ¼ã‚¸ã‚§ãƒ¼ãƒ³é´", "white tights": "ç™½ã‚¿ã‚¤ãƒ„",
    "gothic lolita": "ã‚´ã‚¹ãƒ­ãƒª", "black dress": "é»’ãƒ‰ãƒ¬ã‚¹", "cross": "åå­—æ¶",
    "headdress": "ãƒ˜ãƒƒãƒ‰ãƒ‰ãƒ¬ã‚¹", "lace": "ãƒ¬ãƒ¼ã‚¹", "platform shoes": "åšåº•é´",
    "jiraikei": "åœ°é›·ç³»", "black and pink": "é»’ã¨ãƒ”ãƒ³ã‚¯", "ribbon": "ãƒªãƒœãƒ³",
    "backpack": "ãƒªãƒ¥ãƒƒã‚¯", "makeup": "ãƒ¡ã‚¤ã‚¯", "dark atmosphere": "æš—ã„é›°å›²æ°—",
    "steampunk": "ã‚¹ãƒãƒ¼ãƒ ãƒ‘ãƒ³ã‚¯", "corset": "ã‚³ãƒ«ã‚»ãƒƒãƒˆ", "gears": "æ­¯è»Š",
    "goggles": "ã‚´ãƒ¼ã‚°ãƒ«", "brown leather": "èŒ¶è‰²ã®é©", "boots": "ãƒ–ãƒ¼ãƒ„", "brass accessories": "çœŸé®ã‚¢ã‚¯ã‚»",
    "cyberpunk": "ã‚µã‚¤ãƒãƒ¼ãƒ‘ãƒ³ã‚¯", "techwear": "ãƒ†ãƒƒã‚¯ã‚¦ã‚§ã‚¢", "neon lights": "ãƒã‚ªãƒ³ãƒ©ã‚¤ãƒˆ",
    "jacket": "ã‚¸ãƒ£ã‚±ãƒƒãƒˆ", "bodysuit": "ãƒœãƒ‡ã‚£ã‚¹ãƒ¼ãƒ„", "futuristic visor": "æœªæ¥çš„ãªãƒã‚¤ã‚¶ãƒ¼", "mechanical parts": "æ©Ÿæ¢°éƒ¨å“",

    // Event
    "wedding dress": "ã‚¦ã‚§ãƒ‡ã‚£ãƒ³ã‚°ãƒ‰ãƒ¬ã‚¹", "white": "ç™½", "veil": "ãƒ™ãƒ¼ãƒ«",
    "bouquet": "ãƒ–ãƒ¼ã‚±", "tiara": "ãƒ†ã‚£ã‚¢ãƒ©", "jewelry": "ã‚¸ãƒ¥ã‚¨ãƒªãƒ¼", "church background": "æ•™ä¼šèƒŒæ™¯",
    "idol clothes": "ã‚¢ã‚¤ãƒ‰ãƒ«è¡£è£…", "shiny": "å…‰æ²¢", "microphone": "ãƒã‚¤ã‚¯",
    "stage lights": "ã‚¹ãƒ†ãƒ¼ã‚¸ç…§æ˜", "energetic pose": "å…ƒæ°—ãªãƒãƒ¼ã‚º",
    "race queen": "ãƒ¬ãƒ¼ã‚¹ã‚¯ã‚¤ãƒ¼ãƒ³", "highleg": "ãƒã‚¤ãƒ¬ã‚°", "umbrella": "å‚˜",
    "cap": "å¸½å­/ã‚­ãƒ£ãƒƒãƒ—", "circuit background": "ã‚µãƒ¼ã‚­ãƒƒãƒˆèƒŒæ™¯",
    "cheerleader": "ãƒã‚¢ãƒªãƒ¼ãƒ€ãƒ¼", "pom poms": "ãƒãƒ³ãƒãƒ³", "crop top": "ã‚¯ãƒ­ãƒƒãƒ—ãƒˆãƒƒãƒ—",
    "miniskirt": "ãƒŸãƒ‹ã‚¹ã‚«ãƒ¼ãƒˆ", "sneakers": "ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼", "energetic": "ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥",
    "ballet tutu": "ãƒãƒ¥ãƒãƒ¥", "ballet shoes": "ãƒãƒ¬ã‚¨ã‚·ãƒ¥ãƒ¼ã‚º", "tights": "ã‚¿ã‚¤ãƒ„",
    "bun hair": "ãŠå›£å­é«ª", "elegant pose": "å„ªé›…ãªãƒãƒ¼ã‚º", "stage": "ã‚¹ãƒ†ãƒ¼ã‚¸",

    // Fantasy
    "succubus": "ã‚µã‚­ãƒ¥ãƒã‚¹", "demon wings": "æ‚ªé­”ã®ç¿¼", "horns": "è§’", "tail": "å°»å°¾",
    "black outfit": "é»’ã„è¡£è£…", "gothic": "ã‚´ã‚·ãƒƒã‚¯",
    "angel": "å¤©ä½¿", "white wings": "ç™½ã„ç¿¼", "halo": "å¤©ä½¿ã®è¼ª", "white dress": "ç™½ã„ãƒ‰ãƒ¬ã‚¹",
    "holy light": "è–ãªã‚‹å…‰", "feathers": "ç¾½",
    "vampire": "ãƒ´ã‚¡ãƒ³ãƒ‘ã‚¤ã‚¢", "gothic clothes": "ã‚´ã‚·ãƒƒã‚¯æœ", "cape": "ãƒãƒ³ãƒˆ",
    "fangs": "ç‰™", "red eyes": "èµ¤ã„ç›®", "coffin": "æ£ºæ¡¶",
    "witch": "é­”å¥³", "robe": "ãƒ­ãƒ¼ãƒ–", "witch hat": "é­”å¥³ã®å¸½å­", "broom": "ç®’",
    "magic book": "é­”æ³•ã®æœ¬", "potion": "ãƒãƒ¼ã‚·ãƒ§ãƒ³",
    "kunoichi": "ããƒä¸€", "ninja suit": "å¿è€…ã‚¹ãƒ¼ãƒ„", "scarf": "ã‚¹ã‚«ãƒ¼ãƒ•/ãƒãƒ•ãƒ©ãƒ¼",
    "katana": "åˆ€", "mask": "ãƒã‚¹ã‚¯/é¢", "japanese dojo background": "é“å ´èƒŒæ™¯"
  };

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false; 

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#fff0f5; color:#d63384;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(150px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.val = item.val; 
          cb.style.marginRight = "6px";
          
          label.appendChild(cb);
          label.appendChild(document.createTextNode(item.label));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v16-container";
      
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v16-container input[type='checkbox']:checked").forEach(cb => {
        tags.push(cb.dataset.val);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v17.js ---
(function(){
  "use strict";
  const VERSION = 17; // æ‹¡å¼µãƒ‘ãƒƒã‚¯R (R-18/NSFWç‰¹åŒ–ãƒ»Syntax Fixed)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ” å®Œå…¨éœ²å‡ºãƒ»è£¸ (Nude & Naked)": [
      { ja: "å…¨è£¸ (Nude)", en: "nude" },
      { ja: "ãƒˆãƒƒãƒ—ãƒ¬ã‚¹", en: "topless" },
      { ja: "ãƒœãƒˆãƒ ãƒ¬ã‚¹ (ä¸‹å±¥ã„ã¦ãªã„)", en: "bottomless" },
      { ja: "ãƒ‹ãƒ—ãƒ¬ã‚¹ã®ã¿", en: "pasties only" },
      { ja: "å‰è²¼ã‚Š (C-string)", en: "c-string" },
      { ja: "æ‰‹ãƒ–ãƒ©", en: "hand bra" },
      { ja: "å…¨è£¸å¾…æ©Ÿ", en: "waiting nude, naked standing" }
    ],
    "ğŸ™ ä¾µé£Ÿãƒ»ç”Ÿä½“ã‚¹ãƒ¼ãƒ„ (Living & Parasitic Suits)": [
      { ja: "ç”Ÿä½“ãƒ¢ãƒã‚­ãƒ‹", en: "living monokini, organic armor, pulsating texture" },
      { ja: "ã‚¹ãƒ©ã‚¤ãƒ ãƒœãƒ‡ã‚£ã‚¹ãƒ¼ãƒ„", en: "slime bodysuit, translucent slime, fusing with skin" },
      { ja: "è§¦æ‰‹ã‚¹ãƒ¼ãƒ„", en: "tentacle suit, tentacles wrapped around body, living clothes" },
      { ja: "åŠé€æ˜ã‚¼ãƒªãƒ¼ã‚¹ãƒ¼ãƒ„", en: "semi-transparent jelly suit, glowing internal organs view" },
      { ja: "è„ˆæ‰“ã¤è¡€ç®¡ã‚¹ãƒ¼ãƒ„", en: "veiny bodysuit, pulsing veins, bio-organic" },
      { ja: "è‚‰å£ã‚¹ãƒ¼ãƒ„", en: "flesh wall suit, membrane, organic texture" },
      { ja: "æ‹˜æŸã‚¹ãƒ©ã‚¤ãƒ ", en: "bound by slime, slime covering body, melting clothes" },
      { ja: "èŠ±å¼çŠ¶ã®è§¦æ‰‹æœ", en: "petal-shaped tentacle motifs, anemone patterns" },
      { ja: "æº¶ã‘ãŸæœ", en: "melting clothes, clothes dissolving into slime" }
    ],
    "ğŸ‘™ è£¸ï¼‹Î±ãƒ»ãƒãƒ©ãƒªã‚ºãƒ  (Naked + X)": [
      { ja: "è£¸ã‚¨ãƒ—ãƒ­ãƒ³", en: "naked apron" },
      { ja: "è£¸ãƒªãƒœãƒ³", en: "naked ribbon" },
      { ja: "è£¸ãƒ¯ã‚¤ã‚·ãƒ£ãƒ„", en: "naked shirt, boyfriend shirt" },
      { ja: "è£¸ãƒ‘ãƒ¼ã‚«ãƒ¼", en: "naked hoodie" },
      { ja: "ã‚¹ã‚±ã‚¹ã‚±ãƒ¬ã‚¤ãƒ³ã‚³ãƒ¼ãƒˆ (ä¸­èº«è£¸)", en: "transparent raincoat, naked under raincoat" },
      { ja: "ãƒ†ãƒ¼ãƒ—æ‹˜æŸæœ", en: "tape outfit, electrical tape covering nipples" },
      { ja: "ãƒªãƒœãƒ³ãƒãƒŸãƒ¼ (åŒ…å¸¯)", en: "ribbon mummy, ribbon bondage" },
      { ja: "ãƒœãƒ‡ã‚£ãƒšã‚¤ãƒ³ãƒˆè¡£è£…", en: "body paint outfit, painted clothes" },
      { ja: "ãŸãã—ä¸Šã’ (å…¨è£¸)", en: "clothes lifted, exposing everything" }
    ],
    "â›“ï¸ ãƒœãƒ³ãƒ†ãƒ¼ã‚¸ãƒ»ãƒãƒ¼ãƒ‰æ‹˜æŸ (Hard Bondage)": [
      { ja: "ãƒœãƒ³ãƒ†ãƒ¼ã‚¸è¡£è£…", en: "bondage outfit, leather, spikes" },
      { ja: "ãƒ©ãƒãƒ¼ã‚¹ãƒ¼ãƒ„", en: "latex suit, rubber catsuit" },
      { ja: "çœŸç©ºã‚¹ãƒ¼ãƒ„", en: "vacuum suit, vacuum sealed, definition of body" },
      { ja: "çŠ¬å…·ãƒ»ãƒãƒ¼ãƒã‚¹", en: "harness, dog collar, leash" },
      { ja: "é¦–è¼ªã¨é–", en: "collar and chain, metal chain" },
      { ja: "çŒ¿è½¡ (ãƒœãƒ¼ãƒ«ã‚®ãƒ£ã‚°)", en: "ball gag, ring gag, drooling" },
      { ja: "ç›®éš ã—", en: "blindfold, sensory deprivation" },
      { ja: "æ‰‹éŒ ãƒ»è¶³æ·", en: "handcuffs, shackles, metal cuffs" },
      { ja: "ç·Šç¸› (äº€ç”²ç¸›ã‚Š)", en: "shibari, rope bondage, suspension" },
      { ja: "æ‹˜æŸæ¤…å­", en: "bondage chair, restrained" }
    ],
    "ğŸ“ æ¥µå°éœ²å‡ºãƒ»é£Ÿã„è¾¼ã¿ (Extreme Exposure)": [
      { ja: "ãƒã‚¤ã‚¯ãƒ­ãƒ“ã‚­ãƒ‹", en: "micro bikini" },
      { ja: "ã‚¹ãƒªãƒ³ã‚°ã‚·ãƒ§ãƒƒãƒˆ (Vå­—)", en: "slingshot swimsuit" },
      { ja: "æ¥µå°ä¸‹ç€", en: "micro panties, tiny bra" },
      { ja: "ç©´ã‚ãä¸‹ç€", en: "crotchless panties" },
      { ja: "ç©´ã‚ããƒ–ãƒ©", en: "open bra, cupless bra" },
      { ja: "è‚¡é–“ã‚¸ãƒƒãƒ‘ãƒ¼", en: "zipper crotch" },
      { ja: "ä¹³é¦–é€ã‘", en: "nipples visible through clothes, see-through" },
      { ja: "é€ã‘é€ã‘ã®æœ", en: "transparent clothes, sheer fabric" },
      { ja: "é£Ÿã„è¾¼ã¿ (ãƒãƒ³ç­‹)", en: "cameltoe, clothes tight fit" },
      { ja: "ãŠå°»ã®é£Ÿã„è¾¼ã¿", en: "wedgie, ass focus" }
    ],
    "ğŸ’¦ æ±šæ¿ãƒ»æ¶²ä½“ã¾ã¿ã‚Œ (Messy & Fluids)": [
      { ja: "ç²¾æ¶²ã¾ã¿ã‚Œã®æœ", en: "bukkake on clothes, cum on clothes, stained clothes" },
      { ja: "ç™½æ¿æ¶²ã¾ã¿ã‚Œ", en: "covered in white liquid, sticky texture" },
      { ja: "æ¿¡ã‚Œé€ã‘ (æ¿€)", en: "soaked clothes, wet transparency, clinging to skin" },
      { ja: "æ³¥ãƒ»ã‚ªã‚¤ãƒ«ã¾ã¿ã‚Œ", en: "muddy, covered in oil, shiny skin" },
      { ja: "ç ´ã‚ŒãŸã‚¹ãƒˆãƒƒã‚­ãƒ³ã‚°", en: "torn pantyhose, laddered tights" }
    ]
  };

  const DICT = {
    "nude": "å…¨è£¸", "topless": "ãƒˆãƒƒãƒ—ãƒ¬ã‚¹", "bottomless": "ãƒœãƒˆãƒ ãƒ¬ã‚¹", "pasties only": "ãƒ‹ãƒ—ãƒ¬ã‚¹ã®ã¿",
    "c-string": "å‰è²¼ã‚Š", "hand bra": "æ‰‹ãƒ–ãƒ©", "naked apron": "è£¸ã‚¨ãƒ—ãƒ­ãƒ³", "naked ribbon": "è£¸ãƒªãƒœãƒ³",
    "naked shirt": "è£¸Yã‚·ãƒ£ãƒ„", "naked hoodie": "è£¸ãƒ‘ãƒ¼ã‚«ãƒ¼", "transparent raincoat": "ã‚¹ã‚±ã‚¹ã‚±åˆç¾½",
    "tape outfit": "ãƒ†ãƒ¼ãƒ—æ‹˜æŸæœ", "ribbon mummy": "ãƒªãƒœãƒ³ãƒãƒŸãƒ¼", "body paint outfit": "ãƒœãƒ‡ã‚£ãƒšã‚¤ãƒ³ãƒˆè¡£è£…",
    "bondage outfit": "ãƒœãƒ³ãƒ†ãƒ¼ã‚¸", "latex suit": "ãƒ©ãƒãƒ¼ã‚¹ãƒ¼ãƒ„", "vacuum suit": "çœŸç©ºã‚¹ãƒ¼ãƒ„",
    "harness": "ãƒãƒ¼ãƒã‚¹", "collar and chain": "é¦–è¼ªã¨é–", "ball gag": "çŒ¿è½¡", "blindfold": "ç›®éš ã—",
    "handcuffs": "æ‰‹éŒ ", "shibari": "ç·Šç¸›", "micro bikini": "ãƒã‚¤ã‚¯ãƒ­ãƒ“ã‚­ãƒ‹", "slingshot swimsuit": "ã‚¹ãƒªãƒ³ã‚°ã‚·ãƒ§ãƒƒãƒˆ",
    "crotchless panties": "ç©´ã‚ããƒ‘ãƒ³ãƒ„", "open bra": "ç©´ã‚ããƒ–ãƒ©", "zipper crotch": "è‚¡é–“ã‚¸ãƒƒãƒ‘ãƒ¼",
    "nipples visible through clothes": "ä¹³é¦–é€ã‘", "transparent clothes": "é€ã‘æœ", "cameltoe": "é£Ÿã„è¾¼ã¿(å‰)", "wedgie": "é£Ÿã„è¾¼ã¿(å¾Œ)",
    "bukkake on clothes": "æœã«ç²¾æ¶²", "slime clothes": "ã‚¹ãƒ©ã‚¤ãƒ æœ", "tentacle suit": "è§¦æ‰‹æœ", "melting clothes": "æº¶ã‘ãŸæœ",
    "living monokini": "ç”Ÿä½“ãƒ¢ãƒã‚­ãƒ‹", "organic armor": "ç”Ÿä½“ã‚¢ãƒ¼ãƒãƒ¼", "slime bodysuit": "ã‚¹ãƒ©ã‚¤ãƒ ã‚¹ãƒ¼ãƒ„",
    "pulsing veins": "è„ˆæ‰“ã¤è¡€ç®¡", "flesh wall suit": "è‚‰å£ã‚¹ãƒ¼ãƒ„", "semi-transparent jelly suit": "åŠé€æ˜ã‚¼ãƒªãƒ¼ã‚¹ãƒ¼ãƒ„"
  };

  const API = {
    initUI(container) {
      // R-18ãƒ­ãƒƒã‚¯æ™‚ã¯å³çµ‚äº†
      const IS_UNLOCKED = localStorage.getItem("MY_SECRET_UNLOCK") === "true";
      if (!IS_UNLOCKED) return;

      if (window.__outputTranslation) window.__outputTranslation.register(DICT);
      
      // â˜…ãƒªãƒˆãƒ©ã‚¤åˆ¶é™ä»˜ããƒã‚¦ãƒ³ãƒˆå‡¦ç† (ä¿®æ­£ç®‡æ‰€)
      const mount = (retry = 0) => {
        let parent = document.querySelector("#list-attire");
        
        // è¦ªãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã®ãƒªãƒˆãƒ©ã‚¤å‡¦ç†
        if (!parent) { 
          // 50å›(ç´„5ç§’)è©¦è¡Œã—ã¦ã‚‚ãƒ€ãƒ¡ãªã‚‰è«¦ã‚ã‚‹ï¼ˆç„¡é™ãƒ«ãƒ¼ãƒ—é˜²æ­¢ï¼‰
          if (retry < 50) {
            setTimeout(() => mount(retry + 1), 100);
          } else {
            console.warn("â³ attire.v17 mount skipped: parent #list-attire not found after retries.");
          }
          return; 
        }

        // é‡è¤‡é˜²æ­¢
        if (parent.querySelector(".attire-v17-container")) return;

        // --- UIç”Ÿæˆå‡¦ç† ---
        const createCat = (title, items) => {
          const details = document.createElement("details");
          details.className = "attire-cat attire-r18";
          details.style.cssText = "margin-bottom:6px; border:1px solid #ffcccc; border-radius:4px; background:#fff;";
          const summary = document.createElement("summary");
          summary.textContent = title;
          summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#ffeeee; color:#d00;";
          details.appendChild(summary);
          const content = document.createElement("div");
          content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";
          items.forEach(item => {
            const label = document.createElement("label");
            label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
            const cb = document.createElement("input");
            cb.type = "checkbox"; cb.dataset.en = item.en; cb.style.marginRight = "6px";
            label.appendChild(cb); label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
            content.appendChild(label);
          });
          details.appendChild(content);
          return details;
        };

        const root = document.createElement("div");
        root.className = "attire-v17-container";
        
        const sep = document.createElement("div");
        sep.style.cssText = "margin:15px 0 10px 0; border-top:2px solid #d00; text-align:center; color:#d00; font-size:0.9em; font-weight:bold;";
        
        // â˜…ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆ: å®‰å…¨ãªæ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ«ã«å¤‰æ›´ (çµµæ–‡å­—ã«ã‚ˆã‚‹æ§‹æ–‡ã‚¨ãƒ©ãƒ¼å›é¿)
        sep.textContent = "âš ï¸ R-18 / NSFW (Adult Only)"; 
        
        root.appendChild(sep);
        Object.entries(ATTIRE_DATA).forEach(([cat, items]) => root.appendChild(createCat(cat, items)));
        const contentArea = parent.querySelector(".section-content") || parent;
        contentArea.appendChild(root);
      };

      mount(); // å®Ÿè¡Œ
    },
    getTags() {
      const tags = [];
      const root = document.querySelector(".attire-v17-container");
      if(root) {
        root.querySelectorAll("input:checked").forEach(cb => tags.push(cb.dataset.en));
      }
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();

})();

(function(){
// --- builder_ui.section.attire.v18.js ---
(function(){
  "use strict";
  const VERSION = 18; // æ‹¡å¼µãƒ‘ãƒƒã‚¯Q (ã‚»ã‚¯ã‚·ãƒ¼ãƒ»ã‚³ã‚¹ãƒ—ãƒ¬ãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ’ƒ ã‚»ã‚¯ã‚·ãƒ¼ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ (Sexy Fashion)": [
      { ja: "éœ²å‡ºåº¦ã®é«˜ã„æœ", en: "revealing clothes" },
      { ja: "ã‚­ãƒ£ãƒŸã‚½ãƒ¼ãƒ«ï¼†çŸ­ãƒ‘ãƒ³", en: "camisole, short shorts" },
      { ja: "ã¸ãå‡ºã—ã‚³ãƒ¼ãƒ‡", en: "crop top, midriff, denim shorts" },
      { ja: "èƒ¸å…ƒé–‹ã (ã‚«ãƒƒãƒˆã‚¢ã‚¦ãƒˆ)", en: "cleavage cutout" },
      { ja: "èƒ¸é–‹ãã‚¿ãƒ¼ãƒˆãƒ«", en: "keyhole turtleneck" },
      { ja: "ç«¥è²ã‚’æ®ºã™ã‚»ãƒ¼ã‚¿ãƒ¼", en: "virgin killer sweater, backless sweater" },
      { ja: "æ¨ªä¹³ (ã‚µã‚¤ãƒ‰ãƒ–ãƒ¼ãƒ–)", en: "sideboob" },
      { ja: "ä¸‹ä¹³ (ã‚¢ãƒ³ãƒ€ãƒ¼ãƒ–ãƒ¼ãƒ–)", en: "underboob" },
      { ja: "çµ¶å¯¾é ˜åŸŸ", en: "zettai ryouiki" },
      { ja: "ãƒã‚¤ã‚¹ãƒªãƒƒãƒˆ", en: "high slit" }
    ],
    "ğŸ‘˜ ã‚³ã‚¹ãƒ—ãƒ¬ãƒ»è·æ¥­ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ (Cosplay)": [
      { ja: "ã‚»ã‚¯ã‚·ãƒ¼ãƒŠãƒ¼ã‚¹", en: "nurse, short dress, cleavage, white stockings" },
      { ja: "ã‚»ã‚¯ã‚·ãƒ¼ãƒãƒªã‚¹", en: "police uniform, pencil skirt, unbuttoned shirt" },
      { ja: "ã‚»ã‚¯ã‚·ãƒ¼ãƒãƒ£ã‚¤ãƒŠ", en: "china dress, high slit, cleavage cutout" },
      { ja: "ããƒä¸€ (å¿è€…)", en: "kunoichi, ninja, fishnets" },
      { ja: "ãƒ¡ã‚¤ãƒ‰æœ (ãƒŸãƒ‹)", en: "maid, mini skirt, apron" },
      { ja: "ãƒãƒ‹ãƒ¼ã‚¬ãƒ¼ãƒ«", en: "bunny girl, leotard, fishnets, rabbit ears" },
      { ja: "ãƒ¬ãƒ¼ã‚¹ã‚¯ã‚¤ãƒ¼ãƒ³", en: "race queen, highleg, boots" },
      { ja: "é­”æ³•å°‘å¥³", en: "magical girl, frilled dress, ribbons" },
      { ja: "æ˜æ²»è¢´ (ãƒã‚¤ã‚«ãƒ©)", en: "meiji schoolgirl uniform, hakama, lace-up boots" },
      { ja: "ã‚·ã‚¹ã‚¿ãƒ¼ (è–è·è€…)", en: "nun, nun habit" },
      { ja: "è¸Šã‚Šå­ (ãƒ™ãƒªãƒ¼ãƒ€ãƒ³ã‚¹)", en: "belly dancer, harem outfit" }
    ],
    "ğŸƒ ã‚¹ãƒãƒ¼ãƒ„ãƒ»ã‚¢ã‚¯ãƒ†ã‚£ãƒ– (Sporty & Active)": [
      { ja: "ç«¶æ³³æ°´ç€", en: "competition swimsuit" },
      { ja: "ãƒ¬ã‚ªã‚¿ãƒ¼ãƒ‰", en: "leotard" },
      { ja: "ãƒ¬ã‚¹ãƒªãƒ³ã‚°è¡£è£…", en: "wrestling outfit, singlet" },
      { ja: "ãƒã‚¢ãƒªãƒ¼ãƒ€ãƒ¼", en: "cheerleader, crop top, miniskirt" },
      { ja: "ãƒ†ãƒ‹ã‚¹ã‚¦ã‚§ã‚¢", en: "tennis uniform" },
      { ja: "å…¨èº«ã‚¿ã‚¤ãƒ„ (ã‚¼ãƒ³ã‚¿ã‚¤)", en: "zentai, full body suit" }
    ],
    "ğŸ‘™ ãƒ©ãƒ³ã‚¸ã‚§ãƒªãƒ¼ãƒ»ç‰¹æ®Šã‚¤ãƒ³ãƒŠãƒ¼ (Lingerie & Inner)": [
      { ja: "çŒ«ãƒ©ãƒ³ã‚¸ã‚§ãƒªãƒ¼", en: "cat keyhole lingerie, neko lingerie" },
      { ja: "ãƒ™ãƒ“ãƒ¼ãƒ‰ãƒ¼ãƒ«", en: "babydoll" },
      { ja: "ã‚³ãƒ«ã‚»ãƒƒãƒˆ", en: "corset" },
      { ja: "ã‚¬ãƒ¼ã‚¿ãƒ¼ã‚¹ãƒˆãƒƒã‚­ãƒ³ã‚°", en: "garter belt, stockings" },
      { ja: "ç¶²ã‚¿ã‚¤ãƒ„", en: "fishnets" },
      { ja: "é»’ã‚¹ãƒˆãƒƒã‚­ãƒ³ã‚°", en: "black pantyhose" }
    ],
    "ğŸ›€ ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è¡£è£… (Situational)": [
      { ja: "ãƒã‚¹ã‚¿ã‚ªãƒ«å§¿", en: "towel, towel around body" },
      { ja: "æ¿¡ã‚Œé€ã‘ã‚·ãƒ£ãƒ„", en: "wet shirt, wet clothes" },
      { ja: "ã¯ã ã‘ãŸæµ´è¡£", en: "yukata, open clothes" }
    ]
  };

  const DICT = {
    "revealing clothes": "éœ²å‡ºåº¦ã®é«˜ã„æœ", "camisole": "ã‚­ãƒ£ãƒŸã‚½ãƒ¼ãƒ«", "short shorts": "ã‚·ãƒ§ãƒ¼ãƒˆãƒ‘ãƒ³ãƒ„",
    "crop top": "ã¸ãå‡ºã—ãƒˆãƒƒãƒ—ã‚¹", "cleavage cutout": "èƒ¸å…ƒé–‹ã", "keyhole turtleneck": "èƒ¸é–‹ãã‚¿ãƒ¼ãƒˆãƒ«",
    "virgin killer sweater": "ç«¥è²ã‚’æ®ºã™ã‚»ãƒ¼ã‚¿ãƒ¼", "backless sweater": "èƒŒä¸­é–‹ãã‚»ãƒ¼ã‚¿ãƒ¼",
    "sideboob": "æ¨ªä¹³", "underboob": "ä¸‹ä¹³", "zettai ryouiki": "çµ¶å¯¾é ˜åŸŸ", "high slit": "ãƒã‚¤ã‚¹ãƒªãƒƒãƒˆ",
    "nurse": "ãƒŠãƒ¼ã‚¹", "police uniform": "ãƒãƒªã‚¹", "china dress": "ãƒãƒ£ã‚¤ãƒŠãƒ‰ãƒ¬ã‚¹",
    "kunoichi": "ããƒä¸€", "maid": "ãƒ¡ã‚¤ãƒ‰", "bunny girl": "ãƒãƒ‹ãƒ¼ã‚¬ãƒ¼ãƒ«", "race queen": "ãƒ¬ãƒ¼ã‚¹ã‚¯ã‚¤ãƒ¼ãƒ³",
    "magical girl": "é­”æ³•å°‘å¥³", "meiji schoolgirl uniform": "æ˜æ²»å¥³å­¦ç”Ÿ", "nun": "ã‚·ã‚¹ã‚¿ãƒ¼",
    "belly dancer": "ãƒ™ãƒªãƒ¼ãƒ€ãƒ³ã‚µãƒ¼", "competition swimsuit": "ç«¶æ³³æ°´ç€", "leotard": "ãƒ¬ã‚ªã‚¿ãƒ¼ãƒ‰",
    "wrestling outfit": "ãƒ¬ã‚¹ãƒªãƒ³ã‚°è¡£è£…", "cheerleader": "ãƒã‚¢ãƒªãƒ¼ãƒ€ãƒ¼", "zentai": "å…¨èº«ã‚¿ã‚¤ãƒ„",
    "cat keyhole lingerie": "çŒ«ãƒ©ãƒ³ã‚¸ã‚§ãƒªãƒ¼", "babydoll": "ãƒ™ãƒ“ãƒ¼ãƒ‰ãƒ¼ãƒ«", "corset": "ã‚³ãƒ«ã‚»ãƒƒãƒˆ",
    "towel around body": "ãƒã‚¹ã‚¿ã‚ªãƒ«å·»ã", "wet shirt": "æ¿¡ã‚Œã‚·ãƒ£ãƒ„"
  };

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);
      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat attire-v18";
        details.style.cssText = "margin-bottom:6px; border:1px solid #ddd; border-radius:4px; background:#fff;";
        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f9f0ff; color:#6a0dad;";
        details.appendChild(summary);
        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(130px, 1fr)); gap:6px;";
        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          const cb = document.createElement("input");
          cb.type = "checkbox"; cb.dataset.en = item.en; cb.style.marginRight = "6px";
          label.appendChild(cb); label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v18-container";
      
      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #ccc; text-align:center; color:#888; font-size:0.8em;";
      sep.textContent = "â–¼ ã‚»ã‚¯ã‚·ãƒ¼ & ã‚³ã‚¹ãƒ—ãƒ¬æ‹¡å¼µ (v18 Expanded) â–¼";
      root.appendChild(sep);

      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => root.appendChild(createCat(cat, items)));
      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v18-container input:checked").forEach(cb => tags.push(cb.dataset.en));
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();
})();

(function(){
// --- builder_ui.section.attire.v19.js ---
(function(){
  "use strict";
  const VERSION = 19; // æ‹¡å¼µãƒ‘ãƒƒã‚¯Q (å¹´ä»£åˆ¥ãƒ»ãƒ¬ãƒˆãƒ­ãƒ»æ­´å²çš„ã‚¹ã‚¿ã‚¤ãƒ«)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ’ƒ 1920s-1940s (Jazz & Noir)": [
      { ja: "ãƒ•ãƒ©ãƒƒãƒ‘ãƒ¼ãƒ‰ãƒ¬ã‚¹ (20s)", en: "flapper dress, fringe, beads" },
      { ja: "ãƒ¢ã‚¬ (ãƒ¢ãƒ€ãƒ³ã‚¬ãƒ¼ãƒ«)", en: "moga, taisho roman, kimono and apron" },
      { ja: "ã‚¢ãƒ¼ãƒ«ãƒ‡ã‚³é¢¨", en: "art deco style dress" },
      { ja: "ãƒ•ã‚£ãƒ«ãƒ ãƒ»ãƒãƒ¯ãƒ¼ãƒ« (å¦–è‰¶)", en: "film noir style, femme fatale, evening gown, fur stole" },
      { ja: "æˆ¦æ™‚ä¸­ã®æœ (40s)", en: "1940s fashion, utility clothes, victory rolls hair" }
    ],
    "ğŸ¸ 1950s-1960s (Rock & Mod)": [
      { ja: "æ°´ç‰ãƒ¯ãƒ³ãƒ”ãƒ¼ã‚¹ (50s)", en: "polka dot dress, 1950s fashion" },
      { ja: "ãƒ—ãƒ¼ãƒ‰ãƒ«ã‚¹ã‚«ãƒ¼ãƒˆ", en: "poodle skirt, swing skirt" },
      { ja: "ãƒ­ã‚«ãƒ“ãƒªãƒ¼", en: "rockabilly style" },
      { ja: "ãƒ”ãƒ³ãƒŠãƒƒãƒ—ã‚¬ãƒ¼ãƒ«", en: "pin-up girl, retro swimsuit, high heels" },
      { ja: "ãƒ¢ãƒƒã‚ºãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ (60s)", en: "mod dress, geometric print, mini dress, gogo boots" },
      { ja: "ãƒ’ãƒƒãƒ”ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ« (60s)", en: "hippie clothes, tie-dye, bell bottoms, headband" }
    ],
    "ğŸ•º 1970s-1990s (Disco & Bubble)": [
      { ja: "ãƒ‡ã‚£ã‚¹ã‚³è¡£è£… (70s)", en: "disco outfit, jumpsuit, sequins, afro" },
      { ja: "ãƒ™ãƒ«ãƒœãƒˆãƒ  (ãƒ‘ãƒ³ã‚¿ãƒ­ãƒ³)", en: "bell-bottoms, flared pants" },
      { ja: "ãƒ‘ãƒ¯ãƒ¼ã‚¹ãƒ¼ãƒ„ (80s)", en: "1980s fashion, power suit, shoulder pads" },
      { ja: "ã‚¨ã‚¢ãƒ­ãƒ“ã‚¯ã‚¹ (ãƒ¬ã‚ªã‚¿ãƒ¼ãƒ‰)", en: "aerobics outfit, leotard, leg warmers, headband" },
      { ja: "ãƒãƒ–ãƒ«æ™‚ä»£ã®ãƒœãƒ‡ã‚£ã‚³ãƒ³", en: "bodycon dress, 80s style, fan" },
      { ja: "ã‚°ãƒ©ãƒ³ã‚¸ (90s)", en: "grunge fashion, flannel shirt, ripped jeans, unkempt" },
      { ja: "ã‚³ã‚®ãƒ£ãƒ« (90s)", en: "90s schoolgirl, loose socks, tanned skin" }
    ],
    "ğŸ›ï¸ è²´æ—ãƒ»ãƒ´ã‚£ã‚¯ãƒˆãƒªã‚¢ãƒ³ (Victorian/Royal)": [
      { ja: "èˆè¸ä¼šãƒ‰ãƒ¬ã‚¹ (ãƒœãƒ¼ãƒ«ã‚¬ã‚¦ãƒ³)", en: "ballgown, voluminous skirt" },
      { ja: "ãƒ´ã‚£ã‚¯ãƒˆãƒªã‚¢æœã®ãƒ‰ãƒ¬ã‚¹", en: "victorian dress, bustle, high collar, lace" },
      { ja: "ãƒ­ã‚³ã‚³èª¿ (ãƒãƒªãƒ¼ãƒ»ã‚¢ãƒ³ãƒˆãƒ¯ãƒãƒƒãƒˆ)", en: "rococo dress, pannier, extravagant" },
      { ja: "ã‚¨ãƒ³ãƒ‘ã‚¤ã‚¢ãƒ‰ãƒ¬ã‚¹", en: "empire waist dress, regency era" },
      { ja: "å…¬çˆµå¤«äººã®æœ", en: "duchess outfit, elegant, jewelry" },
      { ja: "ã‚³ãƒ«ã‚»ãƒƒãƒˆãƒ‰ãƒ¬ã‚¹", en: "corset dress, tight lacing" }
    ]
  };

  const DICT = {
    "flapper dress": "ãƒ•ãƒ©ãƒƒãƒ‘ãƒ¼ãƒ‰ãƒ¬ã‚¹", "fringe": "ãƒ•ãƒªãƒ³ã‚¸", "beads": "ãƒ“ãƒ¼ã‚º",
    "moga": "ãƒ¢ãƒ€ãƒ³ã‚¬ãƒ¼ãƒ«", "taisho roman": "å¤§æ­£æµªæ¼«", "art deco": "ã‚¢ãƒ¼ãƒ«ãƒ‡ã‚³",
    "film noir": "ãƒ•ã‚£ãƒ«ãƒ ãƒãƒ¯ãƒ¼ãƒ«", "femme fatale": "ãƒ•ã‚¡ãƒ ãƒ•ã‚¡ã‚¿ãƒ¼ãƒ«",
    "polka dot dress": "æ°´ç‰ãƒ‰ãƒ¬ã‚¹", "poodle skirt": "ãƒ—ãƒ¼ãƒ‰ãƒ«ã‚¹ã‚«ãƒ¼ãƒˆ",
    "rockabilly": "ãƒ­ã‚«ãƒ“ãƒªãƒ¼", "pin-up girl": "ãƒ”ãƒ³ãƒŠãƒƒãƒ—ã‚¬ãƒ¼ãƒ«",
    "mod dress": "ãƒ¢ãƒƒã‚ºãƒ‰ãƒ¬ã‚¹", "geometric print": "å¹¾ä½•å­¦æ¨¡æ§˜", "gogo boots": "ã‚´ãƒ¼ã‚´ãƒ¼ãƒ–ãƒ¼ãƒ„",
    "hippie clothes": "ãƒ’ãƒƒãƒ”ãƒ¼æœ", "tie-dye": "ã‚¿ã‚¤ãƒ€ã‚¤", "bell-bottoms": "ãƒ™ãƒ«ãƒœãƒˆãƒ ",
    "disco outfit": "ãƒ‡ã‚£ã‚¹ã‚³è¡£è£…", "sequins": "ã‚¹ãƒ‘ãƒ³ã‚³ãƒ¼ãƒ«",
    "power suit": "ãƒ‘ãƒ¯ãƒ¼ã‚¹ãƒ¼ãƒ„", "shoulder pads": "è‚©ãƒ‘ãƒƒãƒ‰",
    "aerobics outfit": "ã‚¨ã‚¢ãƒ­ãƒ“è¡£è£…", "leg warmers": "ãƒ¬ãƒƒã‚°ã‚¦ã‚©ãƒ¼ãƒãƒ¼",
    "grunge fashion": "ã‚°ãƒ©ãƒ³ã‚¸", "flannel shirt": "ãƒãƒ«ã‚·ãƒ£ãƒ„",
    "ballgown": "èˆè¸ä¼šãƒ‰ãƒ¬ã‚¹", "victorian dress": "ãƒ´ã‚£ã‚¯ãƒˆãƒªã‚¢ãƒ³ãƒ‰ãƒ¬ã‚¹", "bustle": "ãƒãƒƒã‚¹ãƒ«",
    "rococo dress": "ãƒ­ã‚³ã‚³ãƒ‰ãƒ¬ã‚¹", "pannier": "ãƒ‘ãƒ‹ã‚¨", "empire waist": "ã‚¨ãƒ³ãƒ‘ã‚¤ã‚¢ã‚¦ã‚¨ã‚¹ãƒˆ"
  };

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);
      let parent = document.querySelector("#list-attire");
      if (!parent) return;

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat attire-v19";
        details.style.cssText = "margin-bottom:6px; border:1px solid #dcdcdc; border-radius:4px; background:#fff;";
        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#f0e68c; color:#555;"; // ãƒ¬ãƒˆãƒ­ã£ã½ã„è‰²
        details.appendChild(summary);
        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(140px, 1fr)); gap:6px;";
        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          const cb = document.createElement("input");
          cb.type = "checkbox"; cb.dataset.en = item.en; cb.style.marginRight = "6px";
          label.appendChild(cb); label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });
        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v19-container";
      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #ccc; text-align:center; color:#888; font-size:0.8em;";
      sep.textContent = "â–¼ å¹´ä»£åˆ¥ãƒ»ãƒ¬ãƒˆãƒ­ã‚¹ã‚¿ã‚¤ãƒ« (v19 Retro) â–¼";
      root.appendChild(sep);
      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => root.appendChild(createCat(cat, items)));
      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },
    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v19-container input:checked").forEach(cb => tags.push(cb.dataset.en));
      return tags;
    }
  };
  window.__registerPromptPart(KEY, VERSION, API);
})();
})();


(function(){
// --- builder_ui.section.attire.v20.js ---
(function(){
  "use strict";
  const VERSION = 20; // ç¯€åˆ†ãƒ»é¬¼ (æ—¥æœ¬ä¼æ‰¿ã‚¤ãƒ™ãƒ³ãƒˆ)
  const KEY = "attire";

  const ATTIRE_DATA = {
    "ğŸ‘¹ ç¯€åˆ†ãƒ»é¬¼è¡£è£… (Setsubun Oni Attire)": [
      { ja: "é¬¼ã®è¡£è£… (ã‚ªãƒ‹ã‚³ã‚¹)", en: "oni costume" },
      { ja: "é¬¼ã®ç¾½ç¹”", en: "oni haori" },
      { ja: "é¬¼ã®ç€ç‰©", en: "oni kimono" },
      { ja: "é¬¼ã®è…¹æ›ã‘", en: "oni haragake" },
      { ja: "é¬¼ã®ãµã‚“ã©ã—", en: "oni fundoshi" }
    ],
    "ğŸ¯ è™æŸ„ãƒ»é¬¼ãƒ‘ãƒ³ãƒ„ (Tiger Stripes)": [
      { ja: "è™æŸ„ (ã‚¿ã‚¤ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆ)", en: "tiger print" },
      { ja: "è™ç¸ (ã‚¿ã‚¤ã‚¬ãƒ¼ã‚¹ãƒˆãƒ©ã‚¤ãƒ—)", en: "tiger stripes" },
      { ja: "è™æŸ„ã®ãµã‚“ã©ã—", en: "tiger-striped fundoshi" },
      { ja: "è™æŸ„ã®è…°å¸ƒ", en: "tiger-striped loincloth" },
      { ja: "è™æŸ„ã®ãƒ‘ãƒ³ãƒ„", en: "tiger-striped pants" }
    ]
  };

  const DICT = {};
  Object.values(ATTIRE_DATA).flat().forEach(item => {
    if (item.en && item.ja) DICT[item.en] = item.ja;
  });

  const API = {
    initUI(container) {
      if (window.__outputTranslation) window.__outputTranslation.register(DICT);

      const parent = document.querySelector("#list-attire") || container;
      if (!parent) return;

      // æ—¢å­˜ãŒã‚ã‚Œã°å‰Šé™¤ï¼ˆæ›´æ–°ç”¨ï¼‰
      const existing = parent.querySelector(".attire-v20-container");
      if (existing) existing.remove();

      const createCat = (title, items) => {
        const details = document.createElement("details");
        details.className = "attire-cat";
        details.style.cssText = "margin-bottom:6px; border:1px solid #eee; border-radius:4px; background:#fff;";
        details.open = false;

        const summary = document.createElement("summary");
        summary.textContent = title;
        summary.style.cssText = "font-weight:bold; padding:6px 10px; cursor:pointer; background:#fff8f0; color:#7a3b00;";
        details.appendChild(summary);

        const content = document.createElement("div");
        content.style.cssText = "padding:8px; display:grid; grid-template-columns:repeat(auto-fill, minmax(140px, 1fr)); gap:6px;";

        items.forEach(item => {
          const label = document.createElement("label");
          label.style.cssText = "display:flex; align-items:center; font-size:0.9em; cursor:pointer;";
          const cb = document.createElement("input");
          cb.type = "checkbox";
          cb.dataset.en = item.en;
          cb.style.marginRight = "6px";
          label.appendChild(cb);
          label.appendChild(document.createTextNode(`${item.ja} / ${item.en}`));
          content.appendChild(label);
        });

        details.appendChild(content);
        return details;
      };

      const root = document.createElement("div");
      root.className = "attire-v20-container";

      const sep = document.createElement("div");
      sep.style.cssText = "margin:15px 0 10px 0; border-top:1px dashed #cc9; text-align:center; color:#a66; font-size:0.8em;";
      sep.textContent = "â–¼ ç¯€åˆ†ãƒ»é¬¼ (v20) â–¼";
      root.appendChild(sep);

      Object.entries(ATTIRE_DATA).forEach(([cat, items]) => {
        root.appendChild(createCat(cat, items));
      });

      const contentArea = parent.querySelector(".section-content") || parent;
      contentArea.appendChild(root);
    },

    getTags() {
      const tags = [];
      document.querySelectorAll(".attire-v20-container input[type='checkbox']:checked").forEach(cb => tags.push(cb.dataset.en));
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();

// --- builder_ui.section.attire.v21.js ---
(function(){
  "use strict";
  const VERSION = 21; // ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ (ç‰¹åˆ¥è¡£è£…ã‚»ãƒƒãƒˆæ‹¡å¼µ)
  const KEY = "attire";

  // 56 curated Shima-enaga themed outfit sets (JA title + short EN label + full prompt tag)
  const SETS = [
    // Casual / Daily (7)
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«é›ªè¡—", en:"Shima Casual Snow Street", tag:"Shima-enaga casual outfit, white/gray knit hoodie with feather-lined hood, fluffy faux-fur collar, snowflake embroidery, pastel scarf, winter street fashion"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚†ã‚ã‹ã‚ãƒ‘ãƒ¼ã‚«ãƒ¼", en:"Shima YumeKawa Hoodie", tag:"Shima-enaga pastel casual hoodie, feather trims, cloud-like puff sleeves, cute bird motif patches, soft pastel palette, yume-kawaii streetwear"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»æ˜¥ã®ãƒ©ã‚¤ãƒˆã‚¸ãƒ£ã‚±ãƒƒãƒˆ", en:"Shima Spring Jacket", tag:"Shima-enaga light jacket, white bomber with subtle feather texture, sakura and snowflake mixed embroidery, clean casual look"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»éƒ¨å±‹ç€ã‚‚ãµã‚‚ãµ", en:"Shima Fluffy Loungewear", tag:"Shima-enaga fluffy loungewear set, oversized sweater with feather pattern, soft pajama shorts, cozy home outfit"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚«ãƒ•ã‚§åº—å“¡ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«", en:"Shima Cafe Casual", tag:"Shima-enaga cafe casual uniform, apron with bird face emblem, white shirt, feather hairclip, warm friendly vibe"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚¹ãƒãƒ¼ãƒ„ã‚¸ãƒ£ãƒ¼ã‚¸", en:"Shima Sport Jersey", tag:"Shima-enaga sporty tracksuit, white and ice-blue jersey, feather stripe accents, athletic cute"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ãƒ¬ã‚¤ãƒ³ã‚³ãƒ¼ãƒˆ", en:"Shima Raincoat", tag:"Shima-enaga raincoat, translucent white coat with feather shimmer, waterdrop pattern, hood shaped like bird head"},

    // School / Uniform (7)
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»å­¦åœ’åˆ¶æœãƒ–ãƒ¬ã‚¶ãƒ¼", en:"Shima School Blazer", tag:"Shima-enaga school uniform blazer, white blazer with feather piping, snowflake crest, pleated skirt, ribbon tie"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚»ãƒ¼ãƒ©ãƒ¼æœæ°·å½©", en:"Shima Sailor Ice", tag:"Shima-enaga sailor uniform, icy blue sailor collar, feather-shaped scarf, crisp pleated skirt"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»å†¬åˆ¶æœã‚³ãƒ¼ãƒˆ", en:"Shima Winter Uniform", tag:"Shima-enaga winter school coat, white duffle coat with feather fur trim, snowflake buttons, scarf"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ä½“è‚²ç€ãƒ–ãƒ«ãƒé¢¨", en:"Shima PE Retro", tag:"Shima-enaga retro PE uniform, white and blue gym outfit, sporty bloomers style, feather logo"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»å­¦åœ’ã‚¢ã‚¤ãƒ‰ãƒ«åˆ¶æœ", en:"Shima Idol Uniform", tag:"Shima-enaga idol school uniform, short jacket, layered skirt, feather accessories, stage-ready cute"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»å›³æ›¸å§”å“¡", en:"Shima Library Prefect", tag:"Shima-enaga librarian uniform, cardigan, ribbon, modest skirt, feather bookmark accessories"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ç”Ÿå¾’ä¼šæ­£è£…", en:"Shima Student Council", tag:"Shima-enaga student council uniform, formal white blazer, armband with bird crest, ceremonial vibe"},

    // Force / Tactical (7)
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ•ã‚©ãƒ¼ã‚¹ãƒ»ãƒ•ãƒ­ã‚¹ãƒˆãƒ‘ã‚¤ãƒ­ãƒƒãƒˆ", en:"Force Frost Pilot", tag:"Shima-enaga force pilot suit, sleek white tactical flight suit, icy blue lines, feather armor panels, helmet with bird crest"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ•ã‚©ãƒ¼ã‚¹ãƒ»ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚¹ãƒ¼ãƒ„", en:"Force Operator", tag:"Shima-enaga force operator suit, white stealth bodysuit, feather camo pattern, utility belt, comms headset"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ•ã‚©ãƒ¼ã‚¹ãƒ»ã‚»ãƒ¬ãƒ¢ãƒ‹ãƒ¼ãƒ‰ãƒ¬ã‚¹ãƒ¦ãƒ‹ãƒ•ã‚©ãƒ¼ãƒ ", en:"Force Ceremony Dress", tag:"Shima-enaga force formal uniform dress, high-collar coat dress, feather epaulets, snowflake medals"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ•ã‚©ãƒ¼ã‚¹ãƒ»ãƒ¡ã‚«ãƒ‹ãƒƒã‚¯", en:"Force Mechanic", tag:"Shima-enaga force mechanic jumpsuit, white coverall, feather patch, tool harness, oil smudges, garage vibe"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ•ã‚©ãƒ¼ã‚¹ãƒ»ã‚¹ãƒŠã‚¤ãƒ‘ãƒ¼ã‚®ãƒªãƒ¼", en:"Force Sniper Ghillie", tag:"Shima-enaga force ghillie suit, white feather ghillie, snow camouflage, cold-breath haze"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ•ã‚©ãƒ¼ã‚¹ãƒ»åŒ»ç™‚ç­", en:"Force Medic", tag:"Shima-enaga force medic uniform, white tactical medic coat, feather insignia, medical pouch, clean sterile"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ•ã‚©ãƒ¼ã‚¹ãƒ»è‰¦æ©‹ã‚¯ãƒ«ãƒ¼", en:"Force Bridge Crew", tag:"Shima-enaga force bridge crew uniform, sleek white suit, holographic panels, feather badge"},

    // Dresses / Gowns (7)
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ç¾½è¡£ãƒ¬ã‚¬ãƒªã‚¢", en:"Feather Regalia", tag:"Shima-enaga motif outfit set, white feather bolero, snowflake embroidery, round fluffy A-line silhouette, elegant winter regalia"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒˆã‚†ã‚ã‹ã‚", en:"Street YumeKawa", tag:"Shima-enaga street yume-kawaii dress, pastel layers, feather ribbons, cute bird motifs, playful"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚´ã‚¹ãƒ­ãƒªé›ªå½±", en:"Gothic Snow Lolita", tag:"Shima-enaga gothic lolita dress, black and white, feather lace, snowflake patterns, mini top hat with feathers"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ãƒ›ãƒ¯ã‚¤ãƒˆãƒãƒ¬ã‚¨", en:"White Ballet", tag:"Shima-enaga ballet costume, white tutu like fluffy feathers, delicate snowflake sequins, graceful"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»è–å¤œã®ãƒ‰ãƒ¬ã‚¹", en:"Holy Night Dress", tag:"Shima-enaga holy night gown, luminous white fabric, feather halo accessories, soft glow"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»æ˜Ÿç©ºã®æ­Œå§«", en:"Starlit Diva", tag:"Shima-enaga diva stage dress, shimmering feathers, starry gradient, microphone accessory, spotlight"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»æ°·æ™¶ãƒ—ãƒªãƒ³ã‚»ã‚¹", en:"Ice Crystal Princess", tag:"Shima-enaga princess gown, ice-crystal ornaments, feather cape, glittering snow particles"},

    // China / Eastern (7)
    {ja:"æ”»ã‚ãƒãƒ£ã‚¤ãƒŠãƒ»é›ªç¾½ã‚¹ãƒªãƒƒãƒˆ", en:"Bold Cheongsam Snow", tag:"bold cheongsam dress, Shima-enaga motif, white silk, feather embroidery, high slit, icy jewelry"},
    {ja:"æ”»ã‚ãƒãƒ£ã‚¤ãƒŠãƒ»ã‚µã‚¤ãƒãƒ¼æ°·é¾", en:"Cyber Cheongsam", tag:"cyber cheongsam, Shima-enaga motif, neon ice-blue circuits, feather patterns, futuristic accessories"},
    {ja:"ãƒãƒ£ã‚¤ãƒŠãƒ»ç´”ç™½ç¾½ç´‹", en:"White Feather Cheongsam", tag:"Shima-enaga cheongsam, pure white, feather brocade, snowflake buttons, elegant"},
    {ja:"ãƒãƒ£ã‚¤ãƒŠãƒ»é»’éŠ€é›ªå½±", en:"Black Silver Cheongsam", tag:"Shima-enaga black cheongsam with silver feather embroidery, winter night vibe"},
    {ja:"æ±æ–¹ãƒ»å·«å¥³è£…æŸé›ªç¥ˆ", en:"Miko Snow Prayer", tag:"Shima-enaga miko outfit, white and red, feather tassels, snow shrine atmosphere"},
    {ja:"å’Œæ´‹æŠ˜è¡·ãƒ»ç¾½ç¹”ãƒ‰ãƒ¬ã‚¹", en:"Haori Dress Fusion", tag:"Shima-enaga haori dress fusion, kimono sleeves, modern skirt, feather patterns"},
    {ja:"ä¸­è¯ãƒ»é¾é³³ç¾½å† ", en:"Dragon-Phoenix Crown", tag:"Shima-enaga chinese ceremonial outfit, dragon-phoenix headdress with feathers, ornate silk"},

    // Gravure / Glam (7)
    {ja:"ã‚°ãƒ©ãƒ“ã‚¢ãƒ»ãƒ•ã‚§ã‚¶ãƒ¼æ°´ç€", en:"Feather Swimsuit", tag:"gravure idol costume, Shima-enaga motif swimsuit, white and ice-blue, feather frills, glossy"},
    {ja:"ã‚°ãƒ©ãƒ“ã‚¢ãƒ»ãƒ“ã‚­ãƒ‹é›ªçµæ™¶", en:"Snowflake Bikini", tag:"Shima-enaga snowflake bikini, feather accessories, sparkling ice crystals, beach winter fantasy"},
    {ja:"ã‚°ãƒ©ãƒ“ã‚¢ãƒ»ãƒ©ãƒ³ã‚¸ã‚§ãƒªãƒ¼ç¾½ç´‹", en:"Feather Lingerie", tag:"Shima-enaga motif lingerie set, white lace like feathers, delicate snowflake charms"},
    {ja:"ã‚°ãƒ©ãƒ“ã‚¢ãƒ»ãƒœãƒ‡ã‚£ã‚¹ãƒ¼ãƒ„è‰¶", en:"Gloss Bodysuit", tag:"Shima-enaga glossy bodysuit, feather pattern, sleek silhouette, high-fashion gravure"},
    {ja:"ã‚°ãƒ©ãƒ“ã‚¢ãƒ»ãƒ•ã‚¡ãƒ¼ã‚³ãƒ¼ãƒˆè„±ãã‹ã‘", en:"Half-Off Fur Coat", tag:"Shima-enaga fur coat, feather trim, glamorous pose, teasing fashion (non-explicit)"},
    {ja:"ã‚°ãƒ©ãƒ“ã‚¢ãƒ»ãƒŠã‚¤ãƒˆã‚¯ãƒ©ãƒ–ãƒ‰ãƒ¬ã‚¹", en:"Night Club Dress", tag:"Shima-enaga night club mini dress, feather boa, neon lighting, glam"},
    {ja:"ã‚°ãƒ©ãƒ“ã‚¢ãƒ»æ’®å½±ä¼šã‚»ãƒƒãƒˆ", en:"Photoshoot Set", tag:"Shima-enaga gravure photoshoot outfit, studio lights, feather props, glossy makeup"},

    // Fantasy / Role (7)
    {ja:"ã‚·ãƒé¨å£«ãƒ»ç™½ç¾½ã®é§", en:"Shima Knight", tag:"Shima-enaga knight armor, white feather pauldrons, snowflake crest, elegant plate armor"},
    {ja:"ã‚·ãƒé­”å°å£«ãƒ»æ°·ç´‹ãƒ­ãƒ¼ãƒ–", en:"Shima Mage", tag:"Shima-enaga mage robe, icy runes, feather-lined hood, magical aura"},
    {ja:"ã‚·ãƒå¿è€…ãƒ»é›ªè¿·å½©", en:"Shima Ninja", tag:"Shima-enaga ninja outfit, white stealth suit, feather mask, snow camouflage"},
    {ja:"ã‚·ãƒæµ·è³Šãƒ»ç¾½æ ¹å¸½å­", en:"Shima Pirate", tag:"Shima-enaga pirate outfit, tricorne hat with feathers, white coat, winter sea vibe"},
    {ja:"ã‚·ãƒå¤©ä½¿ãƒ»ç™½ç¾½ã®ç¤¼è£…", en:"Shima Angel", tag:"Shima-enaga angelic attire, feather wings motif, halo, pure white dress"},
    {ja:"ã‚·ãƒæ‚ªé­”ãƒ»é»’ç¾½ã®èª˜æƒ‘", en:"Shima Devil", tag:"Shima-enaga devilish outfit, black feathers, sharp accessories, seductive gothic fashion"},
    {ja:"ã‚·ãƒå·«å¥³ãƒ»é›ªç¥æ¥½", en:"Shima Kagura Miko", tag:"Shima-enaga kagura miko outfit, ceremonial sleeves, feather ornaments, sacred snow"},

    // Seasonal / Event (7)
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»æµ´è¡£å¤æ°·", en:"Shima Yukata", tag:"Shima-enaga yukata, pale blue patterns, feather obi, summer night festival"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ç€ç‰©å†¬ç™½", en:"Shima Kimono", tag:"Shima-enaga kimono, white and gray, feather crest, snowy garden"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚¯ãƒªã‚¹ãƒã‚¹ã‚µãƒ³ã‚¿", en:"Shima Santa", tag:"Shima-enaga santa outfit, fluffy white fur trim, feather pompom, festive"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ãƒãƒ­ã‚¦ã‚£ãƒ³æ¢Ÿé­”å¥³", en:"Shima Owl Witch", tag:"Shima-enaga witch costume, feather hat, moonlight, playful spooky"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»æ–°å¹´æ™´ã‚Œç€", en:"Shima New Year", tag:"Shima-enaga new year haregi, elegant kimono, feather ornament, shrine visit"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ç¯€åˆ†é¬¼ã‹ã‚", en:"Shima Oni Cute", tag:"Shima-enaga cute oni costume, small horns, tiger stripes, feather cape"},
    {ja:"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»èŠ±å«ç´”ç™½", en:"Shima Bride", tag:"Shima-enaga bridal gown, feather veil, snowflake tiara, pure white"}
  ];

  // v66 Attire-specialized expansion shelves (world/use/emotion focused)
  // Each item: {ja, en, tag}  / JA-EN pair required
  const EXTRA_SHELVES = [
    {
      key: "night_fantasy",
      icon: "ğŸŒ™",
      title: "å¤œãƒ»å¹»æƒ³ç³» (Night & Fantasy)",
      idPrefix: "attire_v21_night",
      items: [
        {ja:"æœˆå…‰ãƒ‰ãƒ¬ã‚¹", en:"Moonlight Dress", tag:"moonlight dress, Shima-enaga motif, luminous white silk, feather embroidery, subtle silver glow, night garden atmosphere"},
        {ja:"æ˜Ÿå±‘ãƒ›ãƒ­ã‚°ãƒ©ãƒ è¡£è£…", en:"Stardust Hologram Outfit", tag:"stardust hologram outfit, Shima-enaga motif, iridescent fabric, holographic feather patterns, floating sparkles, cosmic sheen"},
        {ja:"ãƒ«ãƒŸã‚¨ãƒ¼ãƒ«ãƒ»ãƒ¬ã‚¬ãƒªã‚¢é€²åŒ–", en:"Lumiere Regalia Evolved", tag:"Lumiere Regalia evolved, Shima-enaga motif regalia, radiant feather cape, cathedral-light rays, ceremonial elegance"},
        {ja:"å¤œéœ§ã‚·ãƒ¼ã‚¹ãƒ«ãƒ¼ã‚³ãƒ¼ãƒˆ", en:"Nightmist Sheer Coat", tag:"nightmist sheer coat, Shima-enaga motif, translucent organza layers, feather-lined hood, misty glow, moody nocturne"},
        {ja:"å¤©ä½“è¦³æ¸¬ãƒãƒ³ãƒˆ", en:"Celestial Observation Cloak", tag:"celestial observation cloak, Shima-enaga motif, star map embroidery, feather shoulder mantle, telescope strap, midnight sky"},
        {ja:"å¤¢å¹»ãƒªãƒœãƒ³ãƒ‰ãƒ¬ã‚¹", en:"Phantasmal Ribbon Dress", tag:"phantasmal ribbon dress, Shima-enaga motif, flowing feather ribbons, soft luminescent gradients, dreamlike bokeh"},
        {ja:"æœˆè¼ªãƒ˜ã‚¤ãƒ­ãƒ¼ãƒ‰ãƒ¬ã‚¹", en:"Lunar Halo Dress", tag:"lunar halo dress, Shima-enaga motif, halo-like headpiece, pearly fabric, gentle moonbeam lighting"},
        {ja:"æ˜Ÿç¥ˆã‚Šã®ãƒ´ã‚§ãƒ¼ãƒ«", en:"Star-Prayer Veil", tag:"star-prayer veil, Shima-enaga motif, veil with tiny feather constellations, sacred night ritual, quiet glow"}
      ]
    },
    {
      key: "battle_awaken",
      icon: "âš”",
      title: "æˆ¦é—˜ãƒ»è¦šé†’ç³» (Battle & Awakening)",
      idPrefix: "attire_v21_battle",
      items: [
        {ja:"Shima Battle Form", en:"Shima Battle Form", tag:"Shima Battle Form, white tactical armor, feather-plate pauldrons, snowflake crest, combat-ready silhouette"},
        {ja:"Frost Wingæ”¹", en:"Frost Wing Kai", tag:"Frost Wing (Kai), Shima-enaga motif combat suit, reinforced wing-like cape, icy circuitry lines, cold-breath haze"},
        {ja:"ç¥ç£èåˆè¡£è£…", en:"Divine-Beast Fusion Attire", tag:"divine-beast fusion attire, Shima-enaga motif, beast sigils, feather armor hybrid, awakening aura"},
        {ja:"è¦šé†’ã‚³ã‚¢ã‚¢ãƒ¼ãƒãƒ¼", en:"Awakening Core Armor", tag:"awakening core armor, Shima-enaga motif, glowing core chestpiece, feather fins, powered exosuit accents"},
        {ja:"æ–­ç½ªã®ç™½ç¾½è£…æŸ", en:"White Plume Judicator", tag:"white plume judicator garb, Shima-enaga motif, sharp feather pauldrons, ceremonial combat robe, solemn power"},
        {ja:"æˆ¦å ´ãƒ©ã‚¤ãƒˆã‚¢ãƒ¼ãƒãƒ¼", en:"Battlefield Light Armor", tag:"battlefield light armor, Shima-enaga motif, flexible plates, feather mesh undersuit, mobility focused"},
        {ja:"éœŠè£…ãƒ–ãƒ¬ãƒ¼ãƒ‰ã‚³ãƒ¼ãƒˆ", en:"Spirit Blade Coat", tag:"spirit blade coat, Shima-enaga motif, long coat with feather-lined tails, blade harness, awakening glint"},
        {ja:"æŒ‡æ®å®˜ãƒãƒ³ãƒˆã‚¢ãƒ¼ãƒãƒ¼", en:"Commander Cape Armor", tag:"commander cape armor, Shima-enaga motif, feather epaulets, tactical cape, insignia medals"}
      ]
    },
    {
      key: "ritual_luxury",
      icon: "ğŸ’",
      title: "é«˜ç´šãƒ»å„€å¼ç³» (Luxury & Ritual)",
      idPrefix: "attire_v21_ritual",
      items: [
        {ja:"ç‹å† ç¤¼è£…", en:"Crown Regalia", tag:"crown regalia, Shima-enaga motif, jeweled crown, white-gold embroidery, feather brooch, royal ceremony"},
        {ja:"è–å ‚ã‚·ãƒ¼ã‚¹ãƒ«ãƒ¼", en:"Cathedral Sheer Attire", tag:"cathedral sheer attire, Shima-enaga motif, tasteful sheer layers, feather lace, stained-glass glow, sacred elegance"},
        {ja:"å®çŸ³è£…é£¾ãƒ•ãƒ«ãƒ‰ãƒ¬ã‚¹", en:"Jewel-Embellished Full Dress", tag:"jewel-embellished full dress, Shima-enaga motif, gemstone ornaments, feather filigree, premium couture"},
        {ja:"èª“ç´„ã®ãƒ™ãƒ¼ãƒ«", en:"Vow Veil", tag:"vow veil, Shima-enaga motif, feather-stitched veil, snowflake tiara, solemn ritual, soft light"},
        {ja:"è–æ­ŒéšŠç¤¼è£…", en:"Choir Ceremonial Dress", tag:"choir ceremonial dress, Shima-enaga motif, high-collar robe dress, feather trim, hymn atmosphere"},
        {ja:"æ˜Ÿå† ã®å®é£¾ã‚³ãƒ¼ãƒˆ", en:"Star-Crown Jewelry Coat", tag:"star-crown jewelry coat, Shima-enaga motif, white coat with jewel buttons, feather collar, aristocratic"},
        {ja:"å„€å¼ã®ç¾½æ ¹é¦–è¼ªãƒ‰ãƒ¬ã‚¹", en:"Ritual Feather Choker Dress", tag:"ritual feather choker dress, Shima-enaga motif, feather choker, satin gown, incense glow"},
        {ja:"ç™½éŠ€ã®è¬è¦‹ãƒ‰ãƒ¬ã‚¹", en:"Silver Audience Gown", tag:"silver audience gown, Shima-enaga motif, formal audience dress, feather train, palace hall lighting"}
      ]
    },
    {
      key: "ice_winter",
      icon: "ğŸ§Š",
      title: "æ°·é›ªãƒ»å†¬ç‰¹åŒ– (Ice & Winter)",
      idPrefix: "attire_v21_ice",
      items: [
        {ja:"é›ªåŸé å¾è£…å‚™", en:"Snowfield Expedition Gear", tag:"snowfield expedition gear, Shima-enaga motif, insulated coat, feather-lined hood, utility straps, arctic survival"},
        {ja:"æ°·çµé¨å£«", en:"Icebound Knight", tag:"icebound knight armor, Shima-enaga motif, frosted plate armor, feather crests, crystalline edges"},
        {ja:"ç™½ç¾½æ ¹é‡è£…", en:"White-Feather Heavy Armor", tag:"white-feather heavy armor, Shima-enaga motif, layered feather plates, snowflake insignia, heavy defense"},
        {ja:"å¹é›ªå¯¾ç­–ãƒ•ãƒ¼ãƒ‰", en:"Blizzard-Proof Hooded Wear", tag:"blizzard-proof hooded wear, Shima-enaga motif, scarf and goggles, feather fur trim, harsh snowstorm"},
        {ja:"éœœèŠ±ã®å¼å…¸ãƒãƒ³ãƒˆ", en:"Frostflower Ceremonial Mantle", tag:"frostflower ceremonial mantle, Shima-enaga motif, mantle with frostflower embroidery, feather clasp, winter palace"},
        {ja:"æ°·æ™¶ã‚¹ãƒãƒ¼ãƒ–ãƒ¼ãƒ„ã‚»ãƒƒãƒˆ", en:"Ice-Crystal Boots Set", tag:"ice-crystal boots set, Shima-enaga motif, fur-lined boots, crystal ornaments, winter fashion"},
        {ja:"ç™½å¤œã®é å¾ãƒ‰ãƒ¬ã‚¹", en:"Polar Night Expedition Dress", tag:"polar night expedition dress, Shima-enaga motif, warm dress with feather insulation, aurora glow"},
        {ja:"é›ªç¾½ã­ã‚€ã‚Šã‚³ãƒ¼ãƒˆ", en:"Snowfeather Sleep Coat", tag:"snowfeather sleep coat, Shima-enaga motif, oversized fluffy coat, cozy winter rest, soft snow"}
      ]
    },
    {
      key: "stage_diva",
      icon: "ğŸ¤",
      title: "æ­Œå§«ãƒ»èˆå°ç³» (Diva & Stage)",
      idPrefix: "attire_v21_stage",
      items: [
        {ja:"Idol Stage Evolution", en:"Idol Stage Evolution", tag:"idol stage evolution outfit, Shima-enaga motif, layered feather skirt, stage-ready sparkle, spotlight"},
        {ja:"Symphonic Metal Ver.", en:"Symphonic Metal Ver.", tag:"symphonic metal diva outfit, Shima-enaga motif, light armor corset, feather cape, concert lights, powerful"},
        {ja:"Concert Light Armor", en:"Concert Light Armor", tag:"concert light armor, Shima-enaga motif, reflective plates, feather pauldrons, glowstick reflections, stage haze"},
        {ja:"çœ©å…‰ãƒã‚¤ã‚¯ã‚¹ã‚¿ãƒ³ãƒ‰è¡£è£…", en:"Radiant Mic-Stand Outfit", tag:"radiant mic-stand outfit, Shima-enaga motif, elegant coat-dress, mic stand accessory, god rays"},
        {ja:"è¦³å®¢å…‰ç²’å­ãƒ‰ãƒ¬ã‚¹", en:"Audience Light-Particle Dress", tag:"audience light-particle dress, Shima-enaga motif, shimmering particles, feather glitter, crowd silhouettes"},
        {ja:"ãƒ¬ãƒ¼ã‚¶ãƒ¼ãƒªãƒœãƒ³ã‚¹ãƒ†ãƒ¼ã‚¸", en:"Laser Ribbon Stagewear", tag:"laser ribbon stagewear, Shima-enaga motif, ribbon harness, laser beams, feather trims, dynamic show"},
        {ja:"ç™½ç¾½ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ©ç¤¼è£…", en:"Feather Orchestra Dress", tag:"feather orchestra dress, Shima-enaga motif, formal concert dress, feather epaulets, orchestra hall"},
        {ja:"æ˜Ÿé™ã‚‹ã‚¢ãƒ³ã‚³ãƒ¼ãƒ«ãƒ‰ãƒ¬ã‚¹", en:"Encore Starfall Dress", tag:"encore starfall dress, Shima-enaga motif, starfall sequins, feather train, final chorus spotlight"}
      ]
    },
    {
      key: "casual_yumekawa",
      icon: "ğŸŒ¸",
      title: "ã‚†ã‚ã‹ã‚ãƒ»ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«ç‰¹åŒ– (Yumekawa & Casual)",
      idPrefix: "attire_v21_casual",
      items: [
        {ja:"pastel shima street", en:"pastel shima street", tag:"pastel shima streetwear, Shima-enaga motif, pastel bomber, feather patches, cute street vibe"},
        {ja:"ã‚†ã‚‹éƒ¨å±‹ç€", en:"Cozy Loungewear", tag:"cozy loungewear, Shima-enaga motif, oversized sweater, feather pattern, soft shorts, relaxed"},
        {ja:"æ˜¥é¢¨ãƒ©ã‚¤ãƒˆã‚¦ã‚§ã‚¢", en:"Spring Breeze Lightwear", tag:"spring breeze lightwear, Shima-enaga motif, light cardigan, feather hairclip, fresh air"},
        {ja:"ãµã‚ã‚‚ã“ãƒ‘ãƒ¼ã‚«ãƒ¼", en:"Fluffy Sherpa Hoodie", tag:"fluffy sherpa hoodie, Shima-enaga motif, feather-lined hood, cloud-like texture, comfy"},
        {ja:"ãŠã§ã‹ã‘ãƒ¯ãƒ³ãƒ”", en:"Outing One-piece Dress", tag:"outing one-piece dress, Shima-enaga motif, simple cute dress, feather ribbon, casual date"},
        {ja:"å¤œæ›´ã‹ã—ãƒ«ãƒ¼ãƒ ã‚»ãƒƒãƒˆ", en:"Late-Night Room Set", tag:"late-night room set, Shima-enaga motif, comfy knit, feather socks, warm lamp light"},
        {ja:"ã‚¹ãƒ‹ãƒ¼ã‚«ãƒ¼ï¼†ã‚½ãƒƒã‚¯ã‚¹æ˜ ãˆ", en:"Sneakers & Socks Pop", tag:"sneakers and socks pop, Shima-enaga motif, sporty casual, feather logo, playful"},
        {ja:"é›¨ä¸ŠãŒã‚Šãƒ‘ã‚¹ãƒ†ãƒ«", en:"After-Rain Pastel", tag:"after-rain pastel outfit, Shima-enaga motif, light rain jacket, pastel palette, wet street reflection"}
      ]
    },
    {
      key: "tactician",
      icon: "ğŸ§ ",
      title: "æˆ¦ç•¥ãƒ»å‚è¬€ç³» (Tactician & Command)",
      idPrefix: "attire_v21_tact",
      items: [
        {ja:"äºˆè¦‹å¸«ç¤¼è£…", en:"Foresight Strategist Regalia", tag:"foresight strategist regalia, Shima-enaga motif, high-collar formal coat, feather-lined mantle, subtle authority"},
        {ja:"è»å¸«ãƒãƒ³ãƒˆ", en:"Strategist Cape", tag:"strategist cape, Shima-enaga motif, cape with feather edging, tactical insignia, war-room mood"},
        {ja:"æƒ…å ±çµ±åˆ¶ãƒ•ã‚©ãƒ¼ãƒãƒ«", en:"Information-Control Formal", tag:"information-control formal, Shima-enaga motif, sleek suit dress, armband insignia, controlled elegance"},
        {ja:"æŒ‡æ®ç³»çµ±ãƒ™ã‚¹ãƒˆ", en:"Command-Chain Vest", tag:"command-chain vest, Shima-enaga motif, vest with medal bars, feather badge, staff uniform"},
        {ja:"å‚è¬€æœºä¸Šã®ãƒ‰ãƒ¬ã‚¹", en:"War-Room Desk Dress", tag:"war-room desk dress, Shima-enaga motif, smart dress, feather pen accessory, map table light"},
        {ja:"ä½œæˆ¦ç«‹æ¡ˆã‚³ãƒ¼ãƒˆ", en:"Operation Planner Coat", tag:"operation planner coat, Shima-enaga motif, long coat, clipboard, feather epaulets, calm focus"},
        {ja:"å‚è¬€ç¤¼æœï¼ˆå¼å…¸ï¼‰", en:"Ceremonial Staff Uniform", tag:"ceremonial staff uniform, Shima-enaga motif, formal uniform, feather epaulets, medal ribbons"},
        {ja:"æš—å·è§£æã‚¹ãƒ¼ãƒ„", en:"Cipher Analyst Suit", tag:"cipher analyst suit, Shima-enaga motif, minimalist suit, holographic screens glow, analytical aura"}
      ]
    }
  ];

  function uniqueByTag(items){
    const seen = new Set();
    const out = [];
    (items||[]).forEach(it=>{
      const t = String((it && it.tag) || "");
      if(!t) return;
      if(seen.has(t)) return;
      seen.add(t);
      out.push(it);
    });
    return out;
  }


  function escapeHTML(str){
    return String(str||"")
      .replace(/&/g,"&amp;")
      .replace(/</g,"&lt;")
      .replace(/>/g,"&gt;")
      .replace(/"/g,"&quot;")
      .replace(/'/g,"&#39;");
  }

  // Card builder (shared by grouped / flat sections)
  function makeCard(s, idPrefix, index){
    const card = document.createElement("label");
    card.className = "shima-card";
    const id = `${idPrefix}_${index}`;
    const badge = (typeof badgeFor === "function") ? badgeFor(s) : { key: "sh", label: "SHIMA" };
    card.innerHTML = `
      <input id="${id}" type="checkbox" data-en="${escapeHTML(s.tag||"")}">
      <div class="shima-title"><span class="shima-feather">ğŸª¶</span>${escapeHTML(s.ja)}<span class="shima-badge shima-badge-${badge.key}">${badge.label}</span></div>
      <div class="shima-sub">${escapeHTML(s.en)}</div>
    `;
    return card;
  }

  function isSpicy(s){
    const ja = (s.ja||"");
    const tag = (s.tag||"").toLowerCase();
    const en  = (s.en||"").toLowerCase();
    if (ja.includes("ã‚°ãƒ©ãƒ“ã‚¢")) return true;
    if (ja.includes("æ”»ã‚") && ja.includes("ãƒãƒ£ã‚¤ãƒŠ")) return true;
    if (tag.includes("gravure") || tag.includes("lingerie") || tag.includes("bikini") || tag.includes("swimsuit")) return true;
    if (en.includes("bikini") || en.includes("lingerie") || en.includes("swimsuit")) return true;
    return false;
  }

  function badgeFor(s){
    const ja = (s.ja||"");
    const tag = (s.tag||"").toLowerCase();
    if (isSpicy(s)) return {key:"spicy", label:"SPICY"};
    if (ja.includes("åˆ¶æœ") || ja.includes("å­¦åœ’") || ja.includes("å­¦ç”Ÿ") || ja.includes("å›³æ›¸") || ja.includes("ç”Ÿå¾’ä¼š") || tag.includes("uniform")) return {key:"uniform", label:"UNIFORM"};
    if (ja.includes("ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«") || ja.includes("ã‚¹ãƒˆãƒªãƒ¼ãƒˆ") || ja.includes("ã‚†ã‚ã‹ã‚") || ja.includes("ã‚«ãƒ•ã‚§") || tag.includes("casual") || tag.includes("street")) return {key:"casual", label:"CASUAL"};
    if (ja.includes("ãƒ•ã‚©ãƒ¼ã‚¹") || ja.includes("ãƒ‘ã‚¤ãƒ­ãƒƒãƒˆ") || ja.includes("ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼") || tag.includes("force") || tag.includes("tactical") || tag.includes("pilot")) return {key:"force", label:"FORCE"};
    if (ja.includes("ãƒ¬ã‚¬ãƒªã‚¢") || ja.includes("è–å¤œ") || ja.includes("ãƒ—ãƒªãƒ³ã‚»ã‚¹") || ja.includes("ãƒ‰ãƒ¬ã‚¹") || tag.includes("gown") || tag.includes("regalia") || tag.includes("princess")) return {key:"dress", label:"DRESS"};
    return {key:"shima", label:"SHIMA"};
  }


  function ensureStyles(){
    if (document.getElementById("attire-v21-shima-style")) return;
    const st = document.createElement("style");
    st.id = "attire-v21-shima-style";
    st.textContent = `
      /* v51: make Shima wrapper stretch full width even inside flex containers */
      .attire-v21-mounted{display:block!important;width:100%!important;max-width:100%!important;box-sizing:border-box;align-self:stretch!important;flex:1 1 auto!important;}
      .attire-v21-parent{align-items:stretch!important;}
      .attire-v21-shima details{border:1px solid #cfe3ef; background:rgba(255,255,255,0.78); border-radius:14px; overflow:hidden;}
      .attire-v21-shima summary{cursor:pointer; list-style:none; padding:10px 12px; font-weight:800; display:flex; align-items:center; gap:8px;
        background:linear-gradient(90deg, rgba(210,240,255,0.90), rgba(255,255,255,0.70)); color:#123;}
      .attire-v21-shima summary .shima-title-jp{flex:1; min-width:0; white-space:normal; word-break:normal; overflow-wrap:anywhere;}
      .attire-v21-shima summary .shima-count{margin-left:auto; white-space:nowrap;}
      .attire-v21-shima summary.spicy{background:linear-gradient(90deg, rgba(255,225,235,0.90), rgba(255,255,255,0.70));}
      /* v69: make Specialized stand out (featured) without breaking Shima UI */
      .attire-v21-shima details.shima-specialized{border:2px solid rgba(140,110,255,0.28); box-shadow:0 10px 28px rgba(70,40,160,0.10);}
      .attire-v21-shima summary.specialized, .attire-v21-shima details.shima-specialized > summary{
        background:linear-gradient(90deg, rgba(230,235,255,0.96), rgba(255,255,255,0.74));
      }
      .attire-v21-shima .shima-feature-badge{
        margin-left:8px;
        padding:2px 8px;
        border-radius:999px;
        font-size:0.70em;
        font-weight:900;
        letter-spacing:0.06em;
        border:1px solid rgba(0,0,0,0.10);
        background:rgba(255,255,255,0.78);
        color:#3a2a7a;
        white-space:nowrap;
      }
      .attire-v21-shima summary::-webkit-details-marker{display:none;}
      /* v68: ensure Specialized parent does not show native disclosure marker */
      .attire-v21-shima details.shima-specialized > summary{list-style:none;}
      .attire-v21-shima details.shima-specialized > summary::-webkit-details-marker{display:none;}
@media (min-width: 740px){ .attire-v21-shima .shima-grid{grid-template-columns:1fr;} }
      @media (min-width: 980px){ .attire-v21-shima .shima-grid{grid-template-columns:repeat(3,minmax(0,1fr));} }
      .attire-v21-shima .shima-card{
        position:relative;
        display:grid;
        grid-template-columns:28px 1fr;
        grid-auto-rows:min-content;
        column-gap:10px;
        row-gap:6px;
        align-items:start;
        padding:12px;
        border:1px solid rgba(0,0,0,0.08);
        border-radius:12px;
        background:rgba(255,255,255,0.92);
        box-shadow:0 1px 2px rgba(0,0,0,0.04);
        overflow:hidden;
      }
      .attire-v21-shima .shima-card > input[type="checkbox"]{
        grid-column:1;
        grid-row:1 / span 2;
        align-self:start;
        justify-self:start;
        margin-top:4px;
        width:22px; height:22px;
      }

      .attire-v21-shima .shima-card:hover{box-shadow:0 4px 14px rgba(0,0,0,0.10);}
      .attire-v21-shima .shima-card input{ /* checkbox is laid out by grid; keep empty to override legacy */ }
      .attire-v21-shima .shima-title{margin-left:0; font-size:0.95em; font-weight:900; color:#122; line-height:1.10;
        white-space:normal; word-break:keep-all; overflow-wrap:anywhere;}
      .attire-v21-shima .shima-sub{margin-left:0; margin-top:4px; font-size:0.78em; color:#345; line-height:1.15;
        white-space:normal; overflow-wrap:anywhere; word-break:break-word;}
      .attire-v21-shima .shima-title{grid-column:2; grid-row:1;}
      .attire-v21-shima .shima-sub{grid-column:2; grid-row:2;}
      .attire-v21-shima .shima-feather{opacity:0.95; margin-right:6px;}
      .attire-v21-shima .shima-badge{display:inline-block; margin-left:8px; padding:2px 8px; border-radius:999px; font-size:0.70em;
        font-weight:900; letter-spacing:0.02em; vertical-align:middle; border:1px solid rgba(0,0,0,0.08); background:rgba(220,240,255,0.85); color:#124;white-space:nowrap;}
      .attire-v21-shima .shima-badge-uniform{background:rgba(225,255,235,0.90); color:#124;}
      .attire-v21-shima .shima-badge-casual{background:rgba(240,235,255,0.90); color:#124;}
      .attire-v21-shima .shima-badge-force{background:rgba(230,245,255,0.90); color:#124;}
      .attire-v21-shima .shima-badge-dress{background:rgba(235,250,255,0.90); color:#124;}
      .attire-v21-shima .shima-badge-spicy{background:rgba(255,230,240,0.92); color:#400;}
    
@media (max-width: 560px){
.attire-v21-shima .shima-title-en{display:none !important;}
}

/* Shima grouped subsections */
.attire-subsection{margin:10px 0;border:1px solid rgba(0,0,0,.08);border-radius:12px;overflow:hidden;background:#fff;}
.attire-subsummary{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 12px;cursor:pointer;user-select:none;font-weight:700;background:rgba(0,0,0,.03);}
.attire-subsummary::-webkit-details-marker{display:none;}
.attire-subtitle{font-size:14px;line-height:1.2;}
.attire-subcount{min-width:2.2em;text-align:center;font-weight:800;padding:2px 8px;border-radius:999px;background:rgba(0,0,0,.06);}

.attire-v21-shima .attire-subsummary{ min-width:0; }
.attire-v21-shima .attire-subtitle{
  flex:1; min-width:0;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
@media (max-width:560px){
  .attire-v21-shima .attire-subtitle{ white-space:normal; overflow:visible; text-overflow:clip; }
}


/* v44 mobile readability: hide EN to avoid vertical wrap; stretch shima cards full width */
.attire-v21-shima .shima-grid{width:100%;justify-items:stretch}
.attire-v21-shima .shima-card{width:100%;max-width:none;justify-self:stretch;box-sizing:border-box}
@media (max-width:520px){
  .attire-v21-shima .shima-sub{display:none !important}
}


/* v53: force Shima root to span full row in parent grids */
.attire-v21-parent > .attire-v21-shima{grid-column:1/-1!important;width:100%!important;max-width:100%!important;justify-self:stretch!important;align-self:stretch!important;}
/* v45: force Shima panels to full width (fix left-aligned/narrow column on mobile) */
.attire-v21-shima .shima-grouped-body{width:100%!important;box-sizing:border-box;padding-left:0;padding-right:0;}
.attire-v21-shima .shima-panels{display:flex!important;flex-direction:column!important;align-items:stretch!important;width:100%!important;box-sizing:border-box;margin:0;}
.attire-v21-shima .shima-panels > details{width:100%!important;display:block!important;}
.attire-v21-shima .shima-grouped{width:100%!important;max-width:100%!important;display:block!important;box-sizing:border-box;grid-column:1/-1;justify-self:stretch;align-self:stretch;flex-basis:100%;}
.attire-v21-shima .shima-grouped > summary{width:100%!important;display:block!important;box-sizing:border-box;}
.attire-v21-shima details{width:100%!important;box-sizing:border-box;}
/* v50: even stronger full-width enforcement (covers nested details + summary) */
.attire-v21-shima details.shima-grouped{display:block!important;width:100%!important;max-width:100%!important;box-sizing:border-box;}
.attire-v21-shima details.shima-grouped > summary{display:flex!important;width:100%!important;box-sizing:border-box;}
.attire-v21-shima details.shima-grouped .shima-grouped-body{width:100%!important;max-width:100%!important;box-sizing:border-box;}
.attire-v21-shima details.shima-grouped .shima-panels{width:100%!important;max-width:100%!important;box-sizing:border-box;}
.attire-v21-shima details.shima-grouped .shima-panels > details{display:block!important;width:100%!important;max-width:100%!important;box-sizing:border-box;}
.attire-v21-shima details.shima-grouped .shima-panels > details > summary{width:100%!important;box-sizing:border-box;}

.attire-v21-shima summary{width:100%!important;box-sizing:border-box;}
.attire-v21-shima .shima-grid{display:grid!important;width:100%!important;justify-items:stretch;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;}
@media (max-width:520px){.attire-v21-shima .shima-grid{grid-template-columns:1fr !important;}}
@media (min-width:980px){.attire-v21-shima .shima-grid{grid-template-columns:repeat(3,minmax(0,1fr));}}


      /* v63: FORCE single-column for Shima grouped body + panels */
      .attire-v21-shima .shima-grouped-body{display:block!important;grid-template-columns:1fr!important;grid-auto-flow:row!important;}
      .attire-v21-shima .shima-panels{display:block!important;width:100%!important;max-width:none!important;}

      /* v58: FORCE single-column for Shima panels + kill any fixed-width rows inside accordion content */
      .attire-v21-shima .shima-panels{display:block!important;flex-direction:column!important;align-items:stretch!important;}
      .attire-v21-shima .shima-panels>*{width:100%!important;max-width:none!important;flex:0 0 auto!important;}
      .attire-v21-shima details.accordion-wrap,
      .attire-v21-shima details.accordion-wrap > .section-content,
      .attire-v21-shima details.accordion-wrap .section-content,
      .attire-v21-shima details.accordion-wrap .box,
      .attire-v21-shima details.accordion-wrap .box > *,
      .attire-v21-shima details.accordion-wrap .items,
      .attire-v21-shima details.accordion-wrap .item,
      .attire-v21-shima details.accordion-wrap .opt,
      .attire-v21-shima details.accordion-wrap .opt-row,
      .attire-v21-shima details.accordion-wrap label{
        width:100%!important;
        max-width:none!important;
        box-sizing:border-box!important;
      }
      .attire-v21-shima details.accordion-wrap .opt-row,
      .attire-v21-shima details.accordion-wrap .item{
        display:flex!important;
      }
      .attire-v21-shima details.accordion-wrap .opt-row>*,
      .attire-v21-shima details.accordion-wrap .item>*{
        min-width:0!important;
      }

      /* If there is a second empty panel, collapse it */
      .attire-v21-shima .shima-panels > :nth-child(2):empty{display:none!important;}
      .attire-v21-shima .shima-panels > :nth-child(2):not(:empty){width:100%!important;max-width:none!important;}

`;
    document.head.appendChild(st);
    // Also inject into shadow roots (mobile/encapsulated UI)
    try{
      document.querySelectorAll('.attire-v21-shima').forEach((host)=>{
        if(host && host.shadowRoot){
          if(!host.shadowRoot.querySelector('#attire-v21-shima-style')){
            const clone = st.cloneNode(true);
            host.shadowRoot.appendChild(clone);
          }
        }
      });
    }catch(e){}

  }

  const API = {
    initUI(parent){
      // Robust mount: some core call sites may invoke initUI with no args.
      if(!parent){
        parent = document.getElementById("section-attire") || document.getElementById("list-attire") || document.body;
      }
      ensureStyles();
      const listRoot = (document.getElementById("list-attire") || parent);
      const details = (listRoot && listRoot.querySelector) ? listRoot.querySelector("details.accordion-wrap") : null;
      const accordionBody = details ? (details.querySelector(".accordion-body") || details.querySelector(".accordion-content") || details) : null;
      const contentArea = accordionBody || ((parent && parent.querySelector) ? (parent.querySelector(".section-content") || parent) : (document.getElementById("list-attire") || document.body));
      try{ if(contentArea && contentArea.classList) contentArea.classList.add('attire-v21-parent'); }catch(e){}

      // avoid double mount
      if (contentArea.querySelector(".attire-v21-shima")) return;

      const wrap = document.createElement("div");
      wrap.className = "attire-v21-shima";
  // v53: make Shima root span full width even inside grid/flex parents
  try{wrap.style.cssText += ";width:100%!important;max-width:100%!important;box-sizing:border-box;grid-column:1/-1!important;justify-self:stretch!important;align-self:stretch!important;flex:1 1 100%!important;";}catch(e){}

      wrap.classList.add("attire-v21-mounted");
      // v51: force wrapper to full width even if parent aligns flex-start
      wrap.style.display='block';
      wrap.style.width='100%';
      wrap.style.maxWidth='100%';
      wrap.style.boxSizing='border-box';
      wrap.style.alignSelf='stretch';
      wrap.style.flex='1 1 auto';

      const isSpicy = (s)=>{
        const ja = String(s?.ja||"");
        const en = String(s?.en||"");
        const tag = String(s?.tag||"").toLowerCase();
        return ja.includes("æ”»ã‚") || ja.includes("ã‚°ãƒ©ãƒ“ã‚¢") || en.toLowerCase().includes("bold") || en.toLowerCase().includes("gravure") || tag.includes("gravure") || tag.includes("lingerie") || tag.includes("bikini") || tag.includes("swimsuit") || tag.includes("night club");
      };

      const spicySets = SETS.filter(isSpicy);
      const shimaSets = SETS.filter(s=>!isSpicy(s));

      
function splitTitle(title){
  const s = String(title||"").trim();
  const m = s.match(/^(.*?)\s*\((.*?)\)\s*$/);
  if(!m) return {jp:s, en:""};
  return {jp:(m[1]||"").trim(), en:(m[2]||"").trim()};
}

function buildSection(opts){
        const details = document.createElement("details");
        details.open = !!opts.open;
  // v50: force full-width for each nested <details> accordion section
  details.style.display = "block";
  details.style.width = "100%";
  details.style.maxWidth = "100%";
  details.style.boxSizing = "border-box";


        // â–¼ v47: force details to full width on mobile (prevents shrink-to-content)
        details.style.cssText = "display: block !important; width: 100% !important; margin-bottom: 8px;";

        const summary = document.createElement("summary");
        summary.className = opts.summaryClass || "";
        const t = splitTitle(opts.title);
        summary.innerHTML = `<span class="shima-feather">${opts.icon}</span> ` +
          `<span class="shima-title-jp">${escapeHTML(t.jp)}</span>` +
          ((!opts.hideEn && t.en) ? ` <span class="shima-title-en">(${escapeHTML(t.en)})</span>` : ``) +
          ` <span style="margin-left:auto; font-weight:800; color:#234; font-size:0.92em;">${opts.count}</span>`;
        details.appendChild(summary);

        const grid = document.createElement("div");
        grid.className = "shima-grid";

        opts.items.forEach((s, i) => {
          const card = document.createElement("label");
          card.className = "shima-card";
          const id = `${opts.idPrefix}_${i}`;
          const badge = badgeFor(s);

          card.innerHTML = `
            <input id="${id}" type="checkbox" data-en="${escapeHTML(s.tag||"")}">
            <div class="shima-title"><span class="shima-feather">ğŸª¶</span>${escapeHTML(s.ja)}<span class="shima-badge shima-badge-${badge.key}">${badge.label}</span></div>
            <div class="shima-sub">${escapeHTML(s.en)}</div>
          `;
          grid.appendChild(card);
        });

        details.appendChild(grid);
        return details;
      }

      // Build fixed groups (keeps the original curated order; excludes spicy items automatically)
      const GROUPS = [
        { title: "æ—¥å¸¸ãƒ»ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«", icon: "ğŸ§£", items: SETS.slice(0,7).filter(s=>!isSpicy(s)) },
        { title: "å­¦åœ’ãƒ»åˆ¶æœ", icon: "ğŸ“", items: SETS.slice(7,14).filter(s=>!isSpicy(s)) },
        { title: "ãƒ•ã‚©ãƒ¼ã‚¹ãƒ»æˆ¦è¡“", icon: "ğŸ›¡ï¸", items: SETS.slice(14,21).filter(s=>!isSpicy(s)) },
        { title: "ãƒ‰ãƒ¬ã‚¹ãƒ»ç¤¼è£…", icon: "ğŸ‘—", items: SETS.slice(21,28).filter(s=>!isSpicy(s)) },
        { title: "æ±æ–¹ãƒ»ä¸­è¯", icon: "ğŸ‰", items: SETS.slice(28,35).filter(s=>!isSpicy(s)) },
        { title: "ç•°ä¸–ç•Œãƒ»ãƒ­ãƒ¼ãƒ«", icon: "âœ¨", items: SETS.slice(42,49).filter(s=>!isSpicy(s)) },
        { title: "å­£ç¯€ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆ", icon: "ğŸ", items: SETS.slice(49,56).filter(s=>!isSpicy(s)) },
      ].filter(g=>g.items && g.items.length);


      // Grouped variant for Shima-enaga Collection (nested subsections)
      function buildShimaGroupedSection(opts){
  const wrap = document.createElement("details");
  wrap.className = "shima-grouped";
	  // NOTE: diagnostic outline removed (was causing a visible magenta frame around the section)
wrap.open = false;
  // v54: force this grouped block to span full row in grid/flex layouts (fix narrow left column)
  try{
    wrap.style.width = "100%";
    wrap.style.maxWidth = "100%";
    wrap.style.display = "block";
    wrap.style.boxSizing = "border-box";
    wrap.style.gridColumn = "1 / -1";
    wrap.style.justifySelf = "stretch";
    wrap.style.alignSelf = "stretch";
    wrap.style.flexBasis = "100%";
  }catch(e){}

  const title = document.createElement("summary");
  title.className = "shima-grouped-title";
  title.innerHTML = `${opts.icon||""} ${opts.title||"ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³"} <span class="shima-count">${opts.count||""}</span>`;

  const body = document.createElement("div");
  body.className = "shima-grouped-body";

  const panelsWrap = document.createElement("div");
  panelsWrap.className = "shima-panels";

  GROUPS.forEach(g=>{
    const panel = buildSection({
      title: g.title,
      icon: g.icon,
      items: g.items,
      count: (g.items?g.items.length:0),
      idPrefix: opts.idPrefix,
      badge: g.badge,
      summaryClass: "shima-accordion",
      hideEn: true
    });
    panelsWrap.appendChild(panel);
  });

  body.appendChild(panelsWrap);

  
// v56 DIAG: overlay panel to print actual computed widths/styles (mobile debug)
// Release build: disabled by default. Enable only with URL parameter ?diag=1
try{
  const __shDiag = (typeof location !== 'undefined') && /(?:\?|&)diag=1(?:&|$)/.test(location.search);
  if(__shDiag && !window.__SHIMA_ATTIRE_DIAG_PANEL__){
    window.__SHIMA_ATTIRE_DIAG_PANEL__ = true;
    const panel = document.createElement('div');
    panel.id = 'shima-attire-diag';
    panel.style.cssText = [
      'position:fixed','left:8px','top:8px','z-index:2147483647',
      'background:rgba(0,0,0,0.72)','color:#fff','padding:8px 10px',
      'border-radius:10px','font:12px/1.25 monospace','max-width:92vw',
      'white-space:pre','pointer-events:auto'
    ].join(';');
    panel.addEventListener('click', ()=>{ panel.style.opacity = (panel.style.opacity==='0.15'?'1':'0.15'); });
    document.body.appendChild(panel);

    const fmt = (el,label)=>{
      if(!el) return label+': (null)';
      const r = el.getBoundingClientRect();
      const cs = getComputedStyle(el);
      const w = Math.round(r.width);
      const ml = cs.marginLeft, mr = cs.marginRight;
      const disp = cs.display;
      const pos = cs.position;
      const mw = cs.maxWidth;
      const fw = cs.flexWrap;
      const ai = cs.alignItems;
      const jc = cs.justifyContent;
      const col = cs.gridTemplateColumns;
      return `${label}: w=${w}px, display=${disp}, pos=${pos}, maxW=${mw}, mL=${ml}, mR=${mr}, flexWrap=${fw}, alignItems=${ai}, justify=${jc}, gridCols=${col}`;
    };

    const update = ()=>{
      const host = document.querySelector('.attire-v21-shima') || document.querySelector('[data-section="attire"]') || document.body;
      const lines = [];
      lines.push('SHIMA ATTIRE DIAG (tap to fade)');
      lines.push(`viewport: ${window.innerWidth}x${window.innerHeight}, dpr=${window.devicePixelRatio}`);
      lines.push(fmt(host,'.attire-v21-shima(host)'));
      lines.push(fmt(host.querySelector('.shima-grouped-body'),'.shima-grouped-body'));
      lines.push(fmt(host.querySelector('.shima-panels'),'.shima-panels'));
      lines.push(fmt(host.querySelector('.shima-panels > details'),'.shima-panels>details(first)'));
      lines.push(fmt(host.querySelector('.shima-panels > details > summary'),'.details>summary(first)'));
      lines.push(fmt(host.querySelector('.shima-grouped-span'),'.shima-grouped-span'));
      lines.push(fmt(host.querySelector('.shima-grouped-row'),'.shima-grouped-row'));
// ancestor chain: find who is constraining width
function nodeLabel(el){
  if(!el) return '(null)';
  var cls = (el.className && typeof el.className==='string') ? el.className.trim() : '';
  cls = cls ? ('.'+cls.split(/\s+/).slice(0,4).join('.')) : '';
  return el.tagName.toLowerCase()+cls;
}
function styleSummary(el){
  if(!el) return '(null)';
  var cs = getComputedStyle(el);
  var r = el.getBoundingClientRect();
  return 'w=' + Math.round(r.width) + 'px'
    + ', maxW=' + cs.maxWidth
    + ', minW=' + cs.minWidth
    + ', disp=' + cs.display
    + ', pos=' + cs.position
    + ', flex=' + cs.flex
    + ', flexDir=' + cs.flexDirection
    + ', align=' + cs.alignItems
    + ', justify=' + cs.justifyContent
    + ', box=' + cs.boxSizing
    + ', padLR=' + cs.paddingLeft + '/' + cs.paddingRight
    + ', marLR=' + cs.marginLeft + '/' + cs.marginRight;
}
lines.push('--- ancestors (host -> up) ---');
var cur = host;
for(var i=0;i<14 && cur;i++){
  lines.push(i + ': ' + nodeLabel(cur) + ' | ' + styleSummary(cur));
  cur = cur.parentElement;
}
      panel.textContent = lines.join('\n');
    };

    update();
    window.addEventListener('resize', ()=>requestAnimationFrame(update));
    document.addEventListener('toggle', ()=>requestAnimationFrame(update), true);
    document.addEventListener('click', ()=>setTimeout(update,0), true);
  }else{
    // already exists, refresh once
    const p=document.getElementById('shima-attire-diag');
    if(p) p.style.display='block';
  }
}catch(e){}

wrap.appendChild(title);
  wrap.appendChild(body);
  return wrap;
}
            // v67: line-separate specialized attire into a single parent accordion (keeps Shima UI stable)
      function buildSpecializedContainer(opts){
        const det = document.createElement("details");
        det.className = "shima-specialized";
        det.open = !!opts.open;
        det.style.display = "block";
        det.style.width = "100%";
        det.style.maxWidth = "100%";
        det.style.boxSizing = "border-box";
        det.style.cssText = "display: block !important; width: 100% !important; margin-bottom: 8px;";

        const summary = document.createElement("summary");
        // v69: featured styling hook
        summary.className = "specialized";
        const t = splitTitle(opts.title);
        summary.innerHTML = `<span class="shima-feather">${opts.icon}</span> ` +
          `<span class="shima-title-jp">${escapeHTML(t.jp)}</span>` +
          ` <span class="shima-feature-badge">FEATURED</span>` +
          ((t.en) ? ` <span class="shima-title-en">(${escapeHTML(t.en)})</span>` : ``) +
          ` <span style="margin-left:auto; font-weight:800; color:#234; font-size:0.92em;">${opts.count}</span>`;
        det.appendChild(summary);

        const box = document.createElement("div");
        box.className = "shima-specialized-body";
        box.style.display = "block";
        box.style.width = "100%";
        box.style.maxWidth = "100%";
        box.style.boxSizing = "border-box";
        box.style.paddingTop = "8px";
        det.appendChild(box);

        return {det, box};
      }

      // Specialized count = total selectable cards inside specialized subtree
      let specializedCount = 0;
      specializedCount += (shimaSets ? shimaSets.length : 0);
      specializedCount += (spicySets ? spicySets.length : 0);
      try{
        EXTRA_SHELVES.forEach(shelf=>{
          const items = uniqueByTag(shelf.items || []);
          specializedCount += items.length;
        });
      }catch(e){}

      const specialized = buildSpecializedContainer({
        icon: "ğŸœ‚",
        title: "ç‰¹æ®Šãƒ»ç‰¹åŒ–è¡£è£… (Specialized Attire)",
        count: specializedCount,
        open: false
      });

      // Put all specialized shelves inside the parent container (line separation)
      specialized.box.appendChild(buildShimaGroupedSection({
        idPrefix: "attire_v21_shima",
        icon: "ğŸ¦",
        title: "ã‚·ãƒã‚¨ãƒŠã‚¬ãƒ»ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ (Shima-enaga Collection)",
        count: shimaSets.length,
        items: shimaSets,
        open: false
      }));

      if (spicySets.length){
        specialized.box.appendChild(buildSection({
          idPrefix: "attire_v21_spicy",
          icon: "ğŸŒ¶ï¸",
          title: "æ”»ã‚ãƒ»ã‚°ãƒ©ãƒ“ã‚¢ (Spicy & Glam)",
          count: spicySets.length,
          items: spicySets,
          open: false,
          summaryClass: "spicy"
        }));
      }

      // v66 shelves (world/use/emotion focused) live under the specialized parent too
      EXTRA_SHELVES.forEach(shelf=>{
        const items = uniqueByTag(shelf.items || []);
        if (!items.length) return;
        specialized.box.appendChild(buildSection({
          idPrefix: shelf.idPrefix,
          icon: shelf.icon,
          title: shelf.title,
          count: items.length,
          items: items,
          open: false
        }));
      });

      wrap.appendChild(specialized.det);

      // v69: Featured Specialized should appear at the top of the Attire section list.
      // Insert the Shima UI block at the beginning of the accordion body (not at the bottom).
      if (contentArea && contentArea.insertBefore){
        contentArea.insertBefore(wrap, contentArea.firstChild || null);
      } else if(listRoot && listRoot.insertBefore){
        listRoot.insertBefore(wrap, listRoot.firstChild || null);
      } else {
        (parent || document.body).appendChild(wrap);
      }
    },

    getTags(){
      const tags = [];
      document.querySelectorAll(".attire-v21-shima input[type='checkbox']:checked").forEach(cb => {
        const v = cb.dataset.en;
        if (v) tags.push(v);
      });
      return tags;
    }
  };

  window.__registerPromptPart(KEY, VERSION, API);
})();
})();


// --- Attire Mobile Debug Overlay (no-PC) ---
(function(){
  "use strict";
  function isEnabled(){
    try{
      if (typeof location !== "undefined" && location && typeof location.search === "string"){
        if (/(?:\?|&)attire_debug=1(?:&|$)/.test(location.search)) return true;
      }
      return (typeof localStorage !== "undefined" && localStorage.getItem("ATTIRE_DEBUG") === "1");
    }catch(e){ return false; }
  }

  function safeStringify(obj){
    try{
      return JSON.stringify(obj, function(k,v){
        if (v && v.nodeType) return "[DOMNode]";
        if (typeof v === "function") return "[Function]";
        return v;
      }, 2);
    }catch(e){
      try{ return String(obj); }catch(_){ return "[unstringifiable]"; }
    }
  }

  function make(tag, attrs, text){
    var el = document.createElement(tag);
    if (attrs){
      Object.keys(attrs).forEach(function(k){
        if (k === "style" && attrs.style && typeof attrs.style === "object"){
          Object.assign(el.style, attrs.style);
        } else if (k === "onclick"){
          el.addEventListener("click", attrs.onclick);
        } else {
          el.setAttribute(k, attrs[k]);
        }
      });
    }
    if (text != null) el.textContent = text;
    return el;
  }

  function ensurePanel(){
    if (document.getElementById("__attire_debug_panel__")) return document.getElementById("__attire_debug_panel__");

    var panel = make("div", { id: "__attire_debug_panel__", style: {
      position: "fixed", left: "8px", bottom: "8px", zIndex: 2147483647,
      width: "min(92vw, 520px)", maxHeight: "55vh",
      background: "rgba(0,0,0,0.78)", color: "#fff",
      fontFamily: "ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace",
      fontSize: "12px", borderRadius: "12px", boxShadow: "0 8px 28px rgba(0,0,0,0.35)",
      overflow: "hidden"
    }});

    var header = make("div", { style: { display: "flex", gap: "6px", alignItems: "center", padding: "10px", borderBottom: "1px solid rgba(255,255,255,0.15)" }});
    header.appendChild(make("div", { style: { fontWeight: "700", marginRight: "auto" }}, "ATTIRE DEBUG"));

    var btnDump = make("button", { style: { padding: "6px 10px", borderRadius: "10px", border: "0", background: "rgba(255,255,255,0.14)", color: "#fff" },
      onclick: function(){ dump(); }
    }, "Dump");

    var btnRemount = make("button", { style: { padding: "6px 10px", borderRadius: "10px", border: "0", background: "rgba(255,255,255,0.14)", color: "#fff" },
      onclick: function(){
        try{
          if (typeof window.__triggerUIMount === "function") window.__triggerUIMount();
          logLine("called __triggerUIMount()");
        }catch(e){ logLine("remount error: " + (e && e.message ? e.message : e)); }
      }
    }, "Remount");

    var btnShow = make("button", { style: { padding: "6px 10px", borderRadius: "10px", border: "0", background: "rgba(255,255,255,0.14)", color: "#fff" },
      onclick: function(){ panel.style.display = "none"; toggleBtn.style.display = "block"; }
    }, "Hide");

    header.appendChild(btnDump);
    header.appendChild(btnRemount);
    header.appendChild(btnShow);

    var body = make("div", { style: { padding: "8px 10px" }});

    var hint = make("div", { style: { opacity: "0.9", marginBottom: "8px", lineHeight: "1.35" }},
      "Enable: ?attire_debug=1  /  Persist: press 'Persist ON'\nUse 'Dump' then copy log."
    );
    body.appendChild(hint);

    var row2 = make("div", { style: { display: "flex", gap: "6px", flexWrap: "wrap", marginBottom: "8px" }});

    var btnPersistOn = make("button", { style: { padding: "6px 10px", borderRadius: "10px", border: "0", background: "rgba(90,200,90,0.22)", color: "#fff" },
      onclick: function(){
        try{ localStorage.setItem("ATTIRE_DEBUG","1"); logLine("Persist ON (localStorage ATTIRE_DEBUG=1)"); }catch(e){ logLine("Persist ON failed: "+e); }
      }
    }, "Persist ON");

    var btnPersistOff = make("button", { style: { padding: "6px 10px", borderRadius: "10px", border: "0", background: "rgba(255,90,90,0.22)", color: "#fff" },
      onclick: function(){
        try{ localStorage.removeItem("ATTIRE_DEBUG"); logLine("Persist OFF (localStorage cleared)"); }catch(e){ logLine("Persist OFF failed: "+e); }
      }
    }, "Persist OFF");

    var btnMakeVisible = make("button", { style: { padding: "6px 10px", borderRadius: "10px", border: "0", background: "rgba(255,255,255,0.14)", color: "#fff" },
      onclick: function(){
        try{
          var nodes = document.querySelectorAll('[data-section="attire"], .attire, [class*="attire"]');
          nodes.forEach(function(n){
            try{ n.style.display="block"; n.style.visibility="visible"; n.style.opacity="1"; }catch(_){}
          });
          logLine("forced visible on " + nodes.length + " nodes");
        }catch(e){ logLine("MakeVisible error: "+e); }
      }
    }, "MakeVisible");

    var btnCopy = make("button", { style: { padding: "6px 10px", borderRadius: "10px", border: "0", background: "rgba(255,255,255,0.14)", color: "#fff" },
      onclick: async function(){
        try{
          var txt = textarea.value || "";
          if (!txt) { logLine("nothing to copy"); return; }
          if (navigator.clipboard && navigator.clipboard.writeText){
            await navigator.clipboard.writeText(txt);
            logLine("copied to clipboard");
          } else {
            textarea.focus(); textarea.select();
            document.execCommand("copy");
            logLine("copied (execCommand)");
          }
        }catch(e){ logLine("copy failed: "+e); }
      }
    }, "CopyLog");

    row2.appendChild(btnPersistOn);
    row2.appendChild(btnPersistOff);
    row2.appendChild(btnMakeVisible);
    row2.appendChild(btnCopy);
    body.appendChild(row2);

    var textarea = make("textarea", { id: "__attire_debug_log__", style: {
      width: "100%", height: "26vh", minHeight: "140px",
      background: "rgba(255,255,255,0.06)", color: "#fff",
      border: "1px solid rgba(255,255,255,0.18)", borderRadius: "10px",
      padding: "8px", boxSizing: "border-box", resize: "vertical", outline: "none"
    }});
    body.appendChild(textarea);

    panel.appendChild(header);
    panel.appendChild(body);
    document.body.appendChild(panel);

    var toggleBtn = make("button", { id: "__attire_debug_toggle__", style: {
      position: "fixed", left: "8px", bottom: "8px", zIndex: 2147483646,
      padding: "10px 12px", borderRadius: "999px", border: "0",
      background: "rgba(0,0,0,0.72)", color: "#fff",
      display: "none", boxShadow: "0 8px 28px rgba(0,0,0,0.35)"
    }, onclick: function(){ panel.style.display="block"; toggleBtn.style.display="none"; }}, "ATTIRE DBG");
    document.body.appendChild(toggleBtn);

    function logLine(s){
      var t = new Date().toISOString().replace("T"," ").replace("Z","");
      textarea.value += (textarea.value ? "\n" : "") + "["+t+"] " + s;
      textarea.scrollTop = textarea.scrollHeight;
    }
    function dump(){
      try{
        var pp = window.__PROMPT_PARTS__ || {};
        var attire = pp.attire || pp["attire"] || null;
        var versions = attire ? Object.keys(attire).sort(function(a,b){return (+a)-(+b);}) : [];
        var list = document.getElementById("list-attire");
        var domCount = list ? list.querySelectorAll("*").length : 0;
        var shimaCount = document.querySelectorAll(".attire-v21-shima").length;
        var spicyCount = document.querySelectorAll(".attire-v21-spicy").length;
        var containers = {
          sections: !!document.querySelector("#sections"),
          listAttire: !!document.querySelector("#list-attire"),
          sectionContent: !!document.querySelector("#list-attire .section-content"),
          accordionWrap: !!document.querySelector("#list-attire details.accordion-wrap"),
          body: !!document.body
        };
        var payload = {
          ua: navigator.userAgent,
          url: String(location.href),
          attire_versions: versions,
          attire_apis: attire ? versions.reduce(function(acc,v){
            var a = attire[v];
            acc[v] = { hasInitUI: typeof a?.initUI === "function", mounted: !!a?._mounted, keys: Object.keys(a||{}).slice(0,20) };
            return acc;
          }, {}) : null,
          attire_dom_count: domCount,
          attire_shima_nodes: shimaCount,
          attire_spicy_nodes: spicyCount,
          containers: containers
        };
        textarea.value = safeStringify(payload);
        logLine("dump ok (versions=" + versions.length + ", dom=" + domCount + ")");
        // also mirror to console if available
        try{ console.log("[ATTIRE DEBUG]", payload); }catch(_){}
      }catch(e){
        logLine("dump error: " + (e && e.stack ? e.stack : e));
      }
    }

    // expose small helpers
    window.__ATTIRE_DEBUG__ = { dump: dump };

    logLine("panel ready");
    // auto dump once
    setTimeout(function(){ dump(); }, 600);

    return panel;
  }

  function boot(){
    try{
      if (!isEnabled()) return;
      if (!document || !document.body) return;
      ensurePanel();
    }catch(e){}
  }

  if (document.readyState === "complete" || document.readyState === "interactive"){
    setTimeout(boot, 0);
  } else {
    document.addEventListener("DOMContentLoaded", boot);
  }
})();
